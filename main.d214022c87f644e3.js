(self.webpackChunkapp=self.webpackChunkapp||[]).push([[179],{6217:(Jt,it,V)=>{"use strict";V.d(it,{nm:()=>ni});var c=V(2122);V(4650),V(259);var Be=V(5861),Je=V(9681),Qe=V(4859),Ve=V(2090),Ge=V(1877);const te=new Map,Ze={activated:!1,tokenObservers:[]},le={initialized:!1,enabled:!1};function ye(nt){return te.get(nt)||Object.assign({},Ze)}function Me(){return le}class Ot{constructor(ut,It,Zt,un,In){if(this.operation=ut,this.retryPolicy=It,this.getWaitDuration=Zt,this.lowerBound=un,this.upperBound=In,this.pending=null,this.nextErrorWaitInterval=un,un>In)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(ut){var It=this;return(0,Be.Z)(function*(){It.stop();try{It.pending=new Ve.BH,yield function pt(nt){return new Promise(ut=>{setTimeout(ut,nt)})}(It.getNextRun(ut)),It.pending.resolve(),yield It.pending.promise,It.pending=new Ve.BH,yield It.operation(),It.pending.resolve(),yield It.pending.promise,It.process(!0).catch(()=>{})}catch(Zt){It.retryPolicy(Zt)?It.process(!1).catch(()=>{}):It.stop()}})()}getNextRun(ut){if(ut)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const It=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),It}}}const st=new Ve.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function Kt(nt){if(!ye(nt).activated)throw st.create("use-before-activation",{appName:nt.name})}function sr(nt,ut){return Wn.apply(this,arguments)}function Wn(){return(Wn=(0,Be.Z)(function*({url:nt,body:ut},It){const Zt={"Content-Type":"application/json"},un=It.getImmediate({optional:!0});if(un){const gn=yield un.getHeartbeatsHeader();gn&&(Zt["X-Firebase-Client"]=gn)}const In={method:"POST",body:JSON.stringify(ut),headers:Zt};let Xn,Or;try{Xn=yield fetch(nt,In)}catch(gn){throw st.create("fetch-network-error",{originalErrorMessage:null==gn?void 0:gn.message})}if(200!==Xn.status)throw st.create("fetch-status-error",{httpStatus:Xn.status});try{Or=yield Xn.json()}catch(gn){throw st.create("fetch-parse-error",{originalErrorMessage:null==gn?void 0:gn.message})}const Lr=Or.ttl.match(/^([\d.]+)(s)$/);if(!Lr||!Lr[2]||isNaN(Number(Lr[1])))throw st.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${Or.ttl}`});const vi=1e3*Number(Lr[1]),ir=Date.now();return{token:Or.token,expireTimeMillis:ir+vi,issuedAtTimeMillis:ir}})).apply(this,arguments)}function Mr(nt,ut){const{projectId:It,appId:Zt,apiKey:un}=nt.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${It}/apps/${Zt}:exchangeDebugToken?key=${un}`,body:{debug_token:ut}}}const ai="firebase-app-check-store";let Ur=null;function hn(){return Ur||(Ur=new Promise((nt,ut)=>{try{const It=indexedDB.open("firebase-app-check-database",1);It.onsuccess=Zt=>{nt(Zt.target.result)},It.onerror=Zt=>{var un;ut(st.create("storage-open",{originalErrorMessage:null===(un=Zt.target.error)||void 0===un?void 0:un.message}))},It.onupgradeneeded=Zt=>{0===Zt.oldVersion&&Zt.target.result.createObjectStore(ai,{keyPath:"compositeKey"})}}catch(It){ut(st.create("storage-open",{originalErrorMessage:null==It?void 0:It.message}))}}),Ur)}function xn(){return(xn=(0,Be.Z)(function*(nt,ut){const Zt=(yield hn()).transaction(ai,"readwrite"),In=Zt.objectStore(ai).put({compositeKey:nt,value:ut});return new Promise((Xn,Or)=>{In.onsuccess=Lr=>{Xn()},Zt.onerror=Lr=>{var vi;Or(st.create("storage-set",{originalErrorMessage:null===(vi=Lr.target.error)||void 0===vi?void 0:vi.message}))}})})).apply(this,arguments)}const _r=new Ge.Yd("@firebase/app-check");function xi(nt,ut){return(0,Ve.hl)()?function gr(nt,ut){return function Oi(nt,ut){return xn.apply(this,arguments)}(function zn(nt){return`${nt.options.appId}-${nt.name}`}(nt),ut)}(nt,ut).catch(It=>{_r.warn(`Failed to write token to IndexedDB. Error: ${It}`)}):Promise.resolve()}function is(){return Me().enabled}function ar(){return li.apply(this,arguments)}function li(){return(li=(0,Be.Z)(function*(){const nt=Me();if(nt.enabled&&nt.token)return nt.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const sn={error:"UNKNOWN_ERROR"};function qt(nt){return Ve.US.encodeString(JSON.stringify(nt),!1)}function gt(nt){return Fe.apply(this,arguments)}function Fe(){return(Fe=(0,Be.Z)(function*(nt,ut=!1){const It=nt.app;Kt(It);const Zt=ye(It);let In,un=Zt.token;if(un&&!At(un)&&(Zt.token=void 0,un=void 0),!un){const Lr=yield Zt.cachedTokenPromise;Lr&&(At(Lr)?un=Lr:yield xi(It,void 0))}if(!ut&&un&&At(un))return{token:un.token};let Or,Xn=!1;if(is()){Zt.exchangeTokenPromise||(Zt.exchangeTokenPromise=sr(Mr(It,yield ar()),nt.heartbeatServiceProvider).finally(()=>{Zt.exchangeTokenPromise=void 0}),Xn=!0);const Lr=yield Zt.exchangeTokenPromise;return yield xi(It,Lr),Zt.token=Lr,{token:Lr.token}}try{Zt.exchangeTokenPromise||(Zt.exchangeTokenPromise=Zt.provider.getToken().finally(()=>{Zt.exchangeTokenPromise=void 0}),Xn=!0),un=yield ye(It).exchangeTokenPromise}catch(Lr){"appCheck/throttled"===Lr.code?_r.warn(Lr.message):_r.error(Lr),In=Lr}return un?In?Or=At(un)?{token:un.token,internalError:In}:ct(In):(Or={token:un.token},Zt.token=un,yield xi(It,un)):Or=ct(In),Xn&&ze(It,Or),Or})).apply(this,arguments)}function xt(nt,ut){const It=ye(nt),Zt=It.tokenObservers.filter(un=>un.next!==ut);0===Zt.length&&It.tokenRefresher&&It.tokenRefresher.isRunning()&&It.tokenRefresher.stop(),It.tokenObservers=Zt}function ge(nt){const{app:ut}=nt,It=ye(ut);let Zt=It.tokenRefresher;Zt||(Zt=function De(nt){const{app:ut}=nt;return new Ot((0,Be.Z)(function*(){let Zt;if(Zt=ye(ut).token?yield gt(nt,!0):yield gt(nt),Zt.error)throw Zt.error;if(Zt.internalError)throw Zt.internalError}),()=>!0,()=>{const It=ye(ut);if(It.token){let Zt=It.token.issuedAtTimeMillis+.5*(It.token.expireTimeMillis-It.token.issuedAtTimeMillis)+3e5;return Zt=Math.min(Zt,It.token.expireTimeMillis-3e5),Math.max(0,Zt-Date.now())}return 0},3e4,96e4)}(nt),It.tokenRefresher=Zt),!Zt.isRunning()&&It.isTokenAutoRefreshEnabled&&Zt.start()}function ze(nt,ut){const It=ye(nt).tokenObservers;for(const Zt of It)try{"EXTERNAL"===Zt.type&&null!=ut.error?Zt.error(ut.error):Zt.next(ut)}catch(un){}}function At(nt){return nt.expireTimeMillis-Date.now()>0}function ct(nt){return{token:qt(sn),error:nt}}class ln{constructor(ut,It){this.app=ut,this.heartbeatServiceProvider=It}_delete(){const{tokenObservers:ut}=ye(this.app);for(const It of ut)xt(this.app,It.next);return Promise.resolve()}}const tr="app-check-internal";!function Fr(){(0,Je._registerComponent)(new Qe.wA("app-check",nt=>function $n(nt,ut){return new ln(nt,ut)}(nt.getProvider("app").getImmediate(),nt.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((nt,ut,It)=>{nt.getProvider(tr).initialize()})),(0,Je._registerComponent)(new Qe.wA(tr,nt=>function Ht(nt){return{getToken:ut=>gt(nt,ut),addTokenListener:ut=>function Ke(nt,ut,It,Zt){const{app:un}=nt,In=ye(un);if(In.tokenObservers=[...In.tokenObservers,{next:It,error:Zt,type:ut}],In.token&&At(In.token)){const Or=In.token;Promise.resolve().then(()=>{It({token:Or.token}),ge(nt)}).catch(()=>{})}In.cachedTokenPromise.then(()=>ge(nt))}(nt,"INTERNAL",ut),removeTokenListener:ut=>xt(nt.app,ut)}}(nt.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Je.registerVersion)("@firebase/app-check","0.6.3")}();class ni{constructor(){return(0,c.vb)("app-check")}}typeof window<"u"&&window},9659:(Jt,it,V)=>{"use strict";V.d(it,{ST:()=>$v,yb:()=>t0});var c=V(4650),J=V(4986),G=V(9751),Ae=V(8996),_e=V(9646),ke=V(2122),ve=V(8675),Pe=V(4482),Ne=V(5403);function we(){return(0,Pe.e)((o,e)=>{let n,a=!1;o.subscribe((0,Ne.x)(e,f=>{const v=n;n=f,a&&e.next([v,f]),a=!0}))})}var te,he=V(4004),me=V(5026),Re=V(1884),We=V(9300),je=V(2011),Et=V(6895),Ce=(V(407),V(3942)),fe=V(5861),He=V(9681),Be=V(4859),Je=V(1877),Qe=V(2090),Ve=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ge={},Ze=Ze||{},le=Ve||self;function ye(){}function xe(o){var e=typeof o;return"array"==(e="object"!=e?e:o?Array.isArray(o)?"array":e:"null")||"object"==e&&"number"==typeof o.length}function Me(o){var e=typeof o;return"object"==e&&null!=o||"function"==e}var Bt="closure_uid_"+(1e9*Math.random()>>>0),on=0;function Rt(o,e,n){return o.call.apply(o.bind,arguments)}function bt(o,e,n){if(!o)throw Error();if(2<arguments.length){var a=Array.prototype.slice.call(arguments,2);return function(){var f=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(f,a),o.apply(e,f)}}return function(){return o.apply(e,arguments)}}function ft(o,e,n){return(ft=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Rt:bt).apply(null,arguments)}function Ot(o,e){var n=Array.prototype.slice.call(arguments,1);return function(){var a=n.slice();return a.push.apply(a,arguments),o.apply(this,a)}}function pt(o,e){function n(){}n.prototype=e.prototype,o.X=e.prototype,o.prototype=new n,o.prototype.constructor=o,o.Wb=function(a,f,v){for(var w=Array(arguments.length-2),R=2;R<arguments.length;R++)w[R-2]=arguments[R];return e.prototype[f].apply(a,w)}}function wt(){this.s=this.s,this.o=this.o}wt.prototype.s=!1,wt.prototype.na=function(){!this.s&&(this.s=!0,this.M(),0)&&function Xe(o){Object.prototype.hasOwnProperty.call(o,Bt)&&o[Bt]||(o[Bt]=++on)}(this)},wt.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const nn=Array.prototype.indexOf?function(o,e){return Array.prototype.indexOf.call(o,e,void 0)}:function(o,e){if("string"==typeof o)return"string"!=typeof e||1!=e.length?-1:o.indexOf(e,0);for(let n=0;n<o.length;n++)if(n in o&&o[n]===e)return n;return-1};function Kt(o){const e=o.length;if(0<e){const n=Array(e);for(let a=0;a<e;a++)n[a]=o[a];return n}return[]}function en(o,e){for(let n=1;n<arguments.length;n++){const a=arguments[n];if(xe(a)){const f=o.length||0,v=a.length||0;o.length=f+v;for(let w=0;w<v;w++)o[f+w]=a[w]}else o.push(a)}}function Nn(o,e){this.type=o,this.g=this.target=e,this.defaultPrevented=!1}Nn.prototype.h=function(){this.defaultPrevented=!0};var sr=function(){if(!le.addEventListener||!Object.defineProperty)return!1;var o=!1,e=Object.defineProperty({},"passive",{get:function(){o=!0}});try{le.addEventListener("test",ye,e),le.removeEventListener("test",ye,e)}catch(n){}return o}();function Wn(o){return/^[\s\xa0]*$/.test(o)}var or=String.prototype.trim?function(o){return o.trim()}:function(o){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(o)[1]};function cr(o,e){return o<e?-1:o>e?1:0}function Mr(){var o=le.navigator;return o&&(o=o.userAgent)?o:""}function Vr(o){return-1!=Mr().indexOf(o)}function Dn(o){return Dn[" "](o),o}Dn[" "]=ye;var Oi,o,Wt=Vr("Opera"),Ur=Vr("Trident")||Vr("MSIE"),hn=Vr("Edge"),ui=hn||Ur,gr=Vr("Gecko")&&!(-1!=Mr().toLowerCase().indexOf("webkit")&&!Vr("Edge"))&&!(Vr("Trident")||Vr("MSIE"))&&!Vr("Edge"),vr=-1!=Mr().toLowerCase().indexOf("webkit")&&!Vr("Edge");function Si(){var o=le.document;return o?o.documentMode:void 0}e:{var xn="",On=(o=Mr(),gr?/rv:([^\);]+)(\)|;)/.exec(o):hn?/Edge\/([\d\.]+)/.exec(o):Ur?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(o):vr?/WebKit\/(\S+)/.exec(o):Wt?/(?:Version)[ \/]?(\S+)/.exec(o):void 0);if(On&&(xn=On?On[1]:""),Ur){var fn=Si();if(null!=fn&&fn>parseFloat(xn)){Oi=String(fn);break e}}Oi=xn}var zn={};var xi=le.document&&Ur&&(Si()||parseInt(Oi,10))||void 0;function ki(o,e){if(Nn.call(this,o?o.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,o){var n=this.type=o.type,a=o.changedTouches&&o.changedTouches.length?o.changedTouches[0]:null;if(this.target=o.target||o.srcElement,this.g=e,e=o.relatedTarget){if(gr){e:{try{Dn(e.nodeName);var f=!0;break e}catch(v){}f=!1}f||(e=null)}}else"mouseover"==n?e=o.fromElement:"mouseout"==n&&(e=o.toElement);this.relatedTarget=e,a?(this.clientX=void 0!==a.clientX?a.clientX:a.pageX,this.clientY=void 0!==a.clientY?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0):(this.clientX=void 0!==o.clientX?o.clientX:o.pageX,this.clientY=void 0!==o.clientY?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0),this.button=o.button,this.key=o.key||"",this.ctrlKey=o.ctrlKey,this.altKey=o.altKey,this.shiftKey=o.shiftKey,this.metaKey=o.metaKey,this.pointerId=o.pointerId||0,this.pointerType="string"==typeof o.pointerType?o.pointerType:Rr[o.pointerType]||"",this.state=o.state,this.i=o,o.defaultPrevented&&ki.X.h.call(this)}}pt(ki,Nn);var Rr={2:"touch",3:"pen",4:"mouse"};ki.prototype.h=function(){ki.X.h.call(this);var o=this.i;o.preventDefault?o.preventDefault():o.returnValue=!1};var is="closure_listenable_"+(1e6*Math.random()|0),ar=0;function li(o,e,n,a,f){this.listener=o,this.proxy=null,this.src=e,this.type=n,this.capture=!!a,this.ha=f,this.key=++ar,this.ba=this.ea=!1}function fr(o){o.ba=!0,o.listener=null,o.proxy=null,o.src=null,o.ha=null}function sn(o,e,n){for(const a in o)e.call(n,o[a],a,o)}function qt(o){const e={};for(const n in o)e[n]=o[n];return e}const gt="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Fe(o,e){let n,a;for(let f=1;f<arguments.length;f++){for(n in a=arguments[f],a)o[n]=a[n];for(let v=0;v<gt.length;v++)n=gt[v],Object.prototype.hasOwnProperty.call(a,n)&&(o[n]=a[n])}}function Ke(o){this.src=o,this.g={},this.h=0}function xt(o,e){var n=e.type;if(n in o.g){var v,a=o.g[n],f=nn(a,e);(v=0<=f)&&Array.prototype.splice.call(a,f,1),v&&(fr(e),0==o.g[n].length&&(delete o.g[n],o.h--))}}function ge(o,e,n,a){for(var f=0;f<o.length;++f){var v=o[f];if(!v.ba&&v.listener==e&&v.capture==!!n&&v.ha==a)return f}return-1}Ke.prototype.add=function(o,e,n,a,f){var v=o.toString();(o=this.g[v])||(o=this.g[v]=[],this.h++);var w=ge(o,e,a,f);return-1<w?(e=o[w],n||(e.ea=!1)):((e=new li(e,this.src,v,!!a,f)).ea=n,o.push(e)),e};var De="closure_lm_"+(1e6*Math.random()|0),ze={};function At(o,e,n,a,f){if(a&&a.once)return $n(o,e,n,a,f);if(Array.isArray(e)){for(var v=0;v<e.length;v++)At(o,e[v],n,a,f);return null}return n=ht(n),o&&o[is]?o.N(e,n,Me(a)?!!a.capture:!!a,f):ct(o,e,n,!1,a,f)}function ct(o,e,n,a,f,v){if(!e)throw Error("Invalid event type");var w=Me(f)?!!f.capture:!!f,R=Oe(o);if(R||(o[De]=R=new Ke(o)),(n=R.add(e,n,a,w,v)).proxy)return n;if(a=function ln(){const e=tt;return function o(n){return e.call(o.src,o.listener,n)}}(),n.proxy=a,a.src=o,a.listener=n,o.addEventListener)sr||(f=w),void 0===f&&(f=!1),o.addEventListener(e.toString(),a,f);else if(o.attachEvent)o.attachEvent(pn(e.toString()),a);else{if(!o.addListener||!o.removeListener)throw Error("addEventListener and attachEvent are unavailable.");o.addListener(a)}return n}function $n(o,e,n,a,f){if(Array.isArray(e)){for(var v=0;v<e.length;v++)$n(o,e[v],n,a,f);return null}return n=ht(n),o&&o[is]?o.O(e,n,Me(a)?!!a.capture:!!a,f):ct(o,e,n,!0,a,f)}function Ht(o,e,n,a,f){if(Array.isArray(e))for(var v=0;v<e.length;v++)Ht(o,e[v],n,a,f);else a=Me(a)?!!a.capture:!!a,n=ht(n),o&&o[is]?(o=o.i,(e=String(e).toString())in o.g&&-1<(n=ge(v=o.g[e],n,a,f))&&(fr(v[n]),Array.prototype.splice.call(v,n,1),0==v.length&&(delete o.g[e],o.h--))):o&&(o=Oe(o))&&(e=o.g[e.toString()],o=-1,e&&(o=ge(e,n,a,f)),(n=-1<o?e[o]:null)&&Tr(n))}function Tr(o){if("number"!=typeof o&&o&&!o.ba){var e=o.src;if(e&&e[is])xt(e.i,o);else{var n=o.type,a=o.proxy;e.removeEventListener?e.removeEventListener(n,a,o.capture):e.detachEvent?e.detachEvent(pn(n),a):e.addListener&&e.removeListener&&e.removeListener(a),(n=Oe(e))?(xt(n,o),0==n.h&&(n.src=null,e[De]=null)):fr(o)}}}function pn(o){return o in ze?ze[o]:ze[o]="on"+o}function tt(o,e){if(o.ba)o=!0;else{e=new ki(e,this);var n=o.listener,a=o.ha||o.src;o.ea&&Tr(o),o=n.call(a,e)}return o}function Oe(o){return(o=o[De])instanceof Ke?o:null}var Te="__closure_events_fn_"+(1e9*Math.random()>>>0);function ht(o){return"function"==typeof o?o:(o[Te]||(o[Te]=function(e){return o.handleEvent(e)}),o[Te])}function vt(){wt.call(this),this.i=new Ke(this),this.P=this,this.I=null}function Tn(o,e){var n,a=o.I;if(a)for(n=[];a;a=a.I)n.push(a);if(o=o.P,a=e.type||e,"string"==typeof e)e=new Nn(e,o);else if(e instanceof Nn)e.target=e.target||o;else{var f=e;Fe(e=new Nn(a,o),f)}if(f=!0,n)for(var v=n.length-1;0<=v;v--){var w=e.g=n[v];f=nr(w,a,!0,e)&&f}if(f=nr(w=e.g=o,a,!0,e)&&f,f=nr(w,a,!1,e)&&f,n)for(v=0;v<n.length;v++)f=nr(w=e.g=n[v],a,!1,e)&&f}function nr(o,e,n,a){if(!(e=o.i.g[String(e)]))return!0;e=e.concat();for(var f=!0,v=0;v<e.length;++v){var w=e[v];if(w&&!w.ba&&w.capture==n){var R=w.listener,W=w.ha||w.src;w.ea&&xt(o.i,w),f=!1!==R.call(W,a)&&f}}return f&&!a.defaultPrevented}pt(vt,wt),vt.prototype[is]=!0,vt.prototype.removeEventListener=function(o,e,n,a){Ht(this,o,e,n,a)},vt.prototype.M=function(){if(vt.X.M.call(this),this.i){var e,o=this.i;for(e in o.g){for(var n=o.g[e],a=0;a<n.length;a++)fr(n[a]);delete o.g[e],o.h--}}this.I=null},vt.prototype.N=function(o,e,n,a){return this.i.add(String(o),e,!1,n,a)},vt.prototype.O=function(o,e,n,a){return this.i.add(String(o),e,!0,n,a)};var Yr=le.JSON.stringify;function Zr(){var o=gi;let e=null;return o.g&&(e=o.g,o.g=o.g.next,o.g||(o.h=null),e.next=null),e}var ti,ei=new class{constructor(o,e){this.i=o,this.j=e,this.h=0,this.g=null}get(){let o;return 0<this.h?(this.h--,o=this.g,this.g=o.next,o.next=null):o=this.i(),o}}(()=>new xr,o=>o.reset());class xr{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function Ps(o){le.setTimeout(()=>{throw o},0)}function ss(o,e){ti||function ps(){var o=le.Promise.resolve(void 0);ti=function(){o.then(Fi)}}(),mr||(ti(),mr=!0),gi.add(o,e)}var mr=!1,gi=new class wi{constructor(){this.h=this.g=null}add(e,n){const a=ei.get();a.set(e,n),this.h?this.h.next=a:this.g=a,this.h=a}};function Fi(){for(var o;o=Zr();){try{o.h.call(o.g)}catch(n){Ps(n)}var e=ei;e.j(o),100>e.h&&(e.h++,o.next=e.g,e.g=o)}mr=!1}function ci(o,e){vt.call(this),this.h=o||1,this.g=e||le,this.j=ft(this.lb,this),this.l=Date.now()}function Jr(o){o.ca=!1,o.R&&(o.g.clearTimeout(o.R),o.R=null)}function gs(o,e,n){if("function"==typeof o)n&&(o=ft(o,n));else{if(!o||"function"!=typeof o.handleEvent)throw Error("Invalid listener argument");o=ft(o.handleEvent,o)}return 2147483647<Number(e)?-1:le.setTimeout(o,e||0)}function An(o){o.g=gs(()=>{o.g=null,o.i&&(o.i=!1,An(o))},o.j);const e=o.h;o.h=null,o.m.apply(null,e)}pt(ci,vt),(te=ci.prototype).ca=!1,te.R=null,te.lb=function(){if(this.ca){var o=Date.now()-this.l;0<o&&o<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-o):(this.R&&(this.g.clearTimeout(this.R),this.R=null),Tn(this,"tick"),this.ca&&(Jr(this),this.start()))}},te.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},te.M=function(){ci.X.M.call(this),Jr(this),delete this.g};class tr extends wt{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:An(this)}M(){super.M(),this.g&&(le.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Fr(o){wt.call(this),this.h=o,this.g={}}pt(Fr,wt);var Li=[];function mi(o,e,n,a){Array.isArray(n)||(n&&(Li[0]=n.toString()),n=Li);for(var f=0;f<n.length;f++){var v=At(e,n[f],a||o.handleEvent,!1,o.h||o);if(!v)break;o.g[v.key]=v}}function ni(o){sn(o.g,function(e,n){this.g.hasOwnProperty(n)&&Tr(e)},o),o.g={}}function se(){this.g=!0}function mt(o,e,n,a){o.info(function(){return"XMLHTTP TEXT ("+e+"): "+function be(o,e){if(!o.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(o=0;o<n.length;o++)if(Array.isArray(n[o])){var a=n[o];if(!(2>a.length)){var f=a[1];if(Array.isArray(f)&&!(1>f.length)){var v=f[0];if("noop"!=v&&"stop"!=v&&"close"!=v)for(var w=1;w<f.length;w++)f[w]=""}}}return Yr(n)}catch(R){return e}}(o,n)+(a?" "+a:"")})}Fr.prototype.M=function(){Fr.X.M.call(this),ni(this)},Fr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},se.prototype.Aa=function(){this.g=!1},se.prototype.info=function(){};var rt={},St=null;function zt(){return St=St||new vt}function jt(o){Nn.call(this,rt.Pa,o)}function vn(o){const e=zt();Tn(e,new jt(e))}function Vn(o,e){Nn.call(this,rt.STAT_EVENT,o),this.stat=e}function kn(o){const e=zt();Tn(e,new Vn(e,o))}function rr(o,e){Nn.call(this,rt.Qa,o),this.size=e}function Hr(o,e){if("function"!=typeof o)throw Error("Fn must not be null and must be a function");return le.setTimeout(function(){o()},e)}rt.Pa="serverreachability",pt(jt,Nn),rt.STAT_EVENT="statevent",pt(Vn,Nn),rt.Qa="timingevent",pt(rr,Nn);var nt={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},ut={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function It(){}function un(){}It.prototype.h=null;var Lr,In={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function Xn(){Nn.call(this,"d")}function Or(){Nn.call(this,"c")}function vi(){}function ir(o,e,n,a){this.l=o,this.j=e,this.m=n,this.U=a||1,this.S=new Fr(this),this.O=Vs,this.T=new ci(o=ui?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new gn}function gn(){this.i=null,this.g="",this.h=!1}pt(Xn,Nn),pt(Or,Nn),pt(vi,It),vi.prototype.g=function(){return new XMLHttpRequest},vi.prototype.i=function(){return{}},Lr=new vi;var Vs=45e3,Ti={},es={};function Ir(o,e,n){o.K=1,o.v=Us(Ki(e)),o.s=n,o.P=!0,Wi(o,null)}function Wi(o,e){o.F=Date.now(),Os(o),o.A=Ki(o.v);var n=o.A,a=o.U;Array.isArray(a)||(a=[String(a)]),Bi(n.i,"t",a),o.C=0,n=o.l.H,o.h=new gn,o.g=il(o.l,n?e:null,!o.s),0<o.N&&(o.L=new tr(ft(o.La,o,o.g),o.N)),mi(o.S,o.g,"readystatechange",o.ib),e=o.H?qt(o.H):{},o.s?(o.u||(o.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",o.g.da(o.A,o.u,o.s,e)):(o.u="GET",o.g.da(o.A,o.u,null,e)),vn(),function Ie(o,e,n,a,f,v){o.info(function(){if(o.g)if(v)for(var w="",R=v.split("&"),W=0;W<R.length;W++){var Q=R[W].split("=");if(1<Q.length){var Ee=Q[0];Q=Q[1];var et=Ee.split("_");w=2<=et.length&&"type"==et[1]?w+(Ee+"=")+Q+"&":w+(Ee+"=redacted&")}}else w=null;else w=v;return"XMLHTTP REQ ("+a+") [attempt "+f+"]: "+e+"\n"+n+"\n"+w})}(o.j,o.u,o.A,o.m,o.U,o.s)}function Mo(o){return!!o.g&&"GET"==o.u&&2!=o.K&&o.l.Da}function Ns(o,e,n){let f,a=!0;for(;!o.I&&o.C<n.length;){if(f=Mi(o,n),f==es){4==e&&(o.o=4,kn(14),a=!1),mt(o.j,o.m,null,"[Incomplete Response]");break}if(f==Ti){o.o=4,kn(15),mt(o.j,o.m,n,"[Invalid Chunk]"),a=!1;break}mt(o.j,o.m,f,null),lo(o,f)}Mo(o)&&f!=es&&f!=Ti&&(o.h.g="",o.C=0),4!=e||0!=n.length||o.h.h||(o.o=1,kn(16),a=!1),o.i=o.i&&a,a?0<n.length&&!o.$&&(o.$=!0,(e=o.l).g==o&&e.$&&!e.K&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+n.length),va(e),e.K=!0,kn(11))):(mt(o.j,o.m,n,"[Invalid Chunked Response]"),uo(o),ms(o))}function Mi(o,e){var n=o.C,a=e.indexOf("\n",n);return-1==a?es:(n=Number(e.substring(n,a)),isNaN(n)?Ti:(a+=1)+n>e.length?es:(e=e.substr(a,n),o.C=a+n,e))}function Os(o){o.V=Date.now()+o.O,Xs(o,o.O)}function Xs(o,e){if(null!=o.B)throw Error("WatchDog timer not null");o.B=Hr(ft(o.gb,o),e)}function Pt(o){o.B&&(le.clearTimeout(o.B),o.B=null)}function ms(o){0==o.l.G||o.I||ou(o.l,o)}function uo(o){Pt(o);var e=o.L;e&&"function"==typeof e.na&&e.na(),o.L=null,Jr(o.T),ni(o.S),o.g&&(e=o.g,o.g=null,e.abort(),e.na())}function lo(o,e){try{var n=o.l;if(0!=n.G&&(n.g==o||to(n.h,o)))if(!o.J&&to(n.h,o)&&3==n.G){try{var a=n.Fa.g.parse(e)}catch(Q){a=null}if(Array.isArray(a)&&3==a.length){var f=a;if(0==f[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<o.F))break e;No(n),Tu(n)}Ys(n),kn(18)}}else n.Ba=f[1],0<n.Ba-n.T&&37500>f[2]&&n.L&&0==n.A&&!n.v&&(n.v=Hr(ft(n.cb,n),6e3));if(1>=Yi(n.h)&&n.ja){try{n.ja()}catch(Q){}n.ja=void 0}}else ya(n,11)}else if((o.J||n.g==o)&&No(n),!Wn(e))for(f=n.Fa.g.parse(e),e=0;e<f.length;e++){let Q=f[e];if(n.T=Q[0],Q=Q[1],2==n.G)if("c"==Q[0]){n.I=Q[1],n.ka=Q[2];const Ee=Q[3];null!=Ee&&(n.ma=Ee,n.j.info("VER="+n.ma));const et=Q[4];null!=et&&(n.Ca=et,n.j.info("SVER="+n.Ca));const Ft=Q[5];null!=Ft&&"number"==typeof Ft&&0<Ft&&(n.J=a=1.5*Ft,n.j.info("backChannelRequestTimeoutMs_="+a)),a=n;const tn=o.g;if(tn){const dn=tn.g?tn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(dn){var v=a.h;v.g||-1==dn.indexOf("spdy")&&-1==dn.indexOf("quic")&&-1==dn.indexOf("h2")||(v.j=v.l,v.g=new Set,v.h&&(ia(v,v.h),v.h=null))}if(a.D){const Gn=tn.g?tn.g.getResponseHeader("X-HTTP-Session-Id"):null;Gn&&(a.za=Gn,yi(a.F,a.D,Gn))}}n.G=3,n.l&&n.l.xa(),n.$&&(n.P=Date.now()-o.F,n.j.info("Handshake RTT: "+n.P+"ms"));var w=o;if((a=n).sa=Ec(a,a.H?a.ka:null,a.V),w.J){D(a.h,w);var R=w,W=a.J;W&&R.setTimeout(W),R.B&&(Pt(R),Os(R)),a.g=w}else wo(a);0<n.i.length&&Ma(n)}else"stop"!=Q[0]&&"close"!=Q[0]||ya(n,7);else 3==n.G&&("stop"==Q[0]||"close"==Q[0]?"stop"==Q[0]?ya(n,7):fo(n):"noop"!=Q[0]&&n.l&&n.l.wa(Q),n.A=0)}vn()}catch(Q){}}function na(o,e){if(o.forEach&&"function"==typeof o.forEach)o.forEach(e,void 0);else if(xe(o)||"string"==typeof o)Array.prototype.forEach.call(o,e,void 0);else for(var n=function xs(o){if(o.oa&&"function"==typeof o.oa)return o.oa();if(!o.W||"function"!=typeof o.W){if(typeof Map<"u"&&o instanceof Map)return Array.from(o.keys());if(!(typeof Set<"u"&&o instanceof Set)){if(xe(o)||"string"==typeof o){var e=[];o=o.length;for(var n=0;n<o;n++)e.push(n);return e}e=[],n=0;for(const a in o)e[n++]=a;return e}}}(o),a=function Ro(o){if(o.W&&"function"==typeof o.W)return o.W();if(typeof Map<"u"&&o instanceof Map||typeof Set<"u"&&o instanceof Set)return Array.from(o.values());if("string"==typeof o)return o.split("");if(xe(o)){for(var e=[],n=o.length,a=0;a<n;a++)e.push(o[a]);return e}for(a in e=[],n=0,o)e[n++]=o[a];return e}(o),f=a.length,v=0;v<f;v++)e.call(void 0,a[v],n&&n[v],o)}(te=ir.prototype).setTimeout=function(o){this.O=o},te.ib=function(o){o=o.target;const e=this.L;e&&3==Hs(o)?e.l():this.La(o)},te.La=function(o){try{if(o==this.g)e:{const Ee=Hs(this.g);var e=this.g.Ea();if(this.g.aa(),!(3>Ee)&&(3!=Ee||ui||this.g&&(this.h.h||this.g.fa()||ho(this.g)))){this.I||4!=Ee||7==e||vn(),Pt(this);var n=this.g.aa();this.Y=n;t:if(Mo(this)){var a=ho(this.g);o="";var f=a.length,v=4==Hs(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){uo(this),ms(this);var w="";break t}this.h.i=new le.TextDecoder}for(e=0;e<f;e++)this.h.h=!0,o+=this.h.i.decode(a[e],{stream:v&&e==f-1});a.splice(0,f),this.h.g+=o,this.C=0,w=this.h.g}else w=this.g.fa();if(this.i=200==n,function at(o,e,n,a,f,v,w){o.info(function(){return"XMLHTTP RESP ("+a+") [ attempt "+f+"]: "+e+"\n"+n+"\n"+v+" "+w})}(this.j,this.u,this.A,this.m,this.U,Ee,n),this.i){if(this.Z&&!this.J){t:{if(this.g){var R,W=this.g;if((R=W.g?W.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Wn(R)){var Q=R;break t}}Q=null}if(!(n=Q)){this.i=!1,this.o=3,kn(12),uo(this),ms(this);break e}mt(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,lo(this,n)}this.P?(Ns(this,Ee,w),ui&&this.i&&3==Ee&&(mi(this.S,this.T,"tick",this.hb),this.T.start())):(mt(this.j,this.m,w,null),lo(this,w)),4==Ee&&uo(this),this.i&&!this.I&&(4==Ee?ou(this.l,this):(this.i=!1,Os(this)))}else 400==n&&0<w.indexOf("Unknown SID")?(this.o=3,kn(12)):(this.o=0,kn(13)),uo(this),ms(this)}}}catch(Ee){}},te.hb=function(){if(this.g){var o=Hs(this.g),e=this.g.fa();this.C<e.length&&(Pt(this),Ns(this,o,e),this.i&&4!=o&&Os(this))}},te.cancel=function(){this.I=!0,uo(this)},te.gb=function(){this.B=null;const o=Date.now();0<=o-this.V?(function dt(o,e){o.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(vn(),kn(17)),uo(this),this.o=2,ms(this)):Xs(this,this.V-o)};var ra=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function us(o,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,o instanceof us){this.h=void 0!==e?e:o.h,co(this,o.j),this.s=o.s,this.g=o.g,$o(this,o.m),this.l=o.l,e=o.i;var n=new zs;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),ts(this,n),this.o=o.o}else o&&(n=String(o).match(ra))?(this.h=!!e,co(this,n[1]||"",!0),this.s=Ct(n[2]||""),this.g=Ct(n[3]||"",!0),$o(this,n[4]),this.l=Ct(n[5]||"",!0),ts(this,n[6]||"",!0),this.o=Ct(n[7]||"")):(this.h=!!e,this.i=new zs(null,this.h))}function Ki(o){return new us(o)}function co(o,e,n){o.j=n?Ct(e,!0):e,o.j&&(o.j=o.j.replace(/:$/,""))}function $o(o,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);o.m=e}else o.m=null}function ts(o,e,n){e instanceof zs?(o.i=e,function jo(o,e){e&&!o.j&&(Gi(o),o.i=null,o.g.forEach(function(n,a){var f=a.toLowerCase();a!=f&&(di(this,a),Bi(this,f,n))},o)),o.j=e}(o.i,o.h)):(n||(e=Ue(e,Ho)),o.i=new zs(e,o.h))}function yi(o,e,n){o.i.set(e,n)}function Us(o){return yi(o,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),o}function Ct(o,e){return o?e?decodeURI(o.replace(/%25/g,"%2525")):decodeURIComponent(o):""}function Ue(o,e,n){return"string"==typeof o?(o=encodeURI(o).replace(e,ga),n&&(o=o.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),o):null}function ga(o){return"%"+((o=o.charCodeAt(0))>>4&15).toString(16)+(15&o).toString(16)}us.prototype.toString=function(){var o=[],e=this.j;e&&o.push(Ue(e,Vo,!0),":");var n=this.g;return(n||"file"==e)&&(o.push("//"),(e=this.s)&&o.push(Ue(e,Vo,!0),"@"),o.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&o.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&o.push("/"),o.push(Ue(n,"/"==n.charAt(0)?Uo:Qs,!0))),(n=this.i.toString())&&o.push("?",n),(n=this.o)&&o.push("#",Ue(n,ma)),o.join("")};var Vo=/[#\/\?@]/g,Qs=/[#\?:]/g,Uo=/[#\?]/g,Ho=/[#\?@]/g,ma=/#/g;function zs(o,e){this.h=this.g=null,this.i=o||null,this.j=!!e}function Gi(o){o.g||(o.g=new Map,o.h=0,o.i&&function pa(o,e){if(o){o=o.split("&");for(var n=0;n<o.length;n++){var a=o[n].indexOf("="),f=null;if(0<=a){var v=o[n].substring(0,a);f=o[n].substring(a+1)}else v=o[n];e(v,f?decodeURIComponent(f.replace(/\+/g," ")):"")}}}(o.i,function(e,n){o.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function di(o,e){Gi(o),e=qs(o,e),o.g.has(e)&&(o.i=null,o.h-=o.g.get(e).length,o.g.delete(e))}function Js(o,e){return Gi(o),e=qs(o,e),o.g.has(e)}function Bi(o,e,n){di(o,e),0<n.length&&(o.i=null,o.g.set(qs(o,e),Kt(n)),o.h+=n.length)}function qs(o,e){return e=String(e),o.j&&(e=e.toLowerCase()),e}function Go(o){this.l=o||Eo,o=le.PerformanceNavigationTiming?0<(o=le.performance.getEntriesByType("navigation")).length&&("hq"==o[0].nextHopProtocol||"h2"==o[0].nextHopProtocol):!!(le.g&&le.g.Ga&&le.g.Ga()&&le.g.Ga().$b),this.j=o?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(te=zs.prototype).add=function(o,e){Gi(this),this.i=null,o=qs(this,o);var n=this.g.get(o);return n||this.g.set(o,n=[]),n.push(e),this.h+=1,this},te.forEach=function(o,e){Gi(this),this.g.forEach(function(n,a){n.forEach(function(f){o.call(e,f,a,this)},this)},this)},te.oa=function(){Gi(this);const o=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let a=0;a<e.length;a++){const f=o[a];for(let v=0;v<f.length;v++)n.push(e[a])}return n},te.W=function(o){Gi(this);let e=[];if("string"==typeof o)Js(this,o)&&(e=e.concat(this.g.get(qs(this,o))));else{o=Array.from(this.g.values());for(let n=0;n<o.length;n++)e=e.concat(o[n])}return e},te.set=function(o,e){return Gi(this),this.i=null,Js(this,o=qs(this,o))&&(this.h-=this.g.get(o).length),this.g.set(o,[e]),this.h+=1,this},te.get=function(o,e){return o&&0<(o=this.W(o)).length?String(o[0]):e},te.toString=function(){if(this.i)return this.i;if(!this.g)return"";const o=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var a=e[n];const v=encodeURIComponent(String(a)),w=this.W(a);for(a=0;a<w.length;a++){var f=v;""!==w[a]&&(f+="="+encodeURIComponent(String(w[a]))),o.push(f)}}return this.i=o.join("&")};var Eo=10;function eo(o){return!!o.h||!!o.g&&o.g.size>=o.j}function Yi(o){return o.h?1:o.g?o.g.size:0}function to(o,e){return o.h?o.h==e:!!o.g&&o.g.has(e)}function ia(o,e){o.g?o.g.add(e):o.h=e}function D(o,e){o.h&&o.h==e?o.h=null:o.g&&o.g.has(e)&&o.g.delete(e)}function K(o){if(null!=o.h)return o.i.concat(o.h.D);if(null!=o.g&&0!==o.g.size){let e=o.i;for(const n of o.g.values())e=e.concat(n.D);return e}return Kt(o.i)}function C(){}function H(){this.g=new C}function re(o,e,n){const a=n||"";try{na(o,function(f,v){let w=f;Me(f)&&(w=Yr(f)),e.push(a+v+"="+encodeURIComponent(w))})}catch(f){throw e.push(a+"type="+encodeURIComponent("_badmap")),f}}function Cn(o,e,n,a,f){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,f(a)}catch(v){}}function Fn(o){this.l=o.ac||null,this.j=o.jb||!1}function yr(o,e){vt.call(this),this.D=o,this.u=e,this.m=void 0,this.readyState=Br,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Go.prototype.cancel=function(){if(this.i=K(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const o of this.g.values())o.cancel();this.g.clear()}},C.prototype.stringify=function(o){return le.JSON.stringify(o,void 0)},C.prototype.parse=function(o){return le.JSON.parse(o,void 0)},pt(Fn,It),Fn.prototype.g=function(){return new yr(this.l,this.j)},Fn.prototype.i=function(o){return function(){return o}}({}),pt(yr,vt);var Br=0;function ri(o){o.j.read().then(o.Ta.bind(o)).catch(o.ga.bind(o))}function ur(o){o.readyState=4,o.l=null,o.j=null,o.A=null,os(o)}function os(o){o.onreadystatechange&&o.onreadystatechange.call(o)}(te=yr.prototype).open=function(o,e){if(this.readyState!=Br)throw this.abort(),Error("Error reopening a connection");this.C=o,this.B=e,this.readyState=1,os(this)},te.send=function(o){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};o&&(e.body=o),(this.D||le).fetch(new Request(this.B,e)).then(this.Wa.bind(this),this.ga.bind(this))},te.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,ur(this)),this.readyState=Br},te.Wa=function(o){if(this.g&&(this.l=o,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=o.headers,this.readyState=2,os(this)),this.g&&(this.readyState=3,os(this),this.g)))if("arraybuffer"===this.responseType)o.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if(typeof le.ReadableStream<"u"&&"body"in o){if(this.j=o.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;ri(this)}else o.text().then(this.Va.bind(this),this.ga.bind(this))},te.Ta=function(o){if(this.g){if(this.u&&o.value)this.response.push(o.value);else if(!this.u){var e=o.value?o.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!o.done}))&&(this.response=this.responseText+=e)}o.done?ur(this):os(this),3==this.readyState&&ri(this)}},te.Va=function(o){this.g&&(this.response=this.responseText=o,ur(this))},te.Ua=function(o){this.g&&(this.response=o,ur(this))},te.ga=function(){this.g&&ur(this)},te.setRequestHeader=function(o,e){this.v.append(o,e)},te.getResponseHeader=function(o){return this.h&&this.h.get(o.toLowerCase())||""},te.getAllResponseHeaders=function(){if(!this.h)return"";const o=[],e=this.h.entries();for(var n=e.next();!n.done;)o.push((n=n.value)[0]+": "+n[1]),n=e.next();return o.join("\r\n")},Object.defineProperty(yr.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(o){this.m=o?"include":"same-origin"}});var L=le.JSON.parse;function k(o){vt.call(this),this.headers=new Map,this.u=o||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=F,this.K=this.L=!1}pt(k,vt);var F="",oe=/^https?$/i,Mt=["POST","PUT"];function Ri(o,e){o.h=!1,o.g&&(o.l=!0,o.g.abort(),o.l=!1),o.j=e,o.m=5,Zi(o),ks(o)}function Zi(o){o.D||(o.D=!0,Tn(o,"complete"),Tn(o,"error"))}function Ws(o){if(o.h&&typeof Ze<"u"&&(!o.C[1]||4!=Hs(o)||2!=o.aa()))if(o.v&&4==Hs(o))gs(o.Ha,0,o);else if(Tn(o,"readystatechange"),4==Hs(o)){o.h=!1;try{const R=o.aa();e:switch(R){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var a;if(a=0===R){var f=String(o.H).match(ra)[1]||null;if(!f&&le.self&&le.self.location){var v=le.self.location.protocol;f=v.substr(0,v.length-1)}a=!oe.test(f?f.toLowerCase():"")}n=a}if(n)Tn(o,"complete"),Tn(o,"success");else{o.m=6;try{var w=2<Hs(o)?o.g.statusText:""}catch(W){w=""}o.j=w+" ["+o.aa()+"]",Zi(o)}}finally{ks(o)}}}function ks(o,e){if(o.g){Po(o);const n=o.g,a=o.C[0]?ye:null;o.g=null,o.C=null,e||Tn(o,"ready");try{n.onreadystatechange=a}catch(f){}}}function Po(o){o.g&&o.K&&(o.g.ontimeout=null),o.A&&(le.clearTimeout(o.A),o.A=null)}function Hs(o){return o.g?o.g.readyState:0}function ho(o){try{if(!o.g)return null;if("response"in o.g)return o.g.response;switch(o.J){case F:case"text":return o.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in o.g)return o.g.mozResponseArrayBuffer}return null}catch(e){return null}}function zi(o){let e="";return sn(o,function(n,a){e+=a,e+=":",e+=n,e+="\r\n"}),e}function vs(o,e,n){e:{for(a in n){var a=!1;break e}a=!0}a||(n=zi(n),"string"==typeof o?null!=n&&encodeURIComponent(String(n)):yi(o,e,n))}function sa(o,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[o]||e}function zo(o){this.Ca=0,this.i=[],this.j=new se,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=sa("failFast",!1,o),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=sa("baseRetryDelayMs",5e3,o),this.bb=sa("retryDelaySeedMs",1e4,o),this.$a=sa("forwardChannelMaxRetries",2,o),this.ta=sa("forwardChannelRequestTimeoutMs",2e4,o),this.ra=o&&o.xmlHttpFactory||void 0,this.Da=o&&o.Zb||!1,this.J=void 0,this.H=o&&o.supportsCrossDomainXhr||!1,this.I="",this.h=new Go(o&&o.concurrentRequestLimit),this.Fa=new H,this.O=o&&o.fastHandshake||!1,this.N=o&&o.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=o&&o.Xb||!1,o&&o.Aa&&this.j.Aa(),o&&o.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&o&&o.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function fo(o){if(rl(o),3==o.G){var e=o.U++,n=Ki(o.F);yi(n,"SID",o.I),yi(n,"RID",e),yi(n,"TYPE","terminate"),as(o,n),(e=new ir(o,o.j,e,void 0)).K=2,e.v=Us(Ki(n)),n=!1,le.navigator&&le.navigator.sendBeacon&&(n=le.navigator.sendBeacon(e.v.toString(),"")),!n&&le.Image&&((new Image).src=e.v,n=!0),n||(e.g=il(e.l,null),e.g.da(e.v)),e.F=Date.now(),Os(e)}Il(o)}function Tu(o){o.g&&(va(o),o.g.cancel(),o.g=null)}function rl(o){Tu(o),o.u&&(le.clearTimeout(o.u),o.u=null),No(o),o.h.cancel(),o.m&&("number"==typeof o.m&&le.clearTimeout(o.m),o.m=null)}function Ma(o){eo(o.h)||o.m||(o.m=!0,ss(o.Ja,o),o.C=0)}function Ks(o,e){var n;n=e?e.m:o.U++;const a=Ki(o.F);yi(a,"SID",o.I),yi(a,"RID",n),yi(a,"AID",o.T),as(o,a),o.o&&o.s&&vs(a,o.o,o.s),n=new ir(o,o.j,n,o.C+1),null===o.o&&(n.H=o.s),e&&(o.i=e.D.concat(o.i)),e=po(o,n,1e3),n.setTimeout(Math.round(.5*o.ta)+Math.round(.5*o.ta*Math.random())),ia(o.h,n),Ir(n,a,e)}function as(o,e){o.ia&&sn(o.ia,function(n,a){yi(e,a,n)}),o.l&&na({},function(n,a){yi(e,a,n)})}function po(o,e,n){n=Math.min(o.i.length,n);var a=o.l?ft(o.l.Ra,o.l,o):null;e:{var f=o.i;let v=-1;for(;;){const w=["count="+n];-1==v?0<n?(v=f[0].h,w.push("ofs="+v)):v=0:w.push("ofs="+v);let R=!0;for(let W=0;W<n;W++){let Q=f[W].h;const Ee=f[W].g;if(Q-=v,0>Q)v=Math.max(0,f[W].h-100),R=!1;else try{re(Ee,w,"req"+Q+"_")}catch(et){a&&a(Ee)}}if(R){a=w.join("&");break e}}}return o=o.i.splice(0,n),e.D=o,a}function wo(o){o.g||o.u||(o.Z=1,ss(o.Ia,o),o.A=0)}function Ys(o){return!(o.g||o.u||3<=o.A||(o.Z++,o.u=Hr(ft(o.Ia,o),_c(o,o.A)),o.A++,0))}function va(o){null!=o.B&&(le.clearTimeout(o.B),o.B=null)}function Ba(o){o.g=new ir(o,o.j,"rpc",o.Z),null===o.o&&(o.g.H=o.s),o.g.N=0;var e=Ki(o.sa);yi(e,"RID","rpc"),yi(e,"SID",o.I),yi(e,"CI",o.L?"0":"1"),yi(e,"AID",o.T),yi(e,"TYPE","xmlhttp"),as(o,e),o.o&&o.s&&vs(e,o.o,o.s),o.J&&o.g.setTimeout(o.J);var n=o.g;o=o.ka,n.K=1,n.v=Us(Ki(e)),n.s=null,n.P=!0,Wi(n,o)}function No(o){null!=o.v&&(le.clearTimeout(o.v),o.v=null)}function ou(o,e){var n=null;if(o.g==e){No(o),va(o),o.g=null;var a=2}else{if(!to(o.h,e))return;n=e.D,D(o.h,e),a=1}if(0!=o.G)if(o.pa=e.Y,e.i)if(1==a){n=e.s?e.s.length:0,e=Date.now()-e.F;var f=o.C;Tn(a=zt(),new rr(a,n)),Ma(o)}else wo(o);else if(3==(f=e.o)||0==f&&0<o.pa||!(1==a&&function su(o,e){return!(Yi(o.h)>=o.h.j-(o.m?1:0)||(o.m?(o.i=e.D.concat(o.i),0):1==o.G||2==o.G||o.C>=(o.Za?0:o.$a)||(o.m=Hr(ft(o.Ja,o,e),_c(o,o.C)),o.C++,0)))}(o,e)||2==a&&Ys(o)))switch(n&&0<n.length&&(e=o.h,e.i=e.i.concat(n)),f){case 1:ya(o,5);break;case 4:ya(o,10);break;case 3:ya(o,6);break;default:ya(o,2)}}function _c(o,e){let n=o.Xa+Math.floor(Math.random()*o.bb);return o.l||(n*=2),n*e}function ya(o,e){if(o.j.info("Error code "+e),2==e){var n=null;o.l&&(n=null);var a=ft(o.kb,o);n||(n=new us("//www.google.com/images/cleardot.gif"),le.location&&"http"==le.location.protocol||co(n,"https"),Us(n)),function Nt(o,e){const n=new se;if(le.Image){const a=new Image;a.onload=Ot(Cn,n,a,"TestLoadImage: loaded",!0,e),a.onerror=Ot(Cn,n,a,"TestLoadImage: error",!1,e),a.onabort=Ot(Cn,n,a,"TestLoadImage: abort",!1,e),a.ontimeout=Ot(Cn,n,a,"TestLoadImage: timeout",!1,e),le.setTimeout(function(){a.ontimeout&&a.ontimeout()},1e4),a.src=o}else e(!1)}(n.toString(),a)}else kn(2);o.G=0,o.l&&o.l.va(e),Il(o),rl(o)}function Il(o){if(o.G=0,o.la=[],o.l){const e=K(o.h);(0!=e.length||0!=o.i.length)&&(en(o.la,e),en(o.la,o.i),o.h.i.length=0,Kt(o.i),o.i.length=0),o.l.ua()}}function Ec(o,e,n){var a=n instanceof us?Ki(n):new us(n,void 0);if(""!=a.g)e&&(a.g=e+"."+a.g),$o(a,a.m);else{var f=le.location;a=f.protocol,e=e?e+"."+f.hostname:f.hostname,f=+f.port;var v=new us(null,void 0);a&&co(v,a),e&&(v.g=e),f&&$o(v,f),n&&(v.l=n),a=v}return e=o.za,(n=o.D)&&e&&yi(a,n,e),yi(a,"VER",o.ma),as(o,a),a}function il(o,e,n){if(e&&!o.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new k(n&&o.Da&&!o.ra?new Fn({jb:!0}):o.ra)).Ka(o.H),e}function no(){}function Ra(){if(Ur&&!(10<=Number(xi)))throw Error("Environmental error: no available transport.")}function fi(o,e){vt.call(this),this.g=new zo(e),this.l=o,this.h=e&&e.messageUrlParams||null,o=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(o?o["X-Client-Protocol"]="webchannel":o={"X-Client-Protocol":"webchannel"}),this.g.s=o,o=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(o?o["X-WebChannel-Content-Type"]=e.messageContentType:o={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(o?o["X-WebChannel-Client-Profile"]=e.ya:o={"X-WebChannel-Client-Profile":e.ya}),this.g.S=o,(o=e&&e.Yb)&&!Wn(o)&&(this.g.o=o),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Wn(e)&&(this.g.D=e,null!==(o=this.h)&&e in o&&e in(o=this.h)&&delete o[e]),this.j=new ys(this)}function _a(o){Xn.call(this);var e=o.__sm__;if(e){e:{for(const n in e){o=n;break e}o=void 0}(this.i=o)&&(o=this.i,e=null!==e&&o in e?e[o]:void 0),this.data=e}else this.data=o}function qa(){Or.call(this),this.status=1}function ys(o){this.g=o}(te=k.prototype).Ka=function(o){this.L=o},te.da=function(o,e,n,a){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+o);e=e?e.toUpperCase():"GET",this.H=o,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Lr.g(),this.C=function Zt(o){return o.h||(o.h=o.i())}(this.u?this.u:Lr),this.g.onreadystatechange=ft(this.Ha,this);try{this.F=!0,this.g.open(e,String(o),!0),this.F=!1}catch(v){return void Ri(this,v)}if(o=n||"",n=new Map(this.headers),a)if(Object.getPrototypeOf(a)===Object.prototype)for(var f in a)n.set(f,a[f]);else{if("function"!=typeof a.keys||"function"!=typeof a.get)throw Error("Unknown input type for opt_headers: "+String(a));for(const v of a.keys())n.set(v,a.get(v))}a=Array.from(n.keys()).find(v=>"content-type"==v.toLowerCase()),f=le.FormData&&o instanceof le.FormData,!(0<=nn(Mt,e))||a||f||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[v,w]of n)this.g.setRequestHeader(v,w);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Po(this),0<this.B&&((this.K=function Ln(o){return Ur&&function _r(){return function ai(o){var e=zn;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=o(9)}(function(){let o=0;const e=or(String(Oi)).split("."),n=or("9").split("."),a=Math.max(e.length,n.length);for(let w=0;0==o&&w<a;w++){var f=e[w]||"",v=n[w]||"";do{if(f=/(\d*)(\D*)(.*)/.exec(f)||["","","",""],v=/(\d*)(\D*)(.*)/.exec(v)||["","","",""],0==f[0].length&&0==v[0].length)break;o=cr(0==f[1].length?0:parseInt(f[1],10),0==v[1].length?0:parseInt(v[1],10))||cr(0==f[2].length,0==v[2].length)||cr(f[2],v[2]),f=f[3],v=v[3]}while(0==o)}return 0<=o})}()&&"number"==typeof o.timeout&&void 0!==o.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=ft(this.qa,this)):this.A=gs(this.qa,this.B,this)),this.v=!0,this.g.send(o),this.v=!1}catch(v){Ri(this,v)}},te.qa=function(){typeof Ze<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Tn(this,"timeout"),this.abort(8))},te.abort=function(o){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=o||7,Tn(this,"complete"),Tn(this,"abort"),ks(this))},te.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),ks(this,!0)),k.X.M.call(this)},te.Ha=function(){this.s||(this.F||this.v||this.l?Ws(this):this.fb())},te.fb=function(){Ws(this)},te.aa=function(){try{return 2<Hs(this)?this.g.status:-1}catch(o){return-1}},te.fa=function(){try{return this.g?this.g.responseText:""}catch(o){return""}},te.Sa=function(o){if(this.g){var e=this.g.responseText;return o&&0==e.indexOf(o)&&(e=e.substring(o.length)),L(e)}},te.Ea=function(){return this.m},te.Oa=function(){return"string"==typeof this.j?this.j:String(this.j)},(te=zo.prototype).ma=8,te.G=1,te.Ja=function(o){if(this.m)if(this.m=null,1==this.G){if(!o){this.U=Math.floor(1e5*Math.random()),o=this.U++;const f=new ir(this,this.j,o,void 0);let v=this.s;if(this.S&&(v?(v=qt(v),Fe(v,this.S)):v=this.S),null!==this.o||this.N||(f.H=v,v=null),this.O)e:{for(var e=0,n=0;n<this.i.length;n++){var a=this.i[n];if(void 0===(a="__data__"in a.g&&"string"==typeof(a=a.g.__data__)?a.length:void 0))break;if(4096<(e+=a)){e=n;break e}if(4096===e||n===this.i.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=po(this,f,e),yi(n=Ki(this.F),"RID",o),yi(n,"CVER",22),this.D&&yi(n,"X-HTTP-Session-Id",this.D),as(this,n),v&&(this.N?e="headers="+encodeURIComponent(String(zi(v)))+"&"+e:this.o&&vs(n,this.o,v)),ia(this.h,f),this.Ya&&yi(n,"TYPE","init"),this.O?(yi(n,"$req",e),yi(n,"SID","null"),f.Z=!0,Ir(f,n,null)):Ir(f,n,e),this.G=2}}else 3==this.G&&(o?Ks(this,o):0==this.i.length||eo(this.h)||Ks(this))},te.Ia=function(){if(this.u=null,Ba(this),this.$&&!(this.K||null==this.g||0>=this.P)){var o=2*this.P;this.j.info("BP detection timer enabled: "+o),this.B=Hr(ft(this.eb,this),o)}},te.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,kn(10),Tu(this),Ba(this))},te.cb=function(){null!=this.v&&(this.v=null,Tu(this),Ys(this),kn(19))},te.kb=function(o){o?(this.j.info("Successfully pinged google.com"),kn(2)):(this.j.info("Failed to ping google.com"),kn(1))},(te=no.prototype).xa=function(){},te.wa=function(){},te.va=function(){},te.ua=function(){},te.Ra=function(){},Ra.prototype.g=function(o,e){return new fi(o,e)},pt(fi,vt),fi.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var o=this.g,e=this.l,n=this.h||void 0;kn(0),o.V=e,o.ia=n||{},o.L=o.Y,o.F=Ec(o,null,o.V),Ma(o)},fi.prototype.close=function(){fo(this.g)},fi.prototype.u=function(o){var e=this.g;if("string"==typeof o){var n={};n.__data__=o,o=n}else this.v&&((n={}).__data__=Yr(o),o=n);e.i.push(new class{constructor(o,e){this.h=o,this.g=e}}(e.ab++,o)),3==e.G&&Ma(e)},fi.prototype.M=function(){this.g.l=null,delete this.j,fo(this.g),delete this.g,fi.X.M.call(this)},pt(_a,Xn),pt(qa,Or),pt(ys,no),ys.prototype.xa=function(){Tn(this.g,"a")},ys.prototype.wa=function(o){Tn(this.g,new _a(o))},ys.prototype.va=function(o){Tn(this.g,new qa)},ys.prototype.ua=function(){Tn(this.g,"b")},Ra.prototype.createWebChannel=Ra.prototype.g,fi.prototype.send=fi.prototype.u,fi.prototype.open=fi.prototype.m,fi.prototype.close=fi.prototype.close,nt.NO_ERROR=0,nt.TIMEOUT=8,nt.HTTP_ERROR=6,ut.COMPLETE="complete",un.EventType=In,In.OPEN="a",In.CLOSE="b",In.ERROR="c",In.MESSAGE="d",vt.prototype.listen=vt.prototype.N,k.prototype.listenOnce=k.prototype.O,k.prototype.getLastError=k.prototype.Oa,k.prototype.getLastErrorCode=k.prototype.Ea,k.prototype.getStatus=k.prototype.aa,k.prototype.getResponseJson=k.prototype.Sa,k.prototype.getResponseText=k.prototype.fa,k.prototype.send=k.prototype.da,k.prototype.setWithCredentials=k.prototype.Ka;var Xr=Ge.createWebChannelTransport=function(){return new Ra},Ui=Ge.getStatEventTarget=function(){return zt()},O=Ge.ErrorCode=nt,X=Ge.EventType=ut,B=Ge.Event=rt,ie=Ge.Stat={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},qe=Ge.FetchXmlHttpFactory=Fn,$t=Ge.WebChannel=un,Xt=Ge.XhrIo=k;const qn="@firebase/firestore";class pr{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}pr.UNAUTHENTICATED=new pr(null),pr.GOOGLE_CREDENTIALS=new pr("google-credentials-uid"),pr.FIRST_PARTY=new pr("first-party-uid"),pr.MOCK_USER=new pr("mock-user");let Cr="9.17.1";const $r=new Je.Yd("@firebase/firestore");function kr(){return $r.logLevel}function Qt(o,...e){if($r.logLevel<=Je.in.DEBUG){const n=e.map(go);$r.debug(`Firestore (${Cr}): ${o}`,...n)}}function jr(o,...e){if($r.logLevel<=Je.in.ERROR){const n=e.map(go);$r.error(`Firestore (${Cr}): ${o}`,...n)}}function Fs(o,...e){if($r.logLevel<=Je.in.WARN){const n=e.map(go);$r.warn(`Firestore (${Cr}): ${o}`,...n)}}function go(o){if("string"==typeof o)return o;try{return JSON.stringify(o)}catch(n){return o}}function mn(o="Unexpected state"){const e=`FIRESTORE (${Cr}) INTERNAL ASSERTION FAILED: `+o;throw jr(e),new Error(e)}function jn(o,e){o||mn()}function bn(o,e){return o}const Gt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class rn extends Qe.ZR{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ls{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}class sl{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Cl{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(pr.UNAUTHENTICATED))}shutdown(){}}class $a{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class Ea{constructor(e){this.t=e,this.currentUser=pr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){var a=this;let f=this.i;const v=Q=>this.i!==f?(f=this.i,n(Q)):Promise.resolve();let w=new ls;this.o=()=>{this.i++,this.currentUser=this.u(),w.resolve(),w=new ls,e.enqueueRetryable(()=>v(this.currentUser))};const R=()=>{const Q=w;e.enqueueRetryable((0,fe.Z)(function*(){yield Q.promise,yield v(a.currentUser)}))},W=Q=>{Qt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=Q,this.auth.addAuthTokenListener(this.o),R()};this.t.onInit(Q=>W(Q)),setTimeout(()=>{if(!this.auth){const Q=this.t.getImmediate({optional:!0});Q?W(Q):(Qt("FirebaseAuthCredentialsProvider","Auth not yet detected"),w.resolve(),w=new ls)}},0),R()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(a=>this.i!==e?(Qt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(jn("string"==typeof a.accessToken),new sl(a.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return jn(null===e||"string"==typeof e),new pr(e)}}class Au{constructor(e,n,a,f){this.h=e,this.l=n,this.m=a,this.g=f,this.type="FirstParty",this.user=pr.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(jn(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class ol{constructor(e,n,a,f){this.h=e,this.l=n,this.m=a,this.g=f}getToken(){return Promise.resolve(new Au(this.h,this.l,this.m,this.g))}start(e,n){e.enqueueRetryable(()=>n(pr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class au{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class xu{constructor(e){this.T=e,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(e,n){const a=v=>{null!=v.error&&Qt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${v.error.message}`);const w=v.token!==this.A;return this.A=v.token,Qt("FirebaseAppCheckTokenProvider",`Received ${w?"new":"existing"} token.`),w?n(v.token):Promise.resolve()};this.o=v=>{e.enqueueRetryable(()=>a(v))};const f=v=>{Qt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=v,this.appCheck.addTokenListener(this.o)};this.T.onInit(v=>f(v)),setTimeout(()=>{if(!this.appCheck){const v=this.T.getImmediate({optional:!0});v?f(v):Qt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(jn("string"==typeof n.token),this.A=n.token,new au(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function al(o){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(o);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(let a=0;a<o;a++)n[a]=Math.floor(256*Math.random());return n}class wa{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let a="";for(;a.length<20;){const f=al(40);for(let v=0;v<f.length;++v)a.length<20&&f[v]<n&&(a+=e.charAt(f[v]%e.length))}return a}}function Jn(o,e){return o<e?-1:o>e?1:0}function Va(o,e,n){return o.length===e.length&&o.every((a,f)=>n(a,e[f]))}function Wa(o){return o+"\0"}class Qi{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new rn(Gt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new rn(Gt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new rn(Gt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new rn(Gt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Qi.fromMillis(Date.now())}static fromDate(e){return Qi.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),a=Math.floor(1e6*(e-1e3*n));return new Qi(n,a)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Jn(this.nanoseconds,e.nanoseconds):Jn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Yn{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Yn(e)}static min(){return new Yn(new Qi(0,0))}static max(){return new Yn(new Qi(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class mo{constructor(e,n,a){void 0===n?n=0:n>e.length&&mn(),void 0===a?a=e.length-n:a>e.length-n&&mn(),this.segments=e,this.offset=n,this.len=a}get length(){return this.len}isEqual(e){return 0===mo.comparator(this,e)}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof mo?e.forEach(a=>{n.push(a)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,a=this.limit();n<a;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const a=Math.min(e.length,n.length);for(let f=0;f<a;f++){const v=e.get(f),w=n.get(f);if(v<w)return-1;if(v>w)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class _i extends mo{construct(e,n,a){return new _i(e,n,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const a of e){if(a.indexOf("//")>=0)throw new rn(Gt.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);n.push(...a.split("/").filter(f=>f.length>0))}return new _i(n)}static emptyPath(){return new _i([])}}const dd=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Hi extends mo{construct(e,n,a){return new Hi(e,n,a)}static isValidIdentifier(e){return dd.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Hi.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Hi(["__name__"])}static fromServerFormat(e){const n=[];let a="",f=0;const v=()=>{if(0===a.length)throw new rn(Gt.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(a),a=""};let w=!1;for(;f<e.length;){const R=e[f];if("\\"===R){if(f+1===e.length)throw new rn(Gt.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const W=e[f+1];if("\\"!==W&&"."!==W&&"`"!==W)throw new rn(Gt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);a+=W,f+=2}else"`"===R?(w=!w,f++):"."!==R||w?(a+=R,f++):(v(),f++)}if(v(),w)throw new rn(Gt.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Hi(n)}static emptyPath(){return new Hi([])}}class Mn{constructor(e){this.path=e}static fromPath(e){return new Mn(_i.fromString(e))}static fromName(e){return new Mn(_i.fromString(e).popFirst(5))}static empty(){return new Mn(_i.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===_i.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,n){return _i.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Mn(new _i(e.slice()))}}class Ua{constructor(e,n,a,f){this.indexId=e,this.collectionGroup=n,this.fields=a,this.indexState=f}}function Zs(o){return o.fields.find(e=>2===e.kind)}function Oo(o){return o.fields.filter(e=>2!==e.kind)}Ua.UNKNOWN_ID=-1;class Ds{constructor(e,n){this.fieldPath=e,this.kind=n}}class uu{constructor(e,n){this.sequenceNumber=e,this.offset=n}static empty(){return new uu(0,Io.min())}}function wc(o,e){const n=o.toTimestamp().seconds,a=o.toTimestamp().nanoseconds+1,f=Yn.fromTimestamp(1e9===a?new Qi(n+1,0):new Qi(n,a));return new Io(f,Mn.empty(),e)}function ll(o){return new Io(o.readTime,o.key,-1)}class Io{constructor(e,n,a){this.readTime=e,this.documentKey=n,this.largestBatchId=a}static min(){return new Io(Yn.min(),Mn.empty(),-1)}static max(){return new Io(Yn.max(),Mn.empty(),-1)}}function Is(o,e){let n=o.readTime.compareTo(e.readTime);return 0!==n?n:(n=Mn.comparator(o.documentKey,e.documentKey),0!==n?n:Jn(o.largestBatchId,e.largestBatchId))}const Mu="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Co{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function bo(o){return Ka.apply(this,arguments)}function Ka(){return Ka=(0,fe.Z)(function*(o){if(o.code!==Gt.FAILED_PRECONDITION||o.message!==Mu)throw o;Qt("LocalStore","Unexpectedly lost primary lease")}),Ka.apply(this,arguments)}class Ut{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&mn(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Ut((a,f)=>{this.nextCallback=v=>{this.wrapSuccess(e,v).next(a,f)},this.catchCallback=v=>{this.wrapFailure(n,v).next(a,f)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof Ut?n:Ut.resolve(n)}catch(n){return Ut.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):Ut.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):Ut.reject(n)}static resolve(e){return new Ut((n,a)=>{n(e)})}static reject(e){return new Ut((n,a)=>{a(e)})}static waitFor(e){return new Ut((n,a)=>{let f=0,v=0,w=!1;e.forEach(R=>{++f,R.next(()=>{++v,w&&v===f&&n()},W=>a(W))}),w=!0,v===f&&n()})}static or(e){let n=Ut.resolve(!1);for(const a of e)n=n.next(f=>f?Ut.resolve(f):a());return n}static forEach(e,n){const a=[];return e.forEach((f,v)=>{a.push(n.call(this,f,v))}),this.waitFor(a)}static mapArray(e,n){return new Ut((a,f)=>{const v=e.length,w=new Array(v);let R=0;for(let W=0;W<v;W++){const Q=W;n(e[Q]).next(Ee=>{w[Q]=Ee,++R,R===v&&a(w)},Ee=>f(Ee))}})}static doWhile(e,n){return new Ut((a,f)=>{const v=()=>{!0===e()?n().next(()=>{v()},f):a()};v()})}}class Ru{constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.P=new ls,this.transaction.oncomplete=()=>{this.P.resolve()},this.transaction.onabort=()=>{n.error?this.P.reject(new cl(e,n.error)):this.P.resolve()},this.transaction.onerror=a=>{const f=Dl(a.target.error);this.P.reject(new cl(e,f))}}static open(e,n,a,f){try{return new Ru(n,e.transaction(f,a))}catch(v){throw new cl(n,v)}}get v(){return this.P.promise}abort(e){e&&this.P.reject(e),this.aborted||(Qt("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}V(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const n=this.transaction.objectStore(e);return new ko(n)}}class Do{constructor(e,n,a){this.name=e,this.version=n,this.S=a,12.2===Do.D((0,Qe.z$)())&&jr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Qt("SimpleDb","Removing database:",e),js(window.indexedDB.deleteDatabase(e)).toPromise()}static C(){if(!(0,Qe.hl)())return!1;if(Do.N())return!0;const e=(0,Qe.z$)(),n=Do.D(e),a=0<n&&n<10,f=Do.k(e),v=0<f&&f<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||a||v)}static N(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.O)}static M(e,n){return e.store(n)}static D(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),a=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(a)}static k(e){const n=e.match(/Android ([\d.]+)/i),a=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(a)}F(e){var n=this;return(0,fe.Z)(function*(){return n.db||(Qt("SimpleDb","Opening database:",n.name),n.db=yield new Promise((a,f)=>{const v=indexedDB.open(n.name,n.version);v.onsuccess=w=>{a(w.target.result)},v.onblocked=()=>{f(new cl(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},v.onerror=w=>{const R=w.target.error;f("VersionError"===R.name?new rn(Gt.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===R.name?new rn(Gt.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+R):new cl(e,R))},v.onupgradeneeded=w=>{Qt("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',w.oldVersion),n.S.$(w.target.result,v.transaction,w.oldVersion,n.version).next(()=>{Qt("SimpleDb","Database upgrade to version "+n.version+" complete")})}})),n.B&&(n.db.onversionchange=a=>n.B(a)),n.db})()}L(e){this.B=e,this.db&&(this.db.onversionchange=n=>e(n))}runTransaction(e,n,a,f){var v=this;return(0,fe.Z)(function*(){const w="readonly"===n;let R=0;for(;;){++R;try{v.db=yield v.F(e);const W=Ru.open(v.db,e,w?"readonly":"readwrite",a),Q=f(W).next(Ee=>(W.V(),Ee)).catch(Ee=>(W.abort(Ee),Ut.reject(Ee))).toPromise();return Q.catch(()=>{}),yield W.v,Q}catch(W){const Q=W,Ee="FirebaseError"!==Q.name&&R<3;if(Qt("SimpleDb","Transaction failed with error:",Q.message,"Retrying:",Ee),v.close(),!Ee)return Promise.reject(Q)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class bl{constructor(e){this.q=e,this.U=!1,this.K=null}get isDone(){return this.U}get G(){return this.K}set cursor(e){this.q=e}done(){this.U=!0}j(e){this.K=e}delete(){return js(this.q.delete())}}class cl extends rn{constructor(e,n){super(Gt.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function pi(o){return"IndexedDbTransactionError"===o.name}class ko{constructor(e){this.store=e}put(e,n){let a;return void 0!==n?(Qt("SimpleDb","PUT",this.store.name,e,n),a=this.store.put(n,e)):(Qt("SimpleDb","PUT",this.store.name,"<auto-key>",e),a=this.store.put(e)),js(a)}add(e){return Qt("SimpleDb","ADD",this.store.name,e,e),js(this.store.add(e))}get(e){return js(this.store.get(e)).next(n=>(void 0===n&&(n=null),Qt("SimpleDb","GET",this.store.name,e,n),n))}delete(e){return Qt("SimpleDb","DELETE",this.store.name,e),js(this.store.delete(e))}count(){return Qt("SimpleDb","COUNT",this.store.name),js(this.store.count())}W(e,n){const a=this.options(e,n);if(a.index||"function"!=typeof this.store.getAll){const f=this.cursor(a),v=[];return this.H(f,(w,R)=>{v.push(R)}).next(()=>v)}{const f=this.store.getAll(a.range);return new Ut((v,w)=>{f.onerror=R=>{w(R.target.error)},f.onsuccess=R=>{v(R.target.result)}})}}J(e,n){const a=this.store.getAll(e,null===n?void 0:n);return new Ut((f,v)=>{a.onerror=w=>{v(w.target.error)},a.onsuccess=w=>{f(w.target.result)}})}Y(e,n){Qt("SimpleDb","DELETE ALL",this.store.name);const a=this.options(e,n);a.X=!1;const f=this.cursor(a);return this.H(f,(v,w,R)=>R.delete())}Z(e,n){let a;n?a=e:(a={},n=e);const f=this.cursor(a);return this.H(f,n)}tt(e){const n=this.cursor({});return new Ut((a,f)=>{n.onerror=v=>{const w=Dl(v.target.error);f(w)},n.onsuccess=v=>{const w=v.target.result;w?e(w.primaryKey,w.value).next(R=>{R?w.continue():a()}):a()}})}H(e,n){const a=[];return new Ut((f,v)=>{e.onerror=w=>{v(w.target.error)},e.onsuccess=w=>{const R=w.target.result;if(!R)return void f();const W=new bl(R),Q=n(R.primaryKey,R.value,W);if(Q instanceof Ut){const Ee=Q.catch(et=>(W.done(),Ut.reject(et)));a.push(Ee)}W.isDone?f():null===W.G?R.continue():R.continue(W.G)}}).next(()=>Ut.waitFor(a))}options(e,n){let a;return void 0!==e&&("string"==typeof e?a=e:n=e),{index:a,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const a=this.store.index(e.index);return e.X?a.openKeyCursor(e.range,n):a.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function js(o){return new Ut((e,n)=>{o.onsuccess=a=>{e(a.target.result)},o.onerror=a=>{const f=Dl(a.target.error);n(f)}})}let Ul=!1;function Dl(o){const e=Do.D((0,Qe.z$)());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(o.message.indexOf(n)>=0){const a=new rn("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return Ul||(Ul=!0,setTimeout(()=>{throw a},0)),a}}return o}class Ya{constructor(e,n){this.asyncQueue=e,this.et=n,this.task=null}start(){this.nt(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}nt(e){var n=this;Qt("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,fe.Z)(function*(){n.task=null;try{Qt("IndexBackiller",`Documents written: ${yield n.et.st()}`)}catch(a){pi(a)?Qt("IndexBackiller","Ignoring IndexedDB error during index backfill: ",a):yield bo(a)}yield n.nt(6e4)}))}}class Sl{constructor(e,n){this.localStore=e,this.persistence=n}st(e=50){var n=this;return(0,fe.Z)(function*(){return n.persistence.runTransaction("Backfill Indexes","readwrite-primary",a=>n.it(a,e))})()}it(e,n){const a=new Set;let f=n,v=!0;return Ut.doWhile(()=>!0===v&&f>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(w=>{if(null!==w&&!a.has(w))return Qt("IndexBackiller",`Processing collection: ${w}`),this.rt(e,w,f).next(R=>{f-=R,a.add(w)});v=!1})).next(()=>n-f)}rt(e,n,a){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,n).next(f=>this.localStore.localDocuments.getNextDocuments(e,n,f,a).next(v=>{const w=v.changes;return this.localStore.indexManager.updateIndexEntries(e,w).next(()=>this.ot(f,v)).next(R=>(Qt("IndexBackiller",`Updating offset: ${R}`),this.localStore.indexManager.updateCollectionGroup(e,n,R))).next(()=>w.size)}))}ot(e,n){let a=e;return n.changes.forEach((f,v)=>{const w=ll(v);Is(w,a)>0&&(a=w)}),new Io(a.readTime,a.documentKey,Math.max(n.batchId,e.largestBatchId))}}let So=(()=>{class o{constructor(n,a){this.previousValue=n,a&&(a.sequenceNumberHandler=f=>this.ut(f),this.ct=f=>a.writeSequenceNumber(f))}ut(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){const n=++this.previousValue;return this.ct&&this.ct(n),n}}return o.at=-1,o})();class Pu{constructor(e,n,a,f,v,w,R,W){this.databaseId=e,this.appId=n,this.persistenceKey=a,this.host=f,this.ssl=v,this.forceLongPolling=w,this.autoDetectLongPolling=R,this.useFetchStreams=W}}class Ia{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Ia("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Ia&&e.projectId===this.projectId&&e.database===this.database}}function lu(o){let e=0;for(const n in o)Object.prototype.hasOwnProperty.call(o,n)&&e++;return e}function Ai(o,e){for(const n in o)Object.prototype.hasOwnProperty.call(o,n)&&e(n,o[n])}function T(o){for(const e in o)if(Object.prototype.hasOwnProperty.call(o,e))return!1;return!0}function M(o){return null==o}function I(o){return 0===o&&1/o==-1/0}function N(o){return"number"==typeof o&&Number.isInteger(o)&&!I(o)&&o<=Number.MAX_SAFE_INTEGER&&o>=Number.MIN_SAFE_INTEGER}class ne{constructor(e){this.binaryString=e}static fromBase64String(e){const n=atob(e);return new ne(n)}static fromUint8Array(e){const n=function(a){let f="";for(let v=0;v<a.length;++v)f+=String.fromCharCode(a[v]);return f}(e);return new ne(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let a=0;a<e.length;a++)n[a]=e.charCodeAt(a);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Jn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ne.EMPTY_BYTE_STRING=new ne("");const ce=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ot(o){if(jn(!!o),"string"==typeof o){let e=0;const n=ce.exec(o);if(jn(!!n),n[1]){let f=n[1];f=(f+"000000000").substr(0,9),e=Number(f)}const a=new Date(o);return{seconds:Math.floor(a.getTime()/1e3),nanos:e}}return{seconds:kt(o.seconds),nanos:kt(o.nanos)}}function kt(o){return"number"==typeof o?o:"string"==typeof o?Number(o):0}function wn(o){return"string"==typeof o?ne.fromBase64String(o):ne.fromUint8Array(o)}function Rn(o){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==o?void 0:o.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function br(o){const e=o.mapValue.fields.__previous_value__;return Rn(e)?br(e):e}function Er(o){const e=ot(o.mapValue.fields.__local_write_time__.timestampValue);return new Qi(e.seconds,e.nanos)}const Ci={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},bi={nullValue:"NULL_VALUE"};function Es(o){return"nullValue"in o?0:"booleanValue"in o?1:"integerValue"in o||"doubleValue"in o?2:"timestampValue"in o?3:"stringValue"in o?5:"bytesValue"in o?6:"referenceValue"in o?7:"geoPointValue"in o?8:"arrayValue"in o?9:"mapValue"in o?Rn(o)?4:ue(o)?9007199254740991:10:mn()}function cs(o,e){if(o===e)return!0;const n=Es(o);if(n!==Es(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return o.booleanValue===e.booleanValue;case 4:return Er(o).isEqual(Er(e));case 3:return function(a,f){if("string"==typeof a.timestampValue&&"string"==typeof f.timestampValue&&a.timestampValue.length===f.timestampValue.length)return a.timestampValue===f.timestampValue;const v=ot(a.timestampValue),w=ot(f.timestampValue);return v.seconds===w.seconds&&v.nanos===w.nanos}(o,e);case 5:return o.stringValue===e.stringValue;case 6:return f=e,wn(o.bytesValue).isEqual(wn(f.bytesValue));case 7:return o.referenceValue===e.referenceValue;case 8:return function(a,f){return kt(a.geoPointValue.latitude)===kt(f.geoPointValue.latitude)&&kt(a.geoPointValue.longitude)===kt(f.geoPointValue.longitude)}(o,e);case 2:return function(a,f){if("integerValue"in a&&"integerValue"in f)return kt(a.integerValue)===kt(f.integerValue);if("doubleValue"in a&&"doubleValue"in f){const v=kt(a.doubleValue),w=kt(f.doubleValue);return v===w?I(v)===I(w):isNaN(v)&&isNaN(w)}return!1}(o,e);case 9:return Va(o.arrayValue.values||[],e.arrayValue.values||[],cs);case 10:return function(a,f){const v=a.mapValue.fields||{},w=f.mapValue.fields||{};if(lu(v)!==lu(w))return!1;for(const R in v)if(v.hasOwnProperty(R)&&(void 0===w[R]||!cs(v[R],w[R])))return!1;return!0}(o,e);default:return mn()}var f}function Ls(o,e){return void 0!==(o.values||[]).find(n=>cs(n,e))}function Ms(o,e){if(o===e)return 0;const n=Es(o),a=Es(e);if(n!==a)return Jn(n,a);switch(n){case 0:case 9007199254740991:return 0;case 1:return Jn(o.booleanValue,e.booleanValue);case 2:return function(f,v){const w=kt(f.integerValue||f.doubleValue),R=kt(v.integerValue||v.doubleValue);return w<R?-1:w>R?1:w===R?0:isNaN(w)?isNaN(R)?0:-1:1}(o,e);case 3:return cu(o.timestampValue,e.timestampValue);case 4:return cu(Er(o),Er(e));case 5:return Jn(o.stringValue,e.stringValue);case 6:return function(f,v){const w=wn(f),R=wn(v);return w.compareTo(R)}(o.bytesValue,e.bytesValue);case 7:return function(f,v){const w=f.split("/"),R=v.split("/");for(let W=0;W<w.length&&W<R.length;W++){const Q=Jn(w[W],R[W]);if(0!==Q)return Q}return Jn(w.length,R.length)}(o.referenceValue,e.referenceValue);case 8:return function(f,v){const w=Jn(kt(f.latitude),kt(v.latitude));return 0!==w?w:Jn(kt(f.longitude),kt(v.longitude))}(o.geoPointValue,e.geoPointValue);case 9:return function(f,v){const w=f.values||[],R=v.values||[];for(let W=0;W<w.length&&W<R.length;++W){const Q=Ms(w[W],R[W]);if(Q)return Q}return Jn(w.length,R.length)}(o.arrayValue,e.arrayValue);case 10:return function(f,v){if(f===Ci.mapValue&&v===Ci.mapValue)return 0;if(f===Ci.mapValue)return 1;if(v===Ci.mapValue)return-1;const w=f.fields||{},R=Object.keys(w),W=v.fields||{},Q=Object.keys(W);R.sort(),Q.sort();for(let Ee=0;Ee<R.length&&Ee<Q.length;++Ee){const et=Jn(R[Ee],Q[Ee]);if(0!==et)return et;const Ft=Ms(w[R[Ee]],W[Q[Ee]]);if(0!==Ft)return Ft}return Jn(R.length,Q.length)}(o.mapValue,e.mapValue);default:throw mn()}}function cu(o,e){if("string"==typeof o&&"string"==typeof e&&o.length===e.length)return Jn(o,e);const n=ot(o),a=ot(e),f=Jn(n.seconds,a.seconds);return 0!==f?f:Jn(n.nanos,a.nanos)}function ws(o){return Hl(o)}function Hl(o){return"nullValue"in o?"null":"booleanValue"in o?""+o.booleanValue:"integerValue"in o?""+o.integerValue:"doubleValue"in o?""+o.doubleValue:"timestampValue"in o?function(a){const f=ot(a);return`time(${f.seconds},${f.nanos})`}(o.timestampValue):"stringValue"in o?o.stringValue:"bytesValue"in o?wn(o.bytesValue).toBase64():"referenceValue"in o?Mn.fromName(o.referenceValue).toString():"geoPointValue"in o?`geo(${(e=o.geoPointValue).latitude},${e.longitude})`:"arrayValue"in o?function(a){let f="[",v=!0;for(const w of a.values||[])v?v=!1:f+=",",f+=Hl(w);return f+"]"}(o.arrayValue):"mapValue"in o?function(a){const f=Object.keys(a.fields||{}).sort();let v="{",w=!0;for(const R of f)w?w=!1:v+=",",v+=`${R}:${Hl(a.fields[R])}`;return v+"}"}(o.mapValue):mn();var e}function Ca(o,e){return{referenceValue:`projects/${o.projectId}/databases/${o.database}/documents/${e.path.canonicalString()}`}}function dl(o){return!!o&&"integerValue"in o}function du(o){return!!o&&"arrayValue"in o}function Ic(o){return!!o&&"nullValue"in o}function Nu(o){return!!o&&"doubleValue"in o&&isNaN(Number(o.doubleValue))}function U(o){return!!o&&"mapValue"in o}function q(o){if(o.geoPointValue)return{geoPointValue:Object.assign({},o.geoPointValue)};if(o.timestampValue&&"object"==typeof o.timestampValue)return{timestampValue:Object.assign({},o.timestampValue)};if(o.mapValue){const e={mapValue:{fields:{}}};return Ai(o.mapValue.fields,(n,a)=>e.mapValue.fields[n]=q(a)),e}if(o.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(o.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=q(o.arrayValue.values[n]);return e}return Object.assign({},o)}function ue(o){return"__max__"===(((o.mapValue||{}).fields||{}).__type__||{}).stringValue}function Ye(o){return"nullValue"in o?bi:"booleanValue"in o?{booleanValue:!1}:"integerValue"in o||"doubleValue"in o?{doubleValue:NaN}:"timestampValue"in o?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in o?{stringValue:""}:"bytesValue"in o?{bytesValue:""}:"referenceValue"in o?Ca(Ia.empty(),Mn.empty()):"geoPointValue"in o?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in o?{arrayValue:{}}:"mapValue"in o?{mapValue:{}}:mn()}function Dt(o){return"nullValue"in o?{booleanValue:!1}:"booleanValue"in o?{doubleValue:NaN}:"integerValue"in o||"doubleValue"in o?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in o?{stringValue:""}:"stringValue"in o?{bytesValue:""}:"bytesValue"in o?Ca(Ia.empty(),Mn.empty()):"referenceValue"in o?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in o?{arrayValue:{}}:"arrayValue"in o?{mapValue:{}}:"mapValue"in o?Ci:mn()}function Lt(o,e){const n=Ms(o.value,e.value);return 0!==n?n:o.inclusive&&!e.inclusive?-1:!o.inclusive&&e.inclusive?1:0}function cn(o,e){const n=Ms(o.value,e.value);return 0!==n?n:o.inclusive&&!e.inclusive?1:!o.inclusive&&e.inclusive?-1:0}class Kn{constructor(e,n){this.position=e,this.inclusive=n}}function dr(o,e,n){let a=0;for(let f=0;f<o.position.length;f++){const v=e[f],w=o.position[f];if(a=v.field.isKeyField()?Mn.comparator(Mn.fromName(w.referenceValue),n.key):Ms(w,n.data.field(v.field)),"desc"===v.dir&&(a*=-1),0!==a)break}return a}function lr(o,e){if(null===o)return null===e;if(null===e||o.inclusive!==e.inclusive||o.position.length!==e.position.length)return!1;for(let n=0;n<o.position.length;n++)if(!cs(o.position[n],e.position[n]))return!1;return!0}class Qr{}class Bn extends Qr{constructor(e,n,a){super(),this.field=e,this.op=n,this.value=a}static create(e,n,a){return e.isKeyField()?"in"===n||"not-in"===n?this.createKeyFieldInFilter(e,n,a):new ym(e,n,a):"array-contains"===n?new jl(e,a):"in"===n?new fd(e,a):"not-in"===n?new og(e,a):"array-contains-any"===n?new Gl(e,a):new Bn(e,n,a)}static createKeyFieldInFilter(e,n,a){return"in"===n?new sg(e,a):new Ff(e,a)}matches(e){const n=e.data.field(this.field);return"!="===this.op?null!==n&&this.matchesComparison(Ms(n,this.value)):null!==n&&Es(this.value)===Es(n)&&this.matchesComparison(Ms(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return mn()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class ii extends Qr{constructor(e,n){super(),this.filters=e,this.op=n,this.ht=null}static create(e,n){return new ii(e,n)}matches(e){return Ss(this)?void 0===this.filters.find(n=>!n.matches(e)):void 0!==this.filters.find(n=>n.matches(e))}getFlattenedFilters(){return null!==this.ht||(this.ht=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ht}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.lt(n=>n.isInequality());return null!==e?e.field:null}lt(e){for(const n of this.getFlattenedFilters())if(e(n))return n;return null}}function Ss(o){return"and"===o.op}function Ou(o){return"or"===o.op}function hu(o){return aa(o)&&Ss(o)}function aa(o){for(const e of o.filters)if(e instanceof ii)return!1;return!0}function ua(o){if(o instanceof Bn)return o.field.canonicalString()+o.op.toString()+ws(o.value);if(hu(o))return o.filters.map(e=>ua(e)).join(",");{const e=o.filters.map(n=>ua(n)).join(",");return`${o.op}(${e})`}}function ro(o,e){return o instanceof Bn?(n=o,(a=e)instanceof Bn&&n.op===a.op&&n.field.isEqual(a.field)&&cs(n.value,a.value)):o instanceof ii?function(n,a){return a instanceof ii&&n.op===a.op&&n.filters.length===a.filters.length&&n.filters.reduce((f,v,w)=>f&&ro(v,a.filters[w]),!0)}(o,e):void mn();var n,a}function fu(o,e){const n=o.filters.concat(e);return ii.create(n,o.op)}function kf(o){return o instanceof Bn?`${(e=o).field.canonicalString()} ${e.op} ${ws(e.value)}`:o instanceof ii?function(e){return e.op.toString()+" {"+e.getFilters().map(kf).join(" ,")+"}"}(o):"Filter";var e}class ym extends Bn{constructor(e,n,a){super(e,n,a),this.key=Mn.fromName(a.referenceValue)}matches(e){const n=Mn.comparator(e.key,this.key);return this.matchesComparison(n)}}class sg extends Bn{constructor(e,n){super(e,"in",n),this.keys=hd(0,n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class Ff extends Bn{constructor(e,n){super(e,"not-in",n),this.keys=hd(0,n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function hd(o,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(a=>Mn.fromName(a.referenceValue))}class jl extends Bn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return du(n)&&Ls(n.arrayValue,this.value)}}class fd extends Bn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return null!==n&&Ls(this.value.arrayValue,n)}}class og extends Bn{constructor(e,n){super(e,"not-in",n)}matches(e){if(Ls(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return null!==n&&!Ls(this.value.arrayValue,n)}}class Gl extends Bn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!du(n)||!n.arrayValue.values)&&n.arrayValue.values.some(a=>Ls(this.value.arrayValue,a))}}class Cc{constructor(e,n="asc"){this.field=e,this.dir=n}}function Lf(o,e){return o.dir===e.dir&&o.field.isEqual(e.field)}class ds{constructor(e,n){this.comparator=e,this.root=n||Ji.EMPTY}insert(e,n){return new ds(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Ji.BLACK,null,null))}remove(e){return new ds(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ji.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const a=this.comparator(e,n.key);if(0===a)return n.value;a<0?n=n.left:a>0&&(n=n.right)}return null}indexOf(e){let n=0,a=this.root;for(;!a.isEmpty();){const f=this.comparator(e,a.key);if(0===f)return n+a.left.size;f<0?a=a.left:(n+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,a)=>(e(n,a),!1))}toString(){const e=[];return this.inorderTraversal((n,a)=>(e.push(`${n}:${a}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new pd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new pd(this.root,e,this.comparator,!1)}getReverseIterator(){return new pd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new pd(this.root,e,this.comparator,!0)}}class pd{constructor(e,n,a,f){this.isReverse=f,this.nodeStack=[];let v=1;for(;!e.isEmpty();)if(v=n?a(e.key,n):1,n&&f&&(v*=-1),v<0)e=this.isReverse?e.left:e.right;else{if(0===v){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ji{constructor(e,n,a,f,v){this.key=e,this.value=n,this.color=null!=a?a:Ji.RED,this.left=null!=f?f:Ji.EMPTY,this.right=null!=v?v:Ji.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,a,f,v){return new Ji(null!=e?e:this.key,null!=n?n:this.value,null!=a?a:this.color,null!=f?f:this.left,null!=v?v:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,a){let f=this;const v=a(e,f.key);return f=v<0?f.copy(null,null,null,f.left.insert(e,n,a),null):0===v?f.copy(null,n,null,null,null):f.copy(null,null,null,null,f.right.insert(e,n,a)),f.fixUp()}removeMin(){if(this.left.isEmpty())return Ji.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let a,f=this;if(n(e,f.key)<0)f.left.isEmpty()||f.left.isRed()||f.left.left.isRed()||(f=f.moveRedLeft()),f=f.copy(null,null,null,f.left.remove(e,n),null);else{if(f.left.isRed()&&(f=f.rotateRight()),f.right.isEmpty()||f.right.isRed()||f.right.left.isRed()||(f=f.moveRedRight()),0===n(e,f.key)){if(f.right.isEmpty())return Ji.EMPTY;a=f.right.min(),f=f.copy(a.key,a.value,null,null,f.right.removeMin())}f=f.copy(null,null,null,null,f.right.remove(e,n))}return f.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ji.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ji.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw mn();const e=this.left.check();if(e!==this.right.check())throw mn();return e+(this.isRed()?0:1)}}Ji.EMPTY=null,Ji.RED=!0,Ji.BLACK=!1,Ji.EMPTY=new class{constructor(){this.size=0}get key(){throw mn()}get value(){throw mn()}get color(){throw mn()}get left(){throw mn()}get right(){throw mn()}copy(o,e,n,a,f){return this}insert(o,e,n){return new Ji(o,e)}remove(o,e){return this}isEmpty(){return!0}inorderTraversal(o){return!1}reverseTraversal(o){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ii{constructor(e){this.comparator=e,this.data=new ds(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,a)=>(e(n),!1))}forEachInRange(e,n){const a=this.data.getIteratorFrom(e[0]);for(;a.hasNext();){const f=a.getNext();if(this.comparator(f.key,e[1])>=0)return;n(f.key)}}forEachWhile(e,n){let a;for(a=void 0!==n?this.data.getIteratorFrom(n):this.data.getIterator();a.hasNext();)if(!e(a.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new gd(this.data.getIterator())}getIteratorFrom(e){return new gd(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(a=>{n=n.add(a)}),n}isEqual(e){if(!(e instanceof Ii)||this.size!==e.size)return!1;const n=this.data.getIterator(),a=e.data.getIterator();for(;n.hasNext();){const f=n.getNext().key,v=a.getNext().key;if(0!==this.comparator(f,v))return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Ii(this.comparator);return n.data=e,n}}class gd{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function md(o){return o.hasNext()?o.getNext():void 0}class la{constructor(e){this.fields=e,e.sort(Hi.comparator)}static empty(){return new la([])}unionWith(e){let n=new Ii(Hi.comparator);for(const a of this.fields)n=n.add(a);for(const a of e)n=n.add(a);return new la(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Va(this.fields,e.fields,(n,a)=>n.isEqual(a))}}class Fo{constructor(e){this.value=e}static empty(){return new Fo({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let a=0;a<e.length-1;++a)if(n=(n.mapValue.fields||{})[e.get(a)],!U(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=q(n)}setAll(e){let n=Hi.emptyPath(),a={},f=[];e.forEach((w,R)=>{if(!n.isImmediateParentOf(R)){const W=this.getFieldsMap(n);this.applyChanges(W,a,f),a={},f=[],n=R.popLast()}w?a[R.lastSegment()]=q(w):f.push(R.lastSegment())});const v=this.getFieldsMap(n);this.applyChanges(v,a,f)}delete(e){const n=this.field(e.popLast());U(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return cs(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let a=0;a<e.length;++a){let f=n.mapValue.fields[e.get(a)];U(f)&&f.mapValue.fields||(f={mapValue:{fields:{}}},n.mapValue.fields[e.get(a)]=f),n=f}return n.mapValue.fields}applyChanges(e,n,a){Ai(n,(f,v)=>e[f]=v);for(const f of a)delete e[f]}clone(){return new Fo(q(this.value))}}function hl(o){const e=[];return Ai(o.fields,(n,a)=>{const f=new Hi([n]);if(U(a)){const v=hl(a.mapValue).fields;if(0===v.length)e.push(f);else for(const w of v)e.push(f.child(w))}else e.push(f)}),new la(e)}class Cs{constructor(e,n,a,f,v,w,R){this.key=e,this.documentType=n,this.version=a,this.readTime=f,this.createTime=v,this.data=w,this.documentState=R}static newInvalidDocument(e){return new Cs(e,0,Yn.min(),Yn.min(),Yn.min(),Fo.empty(),0)}static newFoundDocument(e,n,a,f){return new Cs(e,1,n,Yn.min(),a,f,0)}static newNoDocument(e,n){return new Cs(e,2,n,Yn.min(),Yn.min(),Fo.empty(),0)}static newUnknownDocument(e,n){return new Cs(e,3,n,Yn.min(),Yn.min(),Fo.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Yn.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Fo.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Fo.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Yn.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Cs&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Cs(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Bf{constructor(e,n=null,a=[],f=[],v=null,w=null,R=null){this.path=e,this.collectionGroup=n,this.orderBy=a,this.filters=f,this.limit=v,this.startAt=w,this.endAt=R,this.ft=null}}function zl(o,e=null,n=[],a=[],f=null,v=null,w=null){return new Bf(o,e,n,a,f,v,w)}function Wo(o){const e=bn(o);if(null===e.ft){let n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(a=>ua(a)).join(","),n+="|ob:",n+=e.orderBy.map(a=>{return(f=a).field.canonicalString()+f.dir;var f}).join(","),M(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(a=>ws(a)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(a=>ws(a)).join(",")),e.ft=n}return e.ft}function vd(o,e){if(o.limit!==e.limit||o.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<o.orderBy.length;n++)if(!Lf(o.orderBy[n],e.orderBy[n]))return!1;if(o.filters.length!==e.filters.length)return!1;for(let n=0;n<o.filters.length;n++)if(!ro(o.filters[n],e.filters[n]))return!1;return o.collectionGroup===e.collectionGroup&&!!o.path.isEqual(e.path)&&!!lr(o.startAt,e.startAt)&&lr(o.endAt,e.endAt)}function yd(o){return Mn.isDocumentKey(o.path)&&null===o.collectionGroup&&0===o.filters.length}function Qd(o,e){return o.filters.filter(n=>n instanceof Bn&&n.field.isEqual(e))}function Yh(o,e,n){let a=bi,f=!0;for(const v of Qd(o,e)){let w=bi,R=!0;switch(v.op){case"<":case"<=":w=Ye(v.value);break;case"==":case"in":case">=":w=v.value;break;case">":w=v.value,R=!1;break;case"!=":case"not-in":w=bi}Lt({value:a,inclusive:f},{value:w,inclusive:R})<0&&(a=w,f=R)}if(null!==n)for(let v=0;v<o.orderBy.length;++v)if(o.orderBy[v].field.isEqual(e)){const w=n.position[v];Lt({value:a,inclusive:f},{value:w,inclusive:n.inclusive})<0&&(a=w,f=n.inclusive);break}return{value:a,inclusive:f}}function bc(o,e,n){let a=Ci,f=!0;for(const v of Qd(o,e)){let w=Ci,R=!0;switch(v.op){case">=":case">":w=Dt(v.value),R=!1;break;case"==":case"in":case"<=":w=v.value;break;case"<":w=v.value,R=!1;break;case"!=":case"not-in":w=Ci}cn({value:a,inclusive:f},{value:w,inclusive:R})>0&&(a=w,f=R)}if(null!==n)for(let v=0;v<o.orderBy.length;++v)if(o.orderBy[v].field.isEqual(e)){const w=n.position[v];cn({value:a,inclusive:f},{value:w,inclusive:n.inclusive})>0&&(a=w,f=n.inclusive);break}return{value:a,inclusive:f}}class ku{constructor(e,n=null,a=[],f=[],v=null,w="F",R=null,W=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=a,this.filters=f,this.limit=v,this.limitType=w,this.startAt=R,this.endAt=W,this.dt=null,this._t=null}}function _d(o,e,n,a,f,v,w,R){return new ku(o,e,n,a,f,v,w,R)}function Dc(o){return new ku(o)}function ba(o){return 0===o.filters.length&&null===o.limit&&null==o.startAt&&null==o.endAt&&(0===o.explicitOrderBy.length||1===o.explicitOrderBy.length&&o.explicitOrderBy[0].field.isKeyField())}function Zh(o){return o.explicitOrderBy.length>0?o.explicitOrderBy[0].field:null}function Sc(o){for(const e of o.filters){const n=e.getFirstInequalityField();if(null!==n)return n}return null}function Ko(o){return null!==o.collectionGroup}function Fu(o){const e=bn(o);if(null===e.dt){e.dt=[];const n=Sc(e),a=Zh(e);if(null!==n&&null===a)n.isKeyField()||e.dt.push(new Cc(n)),e.dt.push(new Cc(Hi.keyField(),"asc"));else{let f=!1;for(const v of e.explicitOrderBy)e.dt.push(v),v.field.isKeyField()&&(f=!0);if(!f){const v=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.dt.push(new Cc(Hi.keyField(),v))}}}return e.dt}function To(o){const e=bn(o);if(!e._t)if("F"===e.limitType)e._t=zl(e.path,e.collectionGroup,Fu(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const v of Fu(e))n.push(new Cc(v.field,"desc"===v.dir?"asc":"desc"));const a=e.endAt?new Kn(e.endAt.position,e.endAt.inclusive):null,f=e.startAt?new Kn(e.startAt.position,e.startAt.inclusive):null;e._t=zl(e.path,e.collectionGroup,n,e.filters,e.limit,a,f)}return e._t}function Ed(o,e){e.getFirstInequalityField(),Sc(o);const n=o.filters.concat([e]);return new ku(o.path,o.collectionGroup,o.explicitOrderBy.slice(),n,o.limit,o.limitType,o.startAt,o.endAt)}function vo(o,e,n){return new ku(o.path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),e,n,o.startAt,o.endAt)}function Lu(o,e){return vd(To(o),To(e))&&o.limitType===e.limitType}function Yo(o){return`${Wo(To(o))}|lt:${o.limitType}`}function Tc(o){return`Query(target=${function(e){let n=e.path.canonicalString();return null!==e.collectionGroup&&(n+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(n+=`, filters: [${e.filters.map(a=>kf(a)).join(", ")}]`),M(e.limit)||(n+=", limit: "+e.limit),e.orderBy.length>0&&(n+=`, orderBy: [${e.orderBy.map(a=>{return`${(f=a).field.canonicalString()} (${f.dir})`;var f}).join(", ")}]`),e.startAt&&(n+=", startAt: ",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(a=>ws(a)).join(",")),e.endAt&&(n+=", endAt: ",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(a=>ws(a)).join(",")),`Target(${n})`}(To(o))}; limitType=${o.limitType})`}function Bu(o,e){return e.isFoundDocument()&&function(n,a){const f=a.key.path;return null!==n.collectionGroup?a.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(f):Mn.isDocumentKey(n.path)?n.path.isEqual(f):n.path.isImmediateParentOf(f)}(o,e)&&function(n,a){for(const f of Fu(n))if(!f.field.isKeyField()&&null===a.data.field(f.field))return!1;return!0}(o,e)&&function(n,a){for(const f of n.filters)if(!f.matches(a))return!1;return!0}(o,e)&&(a=e,!((n=o).startAt&&!function(f,v,w){const R=dr(f,v,w);return f.inclusive?R<=0:R<0}(n.startAt,Fu(n),a)||n.endAt&&!function(f,v,w){const R=dr(f,v,w);return f.inclusive?R>=0:R>0}(n.endAt,Fu(n),a)));var n,a}function io(o){return o.collectionGroup||(o.path.length%2==1?o.path.lastSegment():o.path.get(o.path.length-2))}function Jd(o){return(e,n)=>{let a=!1;for(const f of Fu(o)){const v=Ao(f,e,n);if(0!==v)return v;a=a||f.field.isKeyField()}return 0}}function Ao(o,e,n){const a=o.field.isKeyField()?Mn.comparator(e.key,n.key):function(f,v,w){const R=v.data.field(f),W=w.data.field(f);return null!==R&&null!==W?Ms(R,W):mn()}(o.field,e,n);switch(o.dir){case"asc":return a;case"desc":return-1*a;default:return mn()}}function ql(o,e){if(o.wt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:I(e)?"-0":e}}function wd(o){return{integerValue:""+o}}function Ac(o,e){return N(e)?wd(e):ql(o,e)}class xc{constructor(){this._=void 0}}function Za(o,e,n){return o instanceof Da?function(a,f){const v={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return f&&(v.fields.__previous_value__=f),{mapValue:v}}(n,e):o instanceof $u?th(o,e):o instanceof Pa?ca(o,e):function(a,f){const v=eh(a,f),w=fl(v)+fl(a.gt);return dl(v)&&dl(a.gt)?wd(w):ql(a.yt,w)}(o,e)}function Id(o,e,n){return o instanceof $u?th(o,e):o instanceof Pa?ca(o,e):n}function eh(o,e){return o instanceof Vu?dl(n=e)||(a=n)&&"doubleValue"in a?e:{integerValue:0}:null;var a,n}class Da extends xc{}class $u extends xc{constructor(e){super(),this.elements=e}}function th(o,e){const n=Lo(e);for(const a of o.elements)n.some(f=>cs(f,a))||n.push(a);return{arrayValue:{values:n}}}class Pa extends xc{constructor(e){super(),this.elements=e}}function ca(o,e){let n=Lo(e);for(const a of o.elements)n=n.filter(f=>!cs(f,a));return{arrayValue:{values:n}}}class Vu extends xc{constructor(e,n){super(),this.yt=e,this.gt=n}}function fl(o){return kt(o.integerValue||o.doubleValue)}function Lo(o){return du(o)&&o.arrayValue.values?o.arrayValue.values.slice():[]}class Sa{constructor(e,n){this.field=e,this.transform=n}}class Wl{constructor(e,n){this.version=e,this.transformResults=n}}class Ts{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Ts}static exists(e){return new Ts(void 0,e)}static updateTime(e){return new Ts(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function pl(o,e){return void 0!==o.updateTime?e.isFoundDocument()&&e.version.isEqual(o.updateTime):void 0===o.exists||o.exists===e.isFoundDocument()}class gl{}function Na(o,e){if(!o.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return o.isNoDocument()?new Zl(o.key,Ts.none()):new Yl(o.key,o.data,Ts.none());{const n=o.data,a=Fo.empty();let f=new Ii(Hi.comparator);for(let v of e.fields)if(!f.has(v)){let w=n.field(v);null===w&&v.length>1&&(v=v.popLast(),w=n.field(v)),null===w?a.delete(v):a.set(v,w),f=f.add(v)}return new pu(o.key,a,new la(f.toArray()),Ts.none())}}function Tl(o,e,n){o instanceof Yl?function(a,f,v){const w=a.value.clone(),R=Ta(a.fieldTransforms,f,v.transformResults);w.setAll(R),f.convertToFoundDocument(v.version,w).setHasCommittedMutations()}(o,e,n):o instanceof pu?function(a,f,v){if(!pl(a.precondition,f))return void f.convertToUnknownDocument(v.version);const w=Ta(a.fieldTransforms,f,v.transformResults),R=f.data;R.setAll(bd(a)),R.setAll(w),f.convertToFoundDocument(v.version,R).setHasCommittedMutations()}(o,e,n):e.convertToNoDocument(n.version).setHasCommittedMutations()}function Kl(o,e,n,a){return o instanceof Yl?function(f,v,w,R){if(!pl(f.precondition,v))return w;const W=f.value.clone(),Q=rh(f.fieldTransforms,R,v);return W.setAll(Q),v.convertToFoundDocument(v.version,W).setHasLocalMutations(),null}(o,e,n,a):o instanceof pu?function(f,v,w,R){if(!pl(f.precondition,v))return w;const W=rh(f.fieldTransforms,R,v),Q=v.data;return Q.setAll(bd(f)),Q.setAll(W),v.convertToFoundDocument(v.version,Q).setHasLocalMutations(),null===w?null:w.unionWith(f.fieldMask.fields).unionWith(f.fieldTransforms.map(Ee=>Ee.field))}(o,e,n,a):(w=n,pl(o.precondition,v=e)?(v.convertToNoDocument(v.version).setHasLocalMutations(),null):w);var v,w}function Cd(o,e){let n=null;for(const a of o.fieldTransforms){const f=e.data.field(a.field),v=eh(a.transform,f||null);null!=v&&(null===n&&(n=Fo.empty()),n.set(a.field,v))}return n||null}function nh(o,e){return o.type===e.type&&!!o.key.isEqual(e.key)&&!!o.precondition.isEqual(e.precondition)&&(a=e.fieldTransforms,!!(void 0===(n=o.fieldTransforms)&&void 0===a||n&&a&&Va(n,a,(f,v)=>function Uu(o,e){return o.field.isEqual(e.field)&&(a=e.transform,(n=o.transform)instanceof $u&&a instanceof $u||n instanceof Pa&&a instanceof Pa?Va(n.elements,a.elements,cs):n instanceof Vu&&a instanceof Vu?cs(n.gt,a.gt):n instanceof Da&&a instanceof Da);var n,a}(f,v))))&&(0===o.type?o.value.isEqual(e.value):1!==o.type||o.data.isEqual(e.data)&&o.fieldMask.isEqual(e.fieldMask));var n,a}class Yl extends gl{constructor(e,n,a,f=[]){super(),this.key=e,this.value=n,this.precondition=a,this.fieldTransforms=f,this.type=0}getFieldMask(){return null}}class pu extends gl{constructor(e,n,a,f,v=[]){super(),this.key=e,this.data=n,this.fieldMask=a,this.precondition=f,this.fieldTransforms=v,this.type=1}getFieldMask(){return this.fieldMask}}function bd(o){const e=new Map;return o.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const a=o.data.field(n);e.set(n,a)}}),e}function Ta(o,e,n){const a=new Map;jn(o.length===n.length);for(let f=0;f<n.length;f++){const v=o[f],w=v.transform,R=e.data.field(v.field);a.set(v.field,Id(w,R,n[f]))}return a}function rh(o,e,n){const a=new Map;for(const f of o){const v=f.transform,w=n.data.field(f.field);a.set(f.field,Za(v,w,e))}return a}class Zl extends gl{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Hu extends gl{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Al{constructor(e){this.count=e}}var so,ji;function ag(o){switch(o){default:return mn();case Gt.CANCELLED:case Gt.UNKNOWN:case Gt.DEADLINE_EXCEEDED:case Gt.RESOURCE_EXHAUSTED:case Gt.INTERNAL:case Gt.UNAVAILABLE:case Gt.UNAUTHENTICATED:return!1;case Gt.INVALID_ARGUMENT:case Gt.NOT_FOUND:case Gt.ALREADY_EXISTS:case Gt.PERMISSION_DENIED:case Gt.FAILED_PRECONDITION:case Gt.ABORTED:case Gt.OUT_OF_RANGE:case Gt.UNIMPLEMENTED:case Gt.DATA_LOSS:return!0}}function Mc(o){if(void 0===o)return jr("GRPC error has no .code"),Gt.UNKNOWN;switch(o){case so.OK:return Gt.OK;case so.CANCELLED:return Gt.CANCELLED;case so.UNKNOWN:return Gt.UNKNOWN;case so.DEADLINE_EXCEEDED:return Gt.DEADLINE_EXCEEDED;case so.RESOURCE_EXHAUSTED:return Gt.RESOURCE_EXHAUSTED;case so.INTERNAL:return Gt.INTERNAL;case so.UNAVAILABLE:return Gt.UNAVAILABLE;case so.UNAUTHENTICATED:return Gt.UNAUTHENTICATED;case so.INVALID_ARGUMENT:return Gt.INVALID_ARGUMENT;case so.NOT_FOUND:return Gt.NOT_FOUND;case so.ALREADY_EXISTS:return Gt.ALREADY_EXISTS;case so.PERMISSION_DENIED:return Gt.PERMISSION_DENIED;case so.FAILED_PRECONDITION:return Gt.FAILED_PRECONDITION;case so.ABORTED:return Gt.ABORTED;case so.OUT_OF_RANGE:return Gt.OUT_OF_RANGE;case so.UNIMPLEMENTED:return Gt.UNIMPLEMENTED;case so.DATA_LOSS:return Gt.DATA_LOSS;default:return mn()}}(ji=so||(so={}))[ji.OK=0]="OK",ji[ji.CANCELLED=1]="CANCELLED",ji[ji.UNKNOWN=2]="UNKNOWN",ji[ji.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ji[ji.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ji[ji.NOT_FOUND=5]="NOT_FOUND",ji[ji.ALREADY_EXISTS=6]="ALREADY_EXISTS",ji[ji.PERMISSION_DENIED=7]="PERMISSION_DENIED",ji[ji.UNAUTHENTICATED=16]="UNAUTHENTICATED",ji[ji.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ji[ji.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ji[ji.ABORTED=10]="ABORTED",ji[ji.OUT_OF_RANGE=11]="OUT_OF_RANGE",ji[ji.UNIMPLEMENTED=12]="UNIMPLEMENTED",ji[ji.INTERNAL=13]="INTERNAL",ji[ji.UNAVAILABLE=14]="UNAVAILABLE",ji[ji.DATA_LOSS=15]="DATA_LOSS";class xl{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),a=this.inner[n];if(void 0!==a)for(const[f,v]of a)if(this.equalsFn(f,e))return v}has(e){return void 0!==this.get(e)}set(e,n){const a=this.mapKeyFn(e),f=this.inner[a];if(void 0===f)return this.inner[a]=[[e,n]],void this.innerSize++;for(let v=0;v<f.length;v++)if(this.equalsFn(f[v][0],e))return void(f[v]=[e,n]);f.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),a=this.inner[n];if(void 0===a)return!1;for(let f=0;f<a.length;f++)if(this.equalsFn(a[f][0],e))return 1===a.length?delete this.inner[n]:a.splice(f,1),this.innerSize--,!0;return!1}forEach(e){Ai(this.inner,(n,a)=>{for(const[f,v]of a)e(f,v)})}isEmpty(){return T(this.inner)}size(){return this.innerSize}}const Xh=new ds(Mn.comparator);function da(){return Xh}const Xl=new ds(Mn.comparator);function ju(...o){let e=Xl;for(const n of o)e=e.insert(n.key,n);return e}function ih(o){let e=Xl;return o.forEach((n,a)=>e=e.insert(n,a.overlayedDocument)),e}function Gr(){return Jl()}function Ql(){return Jl()}function Jl(){return new xl(o=>o.toString(),(o,e)=>o.isEqual(e))}const fs=new ds(Mn.comparator),ec=new Ii(Mn.comparator);function qr(...o){let e=ec;for(const n of o)e=e.add(n);return e}const Rc=new Ii(Jn);function Ml(){return Rc}class Rl{constructor(e,n,a,f,v){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=a,this.documentUpdates=f,this.resolvedLimboDocuments=v}static createSynthesizedRemoteEventForCurrentChange(e,n,a){const f=new Map;return f.set(e,Pc.createSynthesizedTargetChangeForCurrentChange(e,n,a)),new Rl(Yn.min(),f,Ml(),da(),qr())}}class Pc{constructor(e,n,a,f,v){this.resumeToken=e,this.current=n,this.addedDocuments=a,this.modifiedDocuments=f,this.removedDocuments=v}static createSynthesizedTargetChangeForCurrentChange(e,n,a){return new Pc(a,n,qr(),qr(),qr())}}class Gu{constructor(e,n,a,f){this.It=e,this.removedTargetIds=n,this.key=a,this.Tt=f}}class Dd{constructor(e,n){this.targetId=e,this.Et=n}}class gu{constructor(e,n,a=ne.EMPTY_BYTE_STRING,f=null){this.state=e,this.targetIds=n,this.resumeToken=a,this.cause=f}}class tc{constructor(){this.At=0,this.Rt=Pl(),this.bt=ne.EMPTY_BYTE_STRING,this.Pt=!1,this.vt=!0}get current(){return this.Pt}get resumeToken(){return this.bt}get Vt(){return 0!==this.At}get St(){return this.vt}Dt(e){e.approximateByteSize()>0&&(this.vt=!0,this.bt=e)}Ct(){let e=qr(),n=qr(),a=qr();return this.Rt.forEach((f,v)=>{switch(v){case 0:e=e.add(f);break;case 2:n=n.add(f);break;case 1:a=a.add(f);break;default:mn()}}),new Pc(this.bt,this.Pt,e,n,a)}xt(){this.vt=!1,this.Rt=Pl()}Nt(e,n){this.vt=!0,this.Rt=this.Rt.insert(e,n)}kt(e){this.vt=!0,this.Rt=this.Rt.remove(e)}Ot(){this.At+=1}Mt(){this.At-=1}Ft(){this.vt=!0,this.Pt=!0}}class sh{constructor(e){this.$t=e,this.Bt=new Map,this.Lt=da(),this.qt=Sd(),this.Ut=new Ii(Jn)}Kt(e){for(const n of e.It)e.Tt&&e.Tt.isFoundDocument()?this.Gt(n,e.Tt):this.Qt(n,e.key,e.Tt);for(const n of e.removedTargetIds)this.Qt(n,e.key,e.Tt)}jt(e){this.forEachTarget(e,n=>{const a=this.Wt(n);switch(e.state){case 0:this.zt(n)&&a.Dt(e.resumeToken);break;case 1:a.Mt(),a.Vt||a.xt(),a.Dt(e.resumeToken);break;case 2:a.Mt(),a.Vt||this.removeTarget(n);break;case 3:this.zt(n)&&(a.Ft(),a.Dt(e.resumeToken));break;case 4:this.zt(n)&&(this.Ht(n),a.Dt(e.resumeToken));break;default:mn()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Bt.forEach((a,f)=>{this.zt(f)&&n(f)})}Jt(e){const n=e.targetId,a=e.Et.count,f=this.Yt(n);if(f){const v=f.target;if(yd(v))if(0===a){const w=new Mn(v.path);this.Qt(n,w,Cs.newNoDocument(w,Yn.min()))}else jn(1===a);else this.Xt(n)!==a&&(this.Ht(n),this.Ut=this.Ut.add(n))}}Zt(e){const n=new Map;this.Bt.forEach((v,w)=>{const R=this.Yt(w);if(R){if(v.current&&yd(R.target)){const W=new Mn(R.target.path);null!==this.Lt.get(W)||this.te(w,W)||this.Qt(w,W,Cs.newNoDocument(W,e))}v.St&&(n.set(w,v.Ct()),v.xt())}});let a=qr();this.qt.forEach((v,w)=>{let R=!0;w.forEachWhile(W=>{const Q=this.Yt(W);return!Q||2===Q.purpose||(R=!1,!1)}),R&&(a=a.add(v))}),this.Lt.forEach((v,w)=>w.setReadTime(e));const f=new Rl(e,n,this.Ut,this.Lt,a);return this.Lt=da(),this.qt=Sd(),this.Ut=new Ii(Jn),f}Gt(e,n){if(!this.zt(e))return;const a=this.te(e,n.key)?2:0;this.Wt(e).Nt(n.key,a),this.Lt=this.Lt.insert(n.key,n),this.qt=this.qt.insert(n.key,this.ee(n.key).add(e))}Qt(e,n,a){if(!this.zt(e))return;const f=this.Wt(e);this.te(e,n)?f.Nt(n,1):f.kt(n),this.qt=this.qt.insert(n,this.ee(n).delete(e)),a&&(this.Lt=this.Lt.insert(n,a))}removeTarget(e){this.Bt.delete(e)}Xt(e){const n=this.Wt(e).Ct();return this.$t.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ot(e){this.Wt(e).Ot()}Wt(e){let n=this.Bt.get(e);return n||(n=new tc,this.Bt.set(e,n)),n}ee(e){let n=this.qt.get(e);return n||(n=new Ii(Jn),this.qt=this.qt.insert(e,n)),n}zt(e){const n=null!==this.Yt(e);return n||Qt("WatchChangeAggregator","Detected inactive target",e),n}Yt(e){const n=this.Bt.get(e);return n&&n.Vt?null:this.$t.ne(e)}Ht(e){this.Bt.set(e,new tc),this.$t.getRemoteKeysForTarget(e).forEach(n=>{this.Qt(e,n,null)})}te(e,n){return this.$t.getRemoteKeysForTarget(e).has(n)}}function Sd(){return new ds(Mn.comparator)}function Pl(){return new ds(Mn.comparator)}const $f={asc:"ASCENDING",desc:"DESCENDING"},Oa={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Vf={and:"AND",or:"OR"};class Qh{constructor(e,n){this.databaseId=e,this.wt=n}}function ml(o,e){return o.wt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Ha(o,e){return o.wt?e.toBase64():e.toUint8Array()}function Nl(o,e){return ml(o,e.toTimestamp())}function bs(o){return jn(!!o),Yn.fromTimestamp(function(e){const n=ot(e);return new Qi(n.seconds,n.nanos)}(o))}function Nc(o,e){return(n=o,new _i(["projects",n.projectId,"databases",n.database])).child("documents").child(e).canonicalString();var n}function Jh(o){const e=_i.fromString(o);return jn(uh(e)),e}function Ol(o,e){return Nc(o.databaseId,e.path)}function Zo(o,e){const n=Jh(e);if(n.get(1)!==o.databaseId.projectId)throw new rn(Gt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+o.databaseId.projectId);if(n.get(3)!==o.databaseId.database)throw new rn(Gt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+o.databaseId.database);return new Mn(b(n))}function zu(o,e){return Nc(o.databaseId,e)}function Uf(o){const e=Jh(o);return 4===e.length?_i.emptyPath():b(e)}function Oc(o){return new _i(["projects",o.databaseId.projectId,"databases",o.databaseId.database]).canonicalString()}function b(o){return jn(o.length>4&&"documents"===o.get(4)),o.popFirst(5)}function m(o,e,n){return{name:Ol(o,e),fields:n.value.mapValue.fields}}function _(o,e,n){const a=Zo(o,e.name),f=bs(e.updateTime),v=e.createTime?bs(e.createTime):Yn.min(),w=new Fo({mapValue:{fields:e.fields}}),R=Cs.newFoundDocument(a,f,v,w);return n&&R.setHasCommittedMutations(),n?R.setHasCommittedMutations():R}function pe(o,e){let n;if(e instanceof Yl)n={update:m(o,e.key,e.value)};else if(e instanceof Zl)n={delete:Ol(o,e.key)};else if(e instanceof pu)n={update:m(o,e.key,e.data),updateMask:ah(e.fieldMask)};else{if(!(e instanceof Hu))return mn();n={verify:Ol(o,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(a=>function(f,v){const w=v.transform;if(w instanceof Da)return{fieldPath:v.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(w instanceof $u)return{fieldPath:v.field.canonicalString(),appendMissingElements:{values:w.elements}};if(w instanceof Pa)return{fieldPath:v.field.canonicalString(),removeAllFromArray:{values:w.elements}};if(w instanceof Vu)return{fieldPath:v.field.canonicalString(),increment:w.gt};throw mn()}(0,a))),e.precondition.isNone||(n.currentDocument=void 0!==(f=e.precondition).updateTime?{updateTime:Nl(o,f.updateTime)}:void 0!==f.exists?{exists:f.exists}:mn()),n;var f}function _t(o,e){const n=e.currentDocument?void 0!==(f=e.currentDocument).updateTime?Ts.updateTime(bs(f.updateTime)):void 0!==f.exists?Ts.exists(f.exists):Ts.none():Ts.none(),a=e.updateTransforms?e.updateTransforms.map(f=>function(v,w){let R=null;"setToServerValue"in w?(jn("REQUEST_TIME"===w.setToServerValue),R=new Da):"appendMissingElements"in w?R=new $u(w.appendMissingElements.values||[]):"removeAllFromArray"in w?R=new Pa(w.removeAllFromArray.values||[]):"increment"in w?R=new Vu(v,w.increment):mn();const W=Hi.fromServerFormat(w.fieldPath);return new Sa(W,R)}(o,f)):[];var f;if(e.update){const f=Zo(o,e.update.name),v=new Fo({mapValue:{fields:e.update.fields}});if(e.updateMask){const w=new la((e.updateMask.fieldPaths||[]).map(Q=>Hi.fromServerFormat(Q)));return new pu(f,v,w,n,a)}return new Yl(f,v,n,a)}if(e.delete){const f=Zo(o,e.delete);return new Zl(f,n)}if(e.verify){const f=Zo(o,e.verify);return new Hu(f,n)}return mn()}function Pn(o,e){return{documents:[zu(o,e.path)]}}function Qn(o,e){const n={structuredQuery:{}},a=e.path;null!==e.collectionGroup?(n.parent=zu(o,a),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=zu(o,a.popLast()),n.structuredQuery.from=[{collectionId:a.lastSegment()}]);const f=function(W){if(0!==W.length)return qu(ii.create(W,"and"))}(e.filters);f&&(n.structuredQuery.where=f);const v=function(W){if(0!==W.length)return W.map(Q=>{return{field:mu((Ee=Q).field),direction:Xa(Ee.dir)};var Ee})}(e.orderBy);v&&(n.structuredQuery.orderBy=v);const w=(Q=e.limit,o.wt||M(Q)?Q:{value:Q});var Q,R,W;return null!==w&&(n.structuredQuery.limit=w),e.startAt&&(n.structuredQuery.startAt={before:(R=e.startAt).inclusive,values:R.position}),e.endAt&&(n.structuredQuery.endAt={before:!(W=e.endAt).inclusive,values:W.position}),n}function Pr(o){let e=Uf(o.parent);const n=o.structuredQuery,a=n.from?n.from.length:0;let f=null;if(a>0){jn(1===a);const Ee=n.from[0];Ee.allDescendants?f=Ee.collectionId:e=e.child(Ee.collectionId)}let v=[];n.where&&(v=function(Ee){const et=oo(Ee);return et instanceof ii&&hu(et)?et.getFilters():[et]}(n.where));let w=[];n.orderBy&&(w=n.orderBy.map(Ee=>{return new Cc(Xo((et=Ee).field),function(Ft){switch(Ft){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(et.direction));var et}));let R=null;n.limit&&(R=function(Ee){let et;return et="object"==typeof Ee?Ee.value:Ee,M(et)?null:et}(n.limit));let W=null;var Ee;n.startAt&&(W=new Kn((Ee=n.startAt).values||[],!!Ee.before));let Q=null;return n.endAt&&(Q=function(Ee){return new Kn(Ee.values||[],!Ee.before)}(n.endAt)),_d(e,f,w,v,R,"F",W,Q)}function oo(o){return void 0!==o.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const n=Xo(e.unaryFilter.field);return Bn.create(n,"==",{doubleValue:NaN});case"IS_NULL":const a=Xo(e.unaryFilter.field);return Bn.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const f=Xo(e.unaryFilter.field);return Bn.create(f,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const v=Xo(e.unaryFilter.field);return Bn.create(v,"!=",{nullValue:"NULL_VALUE"});default:return mn()}}(o):void 0!==o.fieldFilter?Bn.create(Xo((e=o).fieldFilter.field),function(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return mn()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==o.compositeFilter?function(e){return ii.create(e.compositeFilter.filters.map(n=>oo(n)),function(n){switch(n){case"AND":return"and";case"OR":return"or";default:return mn()}}(e.compositeFilter.op))}(o):mn();var e}function Xa(o){return $f[o]}function oh(o){return Oa[o]}function Hf(o){return Vf[o]}function mu(o){return{fieldPath:o.canonicalString()}}function Xo(o){return Hi.fromServerFormat(o.fieldPath)}function qu(o){return o instanceof Bn?function(e){if("=="===e.op){if(Nu(e.value))return{unaryFilter:{field:mu(e.field),op:"IS_NAN"}};if(Ic(e.value))return{unaryFilter:{field:mu(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Nu(e.value))return{unaryFilter:{field:mu(e.field),op:"IS_NOT_NAN"}};if(Ic(e.value))return{unaryFilter:{field:mu(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:mu(e.field),op:oh(e.op),value:e.value}}}(o):o instanceof ii?function(e){const n=e.getFilters().map(a=>qu(a));return 1===n.length?n[0]:{compositeFilter:{op:Hf(e.op),filters:n}}}(o):mn()}function ah(o){const e=[];return o.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function uh(o){return o.length>=4&&"projects"===o.get(0)&&"databases"===o.get(2)}function Qo(o){let e="";for(let n=0;n<o.length;n++)e.length>0&&(e=Gf(e)),e=jf(o.get(n),e);return Gf(e)}function jf(o,e){let n=e;const a=o.length;for(let f=0;f<a;f++){const v=o.charAt(f);switch(v){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=v}}return n}function Gf(o){return o+"\x01\x01"}function Wu(o){const e=o.length;if(jn(e>=2),2===e)return jn("\x01"===o.charAt(0)&&"\x01"===o.charAt(1)),_i.emptyPath();const n=e-2,a=[];let f="";for(let v=0;v<e;){const w=o.indexOf("\x01",v);switch((w<0||w>n)&&mn(),o.charAt(w+1)){case"\x01":const R=o.substring(v,w);let W;0===f.length?W=R:(f+=R,W=f,f=""),a.push(W);break;case"\x10":f+=o.substring(v,w),f+="\0";break;case"\x11":f+=o.substring(v,w+1);break;default:mn()}v=w+2}return new _i(a)}const kc=["userId","batchId"];function Fc(o,e){return[o,Qo(e)]}function jv(o,e,n){return[o,Qo(e),n]}const Gv={},ug=["prefixPath","collectionGroup","readTime","documentId"],zv=["prefixPath","collectionGroup","documentId"],zf=["collectionGroup","readTime","prefixPath","documentId"],_m=["canonicalId","targetId"],Em=["targetId","path"],lg=["path","targetId"],qf=["collectionId","parent"],wm=["indexId","uid"],cg=["uid","sequenceNumber"],qv=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],yo=["indexId","uid","orderedDocumentKey"],Sr=["userId","collectionPath","documentId"],Wv=["userId","collectionPath","largestBatchId"],dg=["userId","collectionGroup","largestBatchId"],Ku=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Im=[...Ku,"documentOverlays"],Cm=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],bm=Cm,Kv=[...bm,"indexConfiguration","indexState","indexEntries"];class lh extends Co{constructor(e,n){super(),this.se=e,this.currentSequenceNumber=n}}function Aa(o,e){const n=bn(o);return Do.M(n.se,e)}class Dm{constructor(e,n,a,f){this.batchId=e,this.localWriteTime=n,this.baseMutations=a,this.mutations=f}applyToRemoteDocument(e,n){const a=n.mutationResults;for(let f=0;f<this.mutations.length;f++){const v=this.mutations[f];v.key.isEqual(e.key)&&Tl(v,e,a[f])}}applyToLocalView(e,n){for(const a of this.baseMutations)a.key.isEqual(e.key)&&(n=Kl(a,e,n,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(e.key)&&(n=Kl(a,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const a=Ql();return this.mutations.forEach(f=>{const v=e.get(f.key),w=v.overlayedDocument;let R=this.applyToLocalView(w,v.mutatedFields);R=n.has(f.key)?null:R;const W=Na(w,R);null!==W&&a.set(f.key,W),w.isValidDocument()||w.convertToNoDocument(Yn.min())}),a}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),qr())}isEqual(e){return this.batchId===e.batchId&&Va(this.mutations,e.mutations,(n,a)=>nh(n,a))&&Va(this.baseMutations,e.baseMutations,(n,a)=>nh(n,a))}}class Td{constructor(e,n,a,f){this.batch=e,this.commitVersion=n,this.mutationResults=a,this.docVersions=f}static from(e,n,a){jn(e.mutations.length===a.length);let f=fs;const v=e.mutations;for(let w=0;w<v.length;w++)f=f.insert(v[w].key,a[w].version);return new Td(e,n,a,f)}}class Ad{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class kl{constructor(e,n,a,f,v=Yn.min(),w=Yn.min(),R=ne.EMPTY_BYTE_STRING){this.target=e,this.targetId=n,this.purpose=a,this.sequenceNumber=f,this.snapshotVersion=v,this.lastLimboFreeSnapshotVersion=w,this.resumeToken=R}withSequenceNumber(e){return new kl(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,n){return new kl(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new kl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class ef{constructor(e){this.ie=e}}function Wf(o,e){const n=e.key,a={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:Kf(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())a.document={name:Ol(f=o.ie,(v=e).key),fields:v.data.value.mapValue.fields,updateTime:ml(f,v.version.toTimestamp()),createTime:ml(f,v.createTime.toTimestamp())};else if(e.isNoDocument())a.noDocument={path:n.path.toArray(),readTime:Lc(e.version)};else{if(!e.isUnknownDocument())return mn();a.unknownDocument={path:n.path.toArray(),version:Lc(e.version)}}var f,v;return a}function Kf(o){const e=o.toTimestamp();return[e.seconds,e.nanoseconds]}function Lc(o){const e=o.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Bc(o){const e=new Qi(o.seconds,o.nanoseconds);return Yn.fromTimestamp(e)}function nc(o,e){const n=(e.baseMutations||[]).map(v=>_t(o.ie,v));for(let v=0;v<e.mutations.length-1;++v){const w=e.mutations[v];v+1<e.mutations.length&&void 0!==e.mutations[v+1].transform&&(w.updateTransforms=e.mutations[v+1].transform.fieldTransforms,e.mutations.splice(v+1,1),++v)}const a=e.mutations.map(v=>_t(o.ie,v)),f=Qi.fromMillis(e.localWriteTimeMs);return new Dm(e.batchId,f,n,a)}function Yf(o){const e=Bc(o.readTime),n=void 0!==o.lastLimboFreeSnapshotVersion?Bc(o.lastLimboFreeSnapshotVersion):Yn.min();let a;var f;return void 0!==o.query.documents?(jn(1===(f=o.query).documents.length),a=To(Dc(Uf(f.documents[0])))):a=To(Pr(o.query)),new kl(a,o.targetId,0,o.lastListenSequenceNumber,e,n,ne.fromBase64String(o.resumeToken))}function Zf(o,e){const n=Lc(e.snapshotVersion),a=Lc(e.lastLimboFreeSnapshotVersion);let f;f=yd(e.target)?Pn(o.ie,e.target):Qn(o.ie,e.target);const v=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Wo(e.target),readTime:n,resumeToken:v,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:a,query:f}}function Xf(o){const e=Pr({parent:o.parent,structuredQuery:o.structuredQuery});return"LAST"===o.limitType?vo(e,e.limit,"L"):e}function ja(o,e){return new Ad(e.largestBatchId,_t(o.ie,e.overlayMutation))}function xd(o,e){const n=e.path.lastSegment();return[o,Qo(e.path.popLast()),n]}function hg(o,e,n,a){return{indexId:o,uid:e.uid||"",sequenceNumber:n,readTime:Lc(a.readTime),documentKey:Qo(a.documentKey.path),largestBatchId:a.largestBatchId}}class Md{getBundleMetadata(e,n){return ch(e).get(n).next(a=>{if(a)return{id:(f=a).bundleId,createTime:Bc(f.createTime),version:f.version};var f})}saveBundleMetadata(e,n){return ch(e).put({bundleId:(a=n).id,createTime:Lc(bs(a.createTime)),version:a.version});var a}getNamedQuery(e,n){return $c(e).get(n).next(a=>{if(a)return{name:(f=a).name,query:Xf(f.bundledQuery),readTime:Bc(f.readTime)};var f})}saveNamedQuery(e,n){return $c(e).put({name:(a=n).name,readTime:Lc(bs(a.readTime)),bundledQuery:a.bundledQuery});var a}}function ch(o){return Aa(o,"bundles")}function $c(o){return Aa(o,"namedQueries")}class vl{constructor(e,n){this.yt=e,this.userId=n}static re(e,n){return new vl(e,n.uid||"")}getOverlay(e,n){return dh(e).get(xd(this.userId,n)).next(a=>a?ja(this.yt,a):null)}getOverlays(e,n){const a=Gr();return Ut.forEach(n,f=>this.getOverlay(e,f).next(v=>{null!==v&&a.set(f,v)})).next(()=>a)}saveOverlays(e,n,a){const f=[];return a.forEach((v,w)=>{const R=new Ad(n,w);f.push(this.oe(e,R))}),Ut.waitFor(f)}removeOverlaysForBatchId(e,n,a){const f=new Set;n.forEach(w=>f.add(Qo(w.getCollectionPath())));const v=[];return f.forEach(w=>{const R=IDBKeyRange.bound([this.userId,w,a],[this.userId,w,a+1],!1,!0);v.push(dh(e).Y("collectionPathOverlayIndex",R))}),Ut.waitFor(v)}getOverlaysForCollection(e,n,a){const f=Gr(),v=Qo(n),w=IDBKeyRange.bound([this.userId,v,a],[this.userId,v,Number.POSITIVE_INFINITY],!0);return dh(e).W("collectionPathOverlayIndex",w).next(R=>{for(const W of R){const Q=ja(this.yt,W);f.set(Q.getKey(),Q)}return f})}getOverlaysForCollectionGroup(e,n,a,f){const v=Gr();let w;const R=IDBKeyRange.bound([this.userId,n,a],[this.userId,n,Number.POSITIVE_INFINITY],!0);return dh(e).Z({index:"collectionGroupOverlayIndex",range:R},(W,Q,Ee)=>{const et=ja(this.yt,Q);v.size()<f||et.largestBatchId===w?(v.set(et.getKey(),et),w=et.largestBatchId):Ee.done()}).next(()=>v)}oe(e,n){return dh(e).put(function(a,f,v){const[w,R,W]=xd(f,v.mutation.key);return{userId:f,collectionPath:R,documentId:W,collectionGroup:v.mutation.key.getCollectionGroup(),largestBatchId:v.largestBatchId,overlayMutation:pe(a.ie,v.mutation)}}(this.yt,this.userId,n))}}function dh(o){return Aa(o,"documentOverlays")}class Yu{constructor(){}ue(e,n){this.ce(e,n),n.ae()}ce(e,n){if("nullValue"in e)this.he(n,5);else if("booleanValue"in e)this.he(n,10),n.le(e.booleanValue?1:0);else if("integerValue"in e)this.he(n,15),n.le(kt(e.integerValue));else if("doubleValue"in e){const a=kt(e.doubleValue);isNaN(a)?this.he(n,13):(this.he(n,15),I(a)?n.le(0):n.le(a))}else if("timestampValue"in e){const a=e.timestampValue;this.he(n,20),"string"==typeof a?n.fe(a):(n.fe(`${a.seconds||""}`),n.le(a.nanos||0))}else if("stringValue"in e)this.de(e.stringValue,n),this._e(n);else if("bytesValue"in e)this.he(n,30),n.we(wn(e.bytesValue)),this._e(n);else if("referenceValue"in e)this.me(e.referenceValue,n);else if("geoPointValue"in e){const a=e.geoPointValue;this.he(n,45),n.le(a.latitude||0),n.le(a.longitude||0)}else"mapValue"in e?ue(e)?this.he(n,Number.MAX_SAFE_INTEGER):(this.ge(e.mapValue,n),this._e(n)):"arrayValue"in e?(this.ye(e.arrayValue,n),this._e(n)):mn()}de(e,n){this.he(n,25),this.pe(e,n)}pe(e,n){n.fe(e)}ge(e,n){const a=e.fields||{};this.he(n,55);for(const f of Object.keys(a))this.de(f,n),this.ce(a[f],n)}ye(e,n){const a=e.values||[];this.he(n,50);for(const f of a)this.ce(f,n)}me(e,n){this.he(n,37),Mn.fromName(e).path.forEach(a=>{this.he(n,60),this.pe(a,n)})}he(e,n){e.le(n)}_e(e){e.le(2)}}function Vc(o){if(0===o)return 8;let e=0;return o>>4==0&&(e+=4,o<<=4),o>>6==0&&(e+=2,o<<=2),o>>7==0&&(e+=1),e}function Zu(o){const e=64-function(n){let a=0;for(let f=0;f<8;++f){const v=Vc(255&n[f]);if(a+=v,8!==v)break}return a}(o);return Math.ceil(e/8)}Yu.Ie=new Yu;class Pi{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Te(e){const n=e[Symbol.iterator]();let a=n.next();for(;!a.done;)this.Ee(a.value),a=n.next();this.Ae()}Re(e){const n=e[Symbol.iterator]();let a=n.next();for(;!a.done;)this.be(a.value),a=n.next();this.Pe()}ve(e){for(const n of e){const a=n.charCodeAt(0);if(a<128)this.Ee(a);else if(a<2048)this.Ee(960|a>>>6),this.Ee(128|63&a);else if(n<"\ud800"||"\udbff"<n)this.Ee(480|a>>>12),this.Ee(128|63&a>>>6),this.Ee(128|63&a);else{const f=n.codePointAt(0);this.Ee(240|f>>>18),this.Ee(128|63&f>>>12),this.Ee(128|63&f>>>6),this.Ee(128|63&f)}}this.Ae()}Ve(e){for(const n of e){const a=n.charCodeAt(0);if(a<128)this.be(a);else if(a<2048)this.be(960|a>>>6),this.be(128|63&a);else if(n<"\ud800"||"\udbff"<n)this.be(480|a>>>12),this.be(128|63&a>>>6),this.be(128|63&a);else{const f=n.codePointAt(0);this.be(240|f>>>18),this.be(128|63&f>>>12),this.be(128|63&f>>>6),this.be(128|63&f)}}this.Pe()}Se(e){const n=this.De(e),a=Zu(n);this.Ce(1+a),this.buffer[this.position++]=255&a;for(let f=n.length-a;f<n.length;++f)this.buffer[this.position++]=255&n[f]}xe(e){const n=this.De(e),a=Zu(n);this.Ce(1+a),this.buffer[this.position++]=~(255&a);for(let f=n.length-a;f<n.length;++f)this.buffer[this.position++]=~(255&n[f])}Ne(){this.ke(255),this.ke(255)}Oe(){this.Me(255),this.Me(255)}reset(){this.position=0}seed(e){this.Ce(e.length),this.buffer.set(e,this.position),this.position+=e.length}Fe(){return this.buffer.slice(0,this.position)}De(e){const n=function(f){const v=new DataView(new ArrayBuffer(8));return v.setFloat64(0,f,!1),new Uint8Array(v.buffer)}(e),a=0!=(128&n[0]);n[0]^=a?255:128;for(let f=1;f<n.length;++f)n[f]^=a?255:0;return n}Ee(e){const n=255&e;0===n?(this.ke(0),this.ke(255)):255===n?(this.ke(255),this.ke(0)):this.ke(n)}be(e){const n=255&e;0===n?(this.Me(0),this.Me(255)):255===n?(this.Me(255),this.Me(0)):this.Me(e)}Ae(){this.ke(0),this.ke(1)}Pe(){this.Me(0),this.Me(1)}ke(e){this.Ce(1),this.buffer[this.position++]=e}Me(e){this.Ce(1),this.buffer[this.position++]=~e}Ce(e){const n=e+this.position;if(n<=this.buffer.length)return;let a=2*this.buffer.length;a<n&&(a=n);const f=new Uint8Array(a);f.set(this.buffer),this.buffer=f}}class Sm{constructor(e){this.$e=e}we(e){this.$e.Te(e)}fe(e){this.$e.ve(e)}le(e){this.$e.Se(e)}ae(){this.$e.Ne()}}class Qf{constructor(e){this.$e=e}we(e){this.$e.Re(e)}fe(e){this.$e.Ve(e)}le(e){this.$e.xe(e)}ae(){this.$e.Oe()}}class hh{constructor(){this.$e=new Pi,this.Be=new Sm(this.$e),this.Le=new Qf(this.$e)}seed(e){this.$e.seed(e)}qe(e){return 0===e?this.Be:this.Le}Fe(){return this.$e.Fe()}reset(){this.$e.reset()}}class Fl{constructor(e,n,a,f){this.indexId=e,this.documentKey=n,this.arrayValue=a,this.directionalValue=f}Ue(){const e=this.directionalValue.length,n=0===e||255===this.directionalValue[e-1]?e+1:e,a=new Uint8Array(n);return a.set(this.directionalValue,0),n!==e?a.set([0],this.directionalValue.length):++a[a.length-1],new Fl(this.indexId,this.documentKey,this.arrayValue,a)}}function vu(o,e){let n=o.indexId-e.indexId;return 0!==n?n:(n=Tm(o.arrayValue,e.arrayValue),0!==n?n:(n=Tm(o.directionalValue,e.directionalValue),0!==n?n:Mn.comparator(o.documentKey,e.documentKey)))}function Tm(o,e){for(let n=0;n<o.length&&n<e.length;++n){const a=o[n]-e[n];if(0!==a)return a}return o.length-e.length}class Zv{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ke=e.orderBy,this.Ge=[];for(const n of e.filters){const a=n;a.isInequality()?this.Qe=a:this.Ge.push(a)}}je(e){jn(e.collectionGroup===this.collectionId);const n=Zs(e);if(void 0!==n&&!this.We(n))return!1;const a=Oo(e);let f=0,v=0;for(;f<a.length&&this.We(a[f]);++f);if(f===a.length)return!0;if(void 0!==this.Qe){const w=a[f];if(!this.ze(this.Qe,w)||!this.He(this.Ke[v++],w))return!1;++f}for(;f<a.length;++f){const w=a[f];if(v>=this.Ke.length||!this.He(this.Ke[v++],w))return!1}return!0}We(e){for(const n of this.Ge)if(this.ze(n,e))return!0;return!1}ze(e,n){return!(void 0===e||!e.field.isEqual(n.fieldPath))&&2===n.kind==("array-contains"===e.op||"array-contains-any"===e.op)}He(e,n){return!!e.field.isEqual(n.fieldPath)&&(0===n.kind&&"asc"===e.dir||1===n.kind&&"desc"===e.dir)}}function fh(o){var e,n;if(jn(o instanceof Bn||o instanceof ii),o instanceof Bn){if(o instanceof fd){const f=(null===(n=null===(e=o.value.arrayValue)||void 0===e?void 0:e.values)||void 0===n?void 0:n.map(v=>Bn.create(o.field,"==",v)))||[];return ii.create(f,"or")}return o}const a=o.filters.map(f=>fh(f));return ii.create(a,o.op)}function Jf(o){if(0===o.getFilters().length)return[];const e=tp(fh(o));return jn(ep(e)),fg(e)||Ll(e)?[e]:e.getFilters()}function fg(o){return o instanceof Bn}function Ll(o){return o instanceof ii&&hu(o)}function ep(o){return fg(o)||Ll(o)||function(e){if(e instanceof ii&&Ou(e)){for(const n of e.getFilters())if(!fg(n)&&!Ll(n))return!1;return!0}return!1}(o)}function tp(o){if(jn(o instanceof Bn||o instanceof ii),o instanceof Bn)return o;if(1===o.filters.length)return tp(o.filters[0]);const e=o.filters.map(a=>tp(a));let n=ii.create(e,o.op);return n=Uc(n),ep(n)?n:(jn(n instanceof ii),jn(Ss(n)),jn(n.filters.length>1),n.filters.reduce((a,f)=>Qa(a,f)))}function Qa(o,e){let n;return jn(o instanceof Bn||o instanceof ii),jn(e instanceof Bn||e instanceof ii),n=o instanceof Bn?e instanceof Bn?ii.create([o,e],"and"):pg(o,e):e instanceof Bn?pg(e,o):function(a,f){if(jn(a.filters.length>0&&f.filters.length>0),Ss(a)&&Ss(f))return fu(a,f.getFilters());const v=Ou(a)?a:f,w=Ou(a)?f:a,R=v.filters.map(W=>Qa(W,w));return ii.create(R,"or")}(o,e),Uc(n)}function pg(o,e){if(Ss(e))return fu(e,o.getFilters());{const n=e.filters.map(a=>Qa(o,a));return ii.create(n,"or")}}function Uc(o){if(jn(o instanceof Bn||o instanceof ii),o instanceof Bn)return o;const e=o.getFilters();if(1===e.length)return Uc(e[0]);if(aa(o))return o;const n=e.map(f=>Uc(f)),a=[];return n.forEach(f=>{f instanceof Bn?a.push(f):f instanceof ii&&(f.op===o.op?a.push(...f.filters):a.push(f))}),1===a.length?a[0]:ii.create(a,o.op)}class Xv{constructor(){this.Je=new Hc}addToCollectionParentIndex(e,n){return this.Je.add(n),Ut.resolve()}getCollectionParents(e,n){return Ut.resolve(this.Je.getEntries(n))}addFieldIndex(e,n){return Ut.resolve()}deleteFieldIndex(e,n){return Ut.resolve()}getDocumentsMatchingTarget(e,n){return Ut.resolve(null)}getIndexType(e,n){return Ut.resolve(0)}getFieldIndexes(e,n){return Ut.resolve([])}getNextCollectionGroupToUpdate(e){return Ut.resolve(null)}getMinOffset(e,n){return Ut.resolve(Io.min())}getMinOffsetFromCollectionGroup(e,n){return Ut.resolve(Io.min())}updateCollectionGroup(e,n,a){return Ut.resolve()}updateIndexEntries(e,n){return Ut.resolve()}}class Hc{constructor(){this.index={}}add(e){const n=e.lastSegment(),a=e.popLast(),f=this.index[n]||new Ii(_i.comparator),v=!f.has(a);return this.index[n]=f.add(a),v}has(e){const n=e.lastSegment(),a=e.popLast(),f=this.index[n];return f&&f.has(a)}getEntries(e){return(this.index[e]||new Ii(_i.comparator)).toArray()}}const jc=new Uint8Array(0);class Qv{constructor(e,n){this.user=e,this.databaseId=n,this.Ye=new Hc,this.Xe=new xl(a=>Wo(a),(a,f)=>vd(a,f)),this.uid=e.uid||""}addToCollectionParentIndex(e,n){if(!this.Ye.has(n)){const a=n.lastSegment(),f=n.popLast();e.addOnCommittedListener(()=>{this.Ye.add(n)});const v={collectionId:a,parent:Qo(f)};return np(e).put(v)}return Ut.resolve()}getCollectionParents(e,n){const a=[],f=IDBKeyRange.bound([n,""],[Wa(n),""],!1,!0);return np(e).W(f).next(v=>{for(const w of v){if(w.collectionId!==n)break;a.push(Wu(w.parent))}return a})}addFieldIndex(e,n){const a=Gc(e),f={indexId:(w=n).indexId,collectionGroup:w.collectionGroup,fields:w.fields.map(R=>[R.fieldPath.canonicalString(),R.kind])};var w;delete f.indexId;const v=a.add(f);if(n.indexState){const w=zc(e);return v.next(R=>{w.put(hg(R,this.user,n.indexState.sequenceNumber,n.indexState.offset))})}return v.next()}deleteFieldIndex(e,n){const a=Gc(e),f=zc(e),v=tf(e);return a.delete(n.indexId).next(()=>f.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0))).next(()=>v.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,n){const a=tf(e);let f=!0;const v=new Map;return Ut.forEach(this.Ze(n),w=>this.tn(e,w).next(R=>{f&&(f=!!R),v.set(w,R)})).next(()=>{if(f){let w=qr();const R=[];return Ut.forEach(v,(W,Q)=>{var Ee;Qt("IndexedDbIndexManager",`Using index ${Ee=W,`id=${Ee.indexId}|cg=${Ee.collectionGroup}|f=${Ee.fields.map(qi=>`${qi.fieldPath}:${qi.kind}`).join(",")}`} to execute ${Wo(n)}`);const et=function(qi,Ni){const Di=Zs(Ni);if(void 0===Di)return null;for(const Vi of Qd(qi,Di.fieldPath))switch(Vi.op){case"array-contains-any":return Vi.value.arrayValue.values||[];case"array-contains":return[Vi.value]}return null}(Q,W),Ft=function(qi,Ni){const Di=new Map;for(const Vi of Oo(Ni))for(const fa of Qd(qi,Vi.fieldPath))switch(fa.op){case"==":case"in":Di.set(Vi.fieldPath.canonicalString(),fa.value);break;case"not-in":case"!=":return Di.set(Vi.fieldPath.canonicalString(),fa.value),Array.from(Di.values())}return null}(Q,W),tn=function(qi,Ni){const Di=[];let Vi=!0;for(const fa of Oo(Ni)){const Vv=0===fa.kind?Yh(qi,fa.fieldPath,qi.startAt):bc(qi,fa.fieldPath,qi.startAt);Di.push(Vv.value),Vi&&(Vi=Vv.inclusive)}return new Kn(Di,Vi)}(Q,W),dn=function(qi,Ni){const Di=[];let Vi=!0;for(const fa of Oo(Ni)){const Vv=0===fa.kind?bc(qi,fa.fieldPath,qi.endAt):Yh(qi,fa.fieldPath,qi.endAt);Di.push(Vv.value),Vi&&(Vi=Vv.inclusive)}return new Kn(Di,Vi)}(Q,W),Gn=this.en(W,Q,tn),hr=this.en(W,Q,dn),hs=this.nn(W,Q,Ft),Rs=this.sn(W.indexId,et,Gn,tn.inclusive,hr,dn.inclusive,hs);return Ut.forEach(Rs,qi=>a.J(qi,n.limit).next(Ni=>{Ni.forEach(Di=>{const Vi=Mn.fromSegments(Di.documentKey);w.has(Vi)||(w=w.add(Vi),R.push(Vi))})}))}).next(()=>R)}return Ut.resolve(null)})}Ze(e){let n=this.Xe.get(e);return n||(n=0===e.filters.length?[e]:Jf(ii.create(e.filters,"and")).map(a=>zl(e.path,e.collectionGroup,e.orderBy,a.getFilters(),e.limit,e.startAt,e.endAt)),this.Xe.set(e,n),n)}sn(e,n,a,f,v,w,R){const W=(null!=n?n.length:1)*Math.max(a.length,v.length),Q=W/(null!=n?n.length:1),Ee=[];for(let et=0;et<W;++et){const Ft=n?this.rn(n[et/Q]):jc,tn=this.on(e,Ft,a[et%Q],f),dn=this.un(e,Ft,v[et%Q],w),Gn=R.map(hr=>this.on(e,Ft,hr,!0));Ee.push(...this.createRange(tn,dn,Gn))}return Ee}on(e,n,a,f){const v=new Fl(e,Mn.empty(),n,a);return f?v:v.Ue()}un(e,n,a,f){const v=new Fl(e,Mn.empty(),n,a);return f?v.Ue():v}tn(e,n){const a=new Zv(n),f=null!=n.collectionGroup?n.collectionGroup:n.path.lastSegment();return this.getFieldIndexes(e,f).next(v=>{let w=null;for(const R of v)a.je(R)&&(!w||R.fields.length>w.fields.length)&&(w=R);return w})}getIndexType(e,n){let a=2;const f=this.Ze(n);return Ut.forEach(f,v=>this.tn(e,v).next(w=>{w?0!==a&&w.fields.length<function(R){let W=new Ii(Hi.comparator),Q=!1;for(const Ee of R.filters)for(const et of Ee.getFlattenedFilters())et.field.isKeyField()||("array-contains"===et.op||"array-contains-any"===et.op?Q=!0:W=W.add(et.field));for(const Ee of R.orderBy)Ee.field.isKeyField()||(W=W.add(Ee.field));return W.size+(Q?1:0)}(v)&&(a=1):a=0})).next(()=>null!==n.limit&&f.length>1&&2===a?1:a)}cn(e,n){const a=new hh;for(const f of Oo(e)){const v=n.data.field(f.fieldPath);if(null==v)return null;const w=a.qe(f.kind);Yu.Ie.ue(v,w)}return a.Fe()}rn(e){const n=new hh;return Yu.Ie.ue(e,n.qe(0)),n.Fe()}an(e,n){const a=new hh;return Yu.Ie.ue(Ca(this.databaseId,n),a.qe(function(f){const v=Oo(f);return 0===v.length?0:v[v.length-1].kind}(e))),a.Fe()}nn(e,n,a){if(null===a)return[];let f=[];f.push(new hh);let v=0;for(const w of Oo(e)){const R=a[v++];for(const W of f)if(this.hn(n,w.fieldPath)&&du(R))f=this.ln(f,w,R);else{const Q=W.qe(w.kind);Yu.Ie.ue(R,Q)}}return this.fn(f)}en(e,n,a){return this.nn(e,n,a.position)}fn(e){const n=[];for(let a=0;a<e.length;++a)n[a]=e[a].Fe();return n}ln(e,n,a){const f=[...e],v=[];for(const w of a.arrayValue.values||[])for(const R of f){const W=new hh;W.seed(R.Fe()),Yu.Ie.ue(w,W.qe(n.kind)),v.push(W)}return v}hn(e,n){return!!e.filters.find(a=>a instanceof Bn&&a.field.isEqual(n)&&("in"===a.op||"not-in"===a.op))}getFieldIndexes(e,n){const a=Gc(e),f=zc(e);return(n?a.W("collectionGroupIndex",IDBKeyRange.bound(n,n)):a.W()).next(v=>{const w=[];return Ut.forEach(v,R=>f.get([R.indexId,this.uid]).next(W=>{w.push(function(Q,Ee){const et=Ee?new uu(Ee.sequenceNumber,new Io(Bc(Ee.readTime),new Mn(Wu(Ee.documentKey)),Ee.largestBatchId)):uu.empty(),Ft=Q.fields.map(([tn,dn])=>new Ds(Hi.fromServerFormat(tn),dn));return new Ua(Q.indexId,Q.collectionGroup,Ft,et)}(R,W))})).next(()=>w)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(n=>0===n.length?null:(n.sort((a,f)=>{const v=a.indexState.sequenceNumber-f.indexState.sequenceNumber;return 0!==v?v:Jn(a.collectionGroup,f.collectionGroup)}),n[0].collectionGroup))}updateCollectionGroup(e,n,a){const f=Gc(e),v=zc(e);return this.dn(e).next(w=>f.W("collectionGroupIndex",IDBKeyRange.bound(n,n)).next(R=>Ut.forEach(R,W=>v.put(hg(W.indexId,this.user,w,a)))))}updateIndexEntries(e,n){const a=new Map;return Ut.forEach(n,(f,v)=>{const w=a.get(f.collectionGroup);return(w?Ut.resolve(w):this.getFieldIndexes(e,f.collectionGroup)).next(R=>(a.set(f.collectionGroup,R),Ut.forEach(R,W=>this._n(e,f,W).next(Q=>{const Ee=this.wn(v,W);return Q.isEqual(Ee)?Ut.resolve():this.mn(e,v,W,Q,Ee)}))))})}gn(e,n,a,f){return tf(e).put({indexId:f.indexId,uid:this.uid,arrayValue:f.arrayValue,directionalValue:f.directionalValue,orderedDocumentKey:this.an(a,n.key),documentKey:n.key.path.toArray()})}yn(e,n,a,f){return tf(e).delete([f.indexId,this.uid,f.arrayValue,f.directionalValue,this.an(a,n.key),n.key.path.toArray()])}_n(e,n,a){const f=tf(e);let v=new Ii(vu);return f.Z({index:"documentKeyIndex",range:IDBKeyRange.only([a.indexId,this.uid,this.an(a,n)])},(w,R)=>{v=v.add(new Fl(a.indexId,n,R.arrayValue,R.directionalValue))}).next(()=>v)}wn(e,n){let a=new Ii(vu);const f=this.cn(n,e);if(null==f)return a;const v=Zs(n);if(null!=v){const w=e.data.field(v.fieldPath);if(du(w))for(const R of w.arrayValue.values||[])a=a.add(new Fl(n.indexId,e.key,this.rn(R),f))}else a=a.add(new Fl(n.indexId,e.key,jc,f));return a}mn(e,n,a,f,v){Qt("IndexedDbIndexManager","Updating index entries for document '%s'",n.key);const w=[];return function(R,W,Q,Ee,et){const Ft=R.getIterator(),tn=W.getIterator();let dn=md(Ft),Gn=md(tn);for(;dn||Gn;){let hr=!1,hs=!1;if(dn&&Gn){const Rs=Q(dn,Gn);Rs<0?hs=!0:Rs>0&&(hr=!0)}else null!=dn?hs=!0:hr=!0;hr?(Ee(Gn),Gn=md(tn)):hs?(et(dn),dn=md(Ft)):(dn=md(Ft),Gn=md(tn))}}(f,v,vu,R=>{w.push(this.gn(e,n,a,R))},R=>{w.push(this.yn(e,n,a,R))}),Ut.waitFor(w)}dn(e){let n=1;return zc(e).Z({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(a,f,v)=>{v.done(),n=f.sequenceNumber+1}).next(()=>n)}createRange(e,n,a){a=a.sort((w,R)=>vu(w,R)).filter((w,R,W)=>!R||0!==vu(w,W[R-1]));const f=[];f.push(e);for(const w of a){const R=vu(w,e),W=vu(w,n);if(0===R)f[0]=e.Ue();else if(R>0&&W<0)f.push(w),f.push(w.Ue());else if(W>0)break}f.push(n);const v=[];for(let w=0;w<f.length;w+=2){if(this.pn(f[w],f[w+1]))return[];v.push(IDBKeyRange.bound([f[w].indexId,this.uid,f[w].arrayValue,f[w].directionalValue,jc,[]],[f[w+1].indexId,this.uid,f[w+1].arrayValue,f[w+1].directionalValue,jc,[]]))}return v}pn(e,n){return vu(e,n)>0}getMinOffsetFromCollectionGroup(e,n){return this.getFieldIndexes(e,n).next(nf)}getMinOffset(e,n){return Ut.mapArray(this.Ze(n),a=>this.tn(e,a).next(f=>f||mn())).next(nf)}}function np(o){return Aa(o,"collectionParents")}function tf(o){return Aa(o,"indexEntries")}function Gc(o){return Aa(o,"indexConfiguration")}function zc(o){return Aa(o,"indexState")}function nf(o){jn(0!==o.length);let e=o[0].indexState.offset,n=e.largestBatchId;for(let a=1;a<o.length;a++){const f=o[a].indexState.offset;Is(f,e)<0&&(e=f),n<f.largestBatchId&&(n=f.largestBatchId)}return new Io(e.readTime,e.documentKey,n)}const yu={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Bo{constructor(e,n,a){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=a}static withCacheSize(e){return new Bo(e,Bo.DEFAULT_COLLECTION_PERCENTILE,Bo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function rp(o,e,n){const a=o.store("mutations"),f=o.store("documentMutations"),v=[],w=IDBKeyRange.only(n.batchId);let R=0;const W=a.Z({range:w},(Ee,et,Ft)=>(R++,Ft.delete()));v.push(W.next(()=>{jn(1===R)}));const Q=[];for(const Ee of n.mutations){const et=jv(e,Ee.key.path,n.batchId);v.push(f.delete(et)),Q.push(Ee.key)}return Ut.waitFor(v).next(()=>Q)}function ph(o){if(!o)return 0;let e;if(o.document)e=o.document;else if(o.unknownDocument)e=o.unknownDocument;else{if(!o.noDocument)throw mn();e=o.noDocument}return JSON.stringify(e).length}Bo.DEFAULT_COLLECTION_PERCENTILE=10,Bo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Bo.DEFAULT=new Bo(41943040,Bo.DEFAULT_COLLECTION_PERCENTILE,Bo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Bo.DISABLED=new Bo(-1,0,0);class Rd{constructor(e,n,a,f){this.userId=e,this.yt=n,this.indexManager=a,this.referenceDelegate=f,this.In={}}static re(e,n,a,f){jn(""!==e.uid);const v=e.isAuthenticated()?e.uid:"";return new Rd(v,n,a,f)}checkEmpty(e){let n=!0;const a=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return rc(e).Z({index:"userMutationsIndex",range:a},(f,v,w)=>{n=!1,w.done()}).next(()=>n)}addMutationBatch(e,n,a,f){const v=Nd(e),w=rc(e);return w.add({}).next(R=>{jn("number"==typeof R);const W=new Dm(R,n,a,f),Q=function(Ft,tn,dn){const Gn=dn.baseMutations.map(hs=>pe(Ft.ie,hs)),hr=dn.mutations.map(hs=>pe(Ft.ie,hs));return{userId:tn,batchId:dn.batchId,localWriteTimeMs:dn.localWriteTime.toMillis(),baseMutations:Gn,mutations:hr}}(this.yt,this.userId,W),Ee=[];let et=new Ii((Ft,tn)=>Jn(Ft.canonicalString(),tn.canonicalString()));for(const Ft of f){const tn=jv(this.userId,Ft.key.path,R);et=et.add(Ft.key.path.popLast()),Ee.push(w.put(Q)),Ee.push(v.put(tn,Gv))}return et.forEach(Ft=>{Ee.push(this.indexManager.addToCollectionParentIndex(e,Ft))}),e.addOnCommittedListener(()=>{this.In[R]=W.keys()}),Ut.waitFor(Ee).next(()=>W)})}lookupMutationBatch(e,n){return rc(e).get(n).next(a=>a?(jn(a.userId===this.userId),nc(this.yt,a)):null)}Tn(e,n){return this.In[n]?Ut.resolve(this.In[n]):this.lookupMutationBatch(e,n).next(a=>{if(a){const f=a.keys();return this.In[n]=f,f}return null})}getNextMutationBatchAfterBatchId(e,n){const a=n+1,f=IDBKeyRange.lowerBound([this.userId,a]);let v=null;return rc(e).Z({index:"userMutationsIndex",range:f},(w,R,W)=>{R.userId===this.userId&&(jn(R.batchId>=a),v=nc(this.yt,R)),W.done()}).next(()=>v)}getHighestUnacknowledgedBatchId(e){const n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let a=-1;return rc(e).Z({index:"userMutationsIndex",range:n,reverse:!0},(f,v,w)=>{a=v.batchId,w.done()}).next(()=>a)}getAllMutationBatches(e){const n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return rc(e).W("userMutationsIndex",n).next(a=>a.map(f=>nc(this.yt,f)))}getAllMutationBatchesAffectingDocumentKey(e,n){const a=Fc(this.userId,n.path),f=IDBKeyRange.lowerBound(a),v=[];return Nd(e).Z({range:f},(w,R,W)=>{const[Q,Ee,et]=w,Ft=Wu(Ee);if(Q===this.userId&&n.path.isEqual(Ft))return rc(e).get(et).next(tn=>{if(!tn)throw mn();jn(tn.userId===this.userId),v.push(nc(this.yt,tn))});W.done()}).next(()=>v)}getAllMutationBatchesAffectingDocumentKeys(e,n){let a=new Ii(Jn);const f=[];return n.forEach(v=>{const w=Fc(this.userId,v.path),R=IDBKeyRange.lowerBound(w),W=Nd(e).Z({range:R},(Q,Ee,et)=>{const[Ft,tn,dn]=Q,Gn=Wu(tn);Ft===this.userId&&v.path.isEqual(Gn)?a=a.add(dn):et.done()});f.push(W)}),Ut.waitFor(f).next(()=>this.En(e,a))}getAllMutationBatchesAffectingQuery(e,n){const a=n.path,f=a.length+1,v=Fc(this.userId,a),w=IDBKeyRange.lowerBound(v);let R=new Ii(Jn);return Nd(e).Z({range:w},(W,Q,Ee)=>{const[et,Ft,tn]=W,dn=Wu(Ft);et===this.userId&&a.isPrefixOf(dn)?dn.length===f&&(R=R.add(tn)):Ee.done()}).next(()=>this.En(e,R))}En(e,n){const a=[],f=[];return n.forEach(v=>{f.push(rc(e).get(v).next(w=>{if(null===w)throw mn();jn(w.userId===this.userId),a.push(nc(this.yt,w))}))}),Ut.waitFor(f).next(()=>a)}removeMutationBatch(e,n){return rp(e.se,this.userId,n).next(a=>(e.addOnCommittedListener(()=>{this.An(n.batchId)}),Ut.forEach(a,f=>this.referenceDelegate.markPotentiallyOrphaned(e,f))))}An(e){delete this.In[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(n=>{if(!n)return Ut.resolve();const a=IDBKeyRange.lowerBound([this.userId]),f=[];return Nd(e).Z({range:a},(v,w,R)=>{if(v[0]===this.userId){const W=Wu(v[1]);f.push(W)}else R.done()}).next(()=>{jn(0===f.length)})})}containsKey(e,n){return Pd(e,this.userId,n)}Rn(e){return Am(e).get(this.userId).next(n=>n||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function Pd(o,e,n){const a=Fc(e,n.path),f=a[1],v=IDBKeyRange.lowerBound(a);let w=!1;return Nd(o).Z({range:v,X:!0},(R,W,Q)=>{const[Ee,et,Ft]=R;Ee===e&&et===f&&(w=!0),Q.done()}).next(()=>w)}function rc(o){return Aa(o,"mutations")}function Nd(o){return Aa(o,"documentMutations")}function Am(o){return Aa(o,"mutationQueues")}class qc{constructor(e){this.bn=e}next(){return this.bn+=2,this.bn}static Pn(){return new qc(0)}static vn(){return new qc(-1)}}class Jv{constructor(e,n){this.referenceDelegate=e,this.yt=n}allocateTargetId(e){return this.Vn(e).next(n=>{const a=new qc(n.highestTargetId);return n.highestTargetId=a.next(),this.Sn(e,n).next(()=>n.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Vn(e).next(n=>Yn.fromTimestamp(new Qi(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Vn(e).next(n=>n.highestListenSequenceNumber)}setTargetsMetadata(e,n,a){return this.Vn(e).next(f=>(f.highestListenSequenceNumber=n,a&&(f.lastRemoteSnapshotVersion=a.toTimestamp()),n>f.highestListenSequenceNumber&&(f.highestListenSequenceNumber=n),this.Sn(e,f)))}addTargetData(e,n){return this.Dn(e,n).next(()=>this.Vn(e).next(a=>(a.targetCount+=1,this.Cn(n,a),this.Sn(e,a))))}updateTargetData(e,n){return this.Dn(e,n)}removeTargetData(e,n){return this.removeMatchingKeysForTargetId(e,n.targetId).next(()=>gh(e).delete(n.targetId)).next(()=>this.Vn(e)).next(a=>(jn(a.targetCount>0),a.targetCount-=1,this.Sn(e,a)))}removeTargets(e,n,a){let f=0;const v=[];return gh(e).Z((w,R)=>{const W=Yf(R);W.sequenceNumber<=n&&null===a.get(W.targetId)&&(f++,v.push(this.removeTargetData(e,W)))}).next(()=>Ut.waitFor(v)).next(()=>f)}forEachTarget(e,n){return gh(e).Z((a,f)=>{const v=Yf(f);n(v)})}Vn(e){return xm(e).get("targetGlobalKey").next(n=>(jn(null!==n),n))}Sn(e,n){return xm(e).put("targetGlobalKey",n)}Dn(e,n){return gh(e).put(Zf(this.yt,n))}Cn(e,n){let a=!1;return e.targetId>n.highestTargetId&&(n.highestTargetId=e.targetId,a=!0),e.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=e.sequenceNumber,a=!0),a}getTargetCount(e){return this.Vn(e).next(n=>n.targetCount)}getTargetData(e,n){const a=Wo(n),f=IDBKeyRange.bound([a,Number.NEGATIVE_INFINITY],[a,Number.POSITIVE_INFINITY]);let v=null;return gh(e).Z({range:f,index:"queryTargetsIndex"},(w,R,W)=>{const Q=Yf(R);vd(n,Q.target)&&(v=Q,W.done())}).next(()=>v)}addMatchingKeys(e,n,a){const f=[],v=Ja(e);return n.forEach(w=>{const R=Qo(w.path);f.push(v.put({targetId:a,path:R})),f.push(this.referenceDelegate.addReference(e,a,w))}),Ut.waitFor(f)}removeMatchingKeys(e,n,a){const f=Ja(e);return Ut.forEach(n,v=>{const w=Qo(v.path);return Ut.waitFor([f.delete([a,w]),this.referenceDelegate.removeReference(e,a,v)])})}removeMatchingKeysForTargetId(e,n){const a=Ja(e),f=IDBKeyRange.bound([n],[n+1],!1,!0);return a.delete(f)}getMatchingKeysForTargetId(e,n){const a=IDBKeyRange.bound([n],[n+1],!1,!0),f=Ja(e);let v=qr();return f.Z({range:a,X:!0},(w,R,W)=>{const Q=Wu(w[1]),Ee=new Mn(Q);v=v.add(Ee)}).next(()=>v)}containsKey(e,n){const a=Qo(n.path),f=IDBKeyRange.bound([a],[Wa(a)],!1,!0);let v=0;return Ja(e).Z({index:"documentTargetsIndex",X:!0,range:f},([w,R],W,Q)=>{0!==w&&(v++,Q.done())}).next(()=>v>0)}ne(e,n){return gh(e).get(n).next(a=>a?Yf(a):null)}}function gh(o){return Aa(o,"targets")}function xm(o){return Aa(o,"targetGlobal")}function Ja(o){return Aa(o,"targetDocuments")}function yl([o,e],[n,a]){const f=Jn(o,n);return 0===f?Jn(e,a):f}class ey{constructor(e){this.xn=e,this.buffer=new Ii(yl),this.Nn=0}kn(){return++this.Nn}On(e){const n=[e,this.kn()];if(this.buffer.size<this.xn)this.buffer=this.buffer.add(n);else{const a=this.buffer.last();yl(n,a)<0&&(this.buffer=this.buffer.delete(a).add(n))}}get maxValue(){return this.buffer.last()[0]}}class Mm{constructor(e,n,a){this.garbageCollector=e,this.asyncQueue=n,this.localStore=a,this.Mn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Fn(6e4)}stop(){this.Mn&&(this.Mn.cancel(),this.Mn=null)}get started(){return null!==this.Mn}Fn(e){var n=this;Qt("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Mn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,fe.Z)(function*(){n.Mn=null;try{yield n.localStore.collectGarbage(n.garbageCollector)}catch(a){pi(a)?Qt("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",a):yield bo(a)}yield n.Fn(3e5)}))}}class L_{constructor(e,n){this.$n=e,this.params=n}calculateTargetCount(e,n){return this.$n.Bn(e).next(a=>Math.floor(n/100*a))}nthSequenceNumber(e,n){if(0===n)return Ut.resolve(So.at);const a=new ey(n);return this.$n.forEachTarget(e,f=>a.On(f.sequenceNumber)).next(()=>this.$n.Ln(e,f=>a.On(f))).next(()=>a.maxValue)}removeTargets(e,n,a){return this.$n.removeTargets(e,n,a)}removeOrphanedDocuments(e,n){return this.$n.removeOrphanedDocuments(e,n)}collect(e,n){return-1===this.params.cacheSizeCollectionThreshold?(Qt("LruGarbageCollector","Garbage collection skipped; disabled"),Ut.resolve(yu)):this.getCacheSize(e).next(a=>a<this.params.cacheSizeCollectionThreshold?(Qt("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),yu):this.qn(e,n))}getCacheSize(e){return this.$n.getCacheSize(e)}qn(e,n){let a,f,v,w,R,W,Q;const Ee=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(et=>(et>this.params.maximumSequenceNumbersToCollect?(Qt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${et}`),f=this.params.maximumSequenceNumbersToCollect):f=et,w=Date.now(),this.nthSequenceNumber(e,f))).next(et=>(a=et,R=Date.now(),this.removeTargets(e,a,n))).next(et=>(v=et,W=Date.now(),this.removeOrphanedDocuments(e,a))).next(et=>(Q=Date.now(),kr()<=Je.in.DEBUG&&Qt("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${w-Ee}ms\n\tDetermined least recently used ${f} in `+(R-w)+`ms\n\tRemoved ${v} targets in `+(W-R)+`ms\n\tRemoved ${et} documents in `+(Q-W)+`ms\nTotal Duration: ${Q-Ee}ms`),Ut.resolve({didRun:!0,sequenceNumbersCollected:f,targetsRemoved:v,documentsRemoved:et})))}}class Qy{constructor(e,n){this.db=e,this.garbageCollector=new L_(this,n)}Bn(e){const n=this.Un(e);return this.db.getTargetCache().getTargetCount(e).next(a=>n.next(f=>a+f))}Un(e){let n=0;return this.Ln(e,a=>{n++}).next(()=>n)}forEachTarget(e,n){return this.db.getTargetCache().forEachTarget(e,n)}Ln(e,n){return this.Kn(e,(a,f)=>n(f))}addReference(e,n,a){return ip(e,a)}removeReference(e,n,a){return ip(e,a)}removeTargets(e,n,a){return this.db.getTargetCache().removeTargets(e,n,a)}markPotentiallyOrphaned(e,n){return ip(e,n)}Gn(e,n){return function(a,f){let v=!1;return Am(a).tt(w=>Pd(a,w,f).next(R=>(R&&(v=!0),Ut.resolve(!R)))).next(()=>v)}(e,n)}removeOrphanedDocuments(e,n){const a=this.db.getRemoteDocumentCache().newChangeBuffer(),f=[];let v=0;return this.Kn(e,(w,R)=>{if(R<=n){const W=this.Gn(e,w).next(Q=>{if(!Q)return v++,a.getEntry(e,w).next(()=>(a.removeEntry(w,Yn.min()),Ja(e).delete([0,Qo(w.path)])))});f.push(W)}}).next(()=>Ut.waitFor(f)).next(()=>a.apply(e)).next(()=>v)}removeTarget(e,n){const a=n.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,a)}updateLimboDocument(e,n){return ip(e,n)}Kn(e,n){const a=Ja(e);let f,v=So.at;return a.Z({index:"documentTargetsIndex"},([w,R],{path:W,sequenceNumber:Q})=>{0===w?(v!==So.at&&n(new Mn(Wu(f)),v),v=Q,f=W):v=So.at}).next(()=>{v!==So.at&&n(new Mn(Wu(f)),v)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function ip(o,e){return Ja(o).put((a=o.currentSequenceNumber,{targetId:0,path:Qo(e.path),sequenceNumber:a}));var a}class sp{constructor(){this.changes=new xl(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Cs.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const a=this.changes.get(n);return void 0!==a?Ut.resolve(a):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Rm{constructor(e){this.yt=e}setIndexManager(e){this.indexManager=e}addEntry(e,n,a){return Od(e).put(a)}removeEntry(e,n,a){return Od(e).delete(function(f,v){const w=f.path.toArray();return[w.slice(0,w.length-2),w[w.length-2],Kf(v),w[w.length-1]]}(n,a))}updateMetadata(e,n){return this.getMetadata(e).next(a=>(a.byteSize+=n,this.Qn(e,a)))}getEntry(e,n){let a=Cs.newInvalidDocument(n);return Od(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(rf(n))},(f,v)=>{a=this.jn(n,v)}).next(()=>a)}Wn(e,n){let a={size:0,document:Cs.newInvalidDocument(n)};return Od(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(rf(n))},(f,v)=>{a={document:this.jn(n,v),size:ph(v)}}).next(()=>a)}getEntries(e,n){let a=da();return this.zn(e,n,(f,v)=>{const w=this.jn(f,v);a=a.insert(f,w)}).next(()=>a)}Hn(e,n){let a=da(),f=new ds(Mn.comparator);return this.zn(e,n,(v,w)=>{const R=this.jn(v,w);a=a.insert(v,R),f=f.insert(v,ph(w))}).next(()=>({documents:a,Jn:f}))}zn(e,n,a){if(n.isEmpty())return Ut.resolve();let f=new Ii(Pm);n.forEach(W=>f=f.add(W));const v=IDBKeyRange.bound(rf(f.first()),rf(f.last())),w=f.getIterator();let R=w.getNext();return Od(e).Z({index:"documentKeyIndex",range:v},(W,Q,Ee)=>{const et=Mn.fromSegments([...Q.prefixPath,Q.collectionGroup,Q.documentId]);for(;R&&Pm(R,et)<0;)a(R,null),R=w.getNext();R&&R.isEqual(et)&&(a(R,Q),R=w.hasNext()?w.getNext():null),R?Ee.j(rf(R)):Ee.done()}).next(()=>{for(;R;)a(R,null),R=w.hasNext()?w.getNext():null})}getDocumentsMatchingQuery(e,n,a,f){const v=n.path,w=[v.popLast().toArray(),v.lastSegment(),Kf(a.readTime),a.documentKey.path.isEmpty()?"":a.documentKey.path.lastSegment()],R=[v.popLast().toArray(),v.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Od(e).W(IDBKeyRange.bound(w,R,!0)).next(W=>{let Q=da();for(const Ee of W){const et=this.jn(Mn.fromSegments(Ee.prefixPath.concat(Ee.collectionGroup,Ee.documentId)),Ee);et.isFoundDocument()&&(Bu(n,et)||f.has(et.key))&&(Q=Q.insert(et.key,et))}return Q})}getAllFromCollectionGroup(e,n,a,f){let v=da();const w=_u(n,a),R=_u(n,Io.max());return Od(e).Z({index:"collectionGroupIndex",range:IDBKeyRange.bound(w,R,!0)},(W,Q,Ee)=>{const et=this.jn(Mn.fromSegments(Q.prefixPath.concat(Q.collectionGroup,Q.documentId)),Q);v=v.insert(et.key,et),v.size===f&&Ee.done()}).next(()=>v)}newChangeBuffer(e){return new ty(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(n=>n.byteSize)}getMetadata(e){return mg(e).get("remoteDocumentGlobalKey").next(n=>(jn(!!n),n))}Qn(e,n){return mg(e).put("remoteDocumentGlobalKey",n)}jn(e,n){if(n){const a=function Yv(o,e){let n;if(e.document)n=_(o.ie,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const a=Mn.fromSegments(e.noDocument.path),f=Bc(e.noDocument.readTime);n=Cs.newNoDocument(a,f),e.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!e.unknownDocument)return mn();{const a=Mn.fromSegments(e.unknownDocument.path),f=Bc(e.unknownDocument.version);n=Cs.newUnknownDocument(a,f)}}return e.readTime&&n.setReadTime(function(a){const f=new Qi(a[0],a[1]);return Yn.fromTimestamp(f)}(e.readTime)),n}(this.yt,n);if(!a.isNoDocument()||!a.version.isEqual(Yn.min()))return a}return Cs.newInvalidDocument(e)}}function gg(o){return new Rm(o)}class ty extends sp{constructor(e,n){super(),this.Yn=e,this.trackRemovals=n,this.Xn=new xl(a=>a.toString(),(a,f)=>a.isEqual(f))}applyChanges(e){const n=[];let a=0,f=new Ii((v,w)=>Jn(v.canonicalString(),w.canonicalString()));return this.changes.forEach((v,w)=>{const R=this.Xn.get(v);if(n.push(this.Yn.removeEntry(e,v,R.readTime)),w.isValidDocument()){const W=Wf(this.Yn.yt,w);f=f.add(v.path.popLast());const Q=ph(W);a+=Q-R.size,n.push(this.Yn.addEntry(e,v,W))}else if(a-=R.size,this.trackRemovals){const W=Wf(this.Yn.yt,w.convertToNoDocument(Yn.min()));n.push(this.Yn.addEntry(e,v,W))}}),f.forEach(v=>{n.push(this.Yn.indexManager.addToCollectionParentIndex(e,v))}),n.push(this.Yn.updateMetadata(e,a)),Ut.waitFor(n)}getFromCache(e,n){return this.Yn.Wn(e,n).next(a=>(this.Xn.set(n,{size:a.size,readTime:a.document.readTime}),a.document))}getAllFromCache(e,n){return this.Yn.Hn(e,n).next(({documents:a,Jn:f})=>(f.forEach((v,w)=>{this.Xn.set(v,{size:w,readTime:a.get(v).readTime})}),a))}}function mg(o){return Aa(o,"remoteDocumentGlobal")}function Od(o){return Aa(o,"remoteDocumentsV14")}function rf(o){const e=o.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function _u(o,e){const n=e.documentKey.path.toArray();return[o,Kf(e.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function Pm(o,e){const n=o.path.toArray(),a=e.path.toArray();let f=0;for(let v=0;v<n.length-2&&v<a.length-2;++v)if(f=Jn(n[v],a[v]),f)return f;return f=Jn(n.length,a.length),f||(f=Jn(n[n.length-2],a[a.length-2]),f||Jn(n[n.length-1],a[a.length-1]))}class vg{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class Nm{constructor(e,n,a,f){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=a,this.indexManager=f}getDocument(e,n){let a=null;return this.documentOverlayCache.getOverlay(e,n).next(f=>(a=f,this.remoteDocumentCache.getEntry(e,n))).next(f=>(null!==a&&Kl(a.mutation,f,la.empty(),Qi.now()),f))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(a=>this.getLocalViewOfDocuments(e,a,qr()).next(()=>a))}getLocalViewOfDocuments(e,n,a=qr()){const f=Gr();return this.populateOverlays(e,f,n).next(()=>this.computeViews(e,n,f,a).next(v=>{let w=ju();return v.forEach((R,W)=>{w=w.insert(R,W.overlayedDocument)}),w}))}getOverlayedDocuments(e,n){const a=Gr();return this.populateOverlays(e,a,n).next(()=>this.computeViews(e,n,a,qr()))}populateOverlays(e,n,a){const f=[];return a.forEach(v=>{n.has(v)||f.push(v)}),this.documentOverlayCache.getOverlays(e,f).next(v=>{v.forEach((w,R)=>{n.set(w,R)})})}computeViews(e,n,a,f){let v=da();const w=Jl(),R=Jl();return n.forEach((W,Q)=>{const Ee=a.get(Q.key);f.has(Q.key)&&(void 0===Ee||Ee.mutation instanceof pu)?v=v.insert(Q.key,Q):void 0!==Ee?(w.set(Q.key,Ee.mutation.getFieldMask()),Kl(Ee.mutation,Q,Ee.mutation.getFieldMask(),Qi.now())):w.set(Q.key,la.empty())}),this.recalculateAndSaveOverlays(e,v).next(W=>(W.forEach((Q,Ee)=>w.set(Q,Ee)),n.forEach((Q,Ee)=>{var et;return R.set(Q,new vg(Ee,null!==(et=w.get(Q))&&void 0!==et?et:null))}),R))}recalculateAndSaveOverlays(e,n){const a=Jl();let f=new ds((w,R)=>w-R),v=qr();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(w=>{for(const R of w)R.keys().forEach(W=>{const Q=n.get(W);if(null===Q)return;let Ee=a.get(W)||la.empty();Ee=R.applyToLocalView(Q,Ee),a.set(W,Ee);const et=(f.get(R.batchId)||qr()).add(W);f=f.insert(R.batchId,et)})}).next(()=>{const w=[],R=f.getReverseIterator();for(;R.hasNext();){const W=R.getNext(),Q=W.key,Ee=W.value,et=Ql();Ee.forEach(Ft=>{if(!v.has(Ft)){const tn=Na(n.get(Ft),a.get(Ft));null!==tn&&et.set(Ft,tn),v=v.add(Ft)}}),w.push(this.documentOverlayCache.saveOverlays(e,Q,et))}return Ut.waitFor(w)}).next(()=>a)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(a=>this.recalculateAndSaveOverlays(e,a))}getDocumentsMatchingQuery(e,n,a){return Mn.isDocumentKey((f=n).path)&&null===f.collectionGroup&&0===f.filters.length?this.getDocumentsMatchingDocumentQuery(e,n.path):Ko(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,a):this.getDocumentsMatchingCollectionQuery(e,n,a);var f}getNextDocuments(e,n,a,f){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,a,f).next(v=>{const w=f-v.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,a.largestBatchId,f-v.size):Ut.resolve(Gr());let R=-1,W=v;return w.next(Q=>Ut.forEach(Q,(Ee,et)=>(R<et.largestBatchId&&(R=et.largestBatchId),v.get(Ee)?Ut.resolve():this.remoteDocumentCache.getEntry(e,Ee).next(Ft=>{W=W.insert(Ee,Ft)}))).next(()=>this.populateOverlays(e,Q,v)).next(()=>this.computeViews(e,W,Q,qr())).next(Ee=>({batchId:R,changes:ih(Ee)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Mn(n)).next(a=>{let f=ju();return a.isFoundDocument()&&(f=f.insert(a.key,a)),f})}getDocumentsMatchingCollectionGroupQuery(e,n,a){const f=n.collectionGroup;let v=ju();return this.indexManager.getCollectionParents(e,f).next(w=>Ut.forEach(w,R=>{const W=(Q=n,Ee=R.child(f),new ku(Ee,null,Q.explicitOrderBy.slice(),Q.filters.slice(),Q.limit,Q.limitType,Q.startAt,Q.endAt));var Q,Ee;return this.getDocumentsMatchingCollectionQuery(e,W,a).next(Q=>{Q.forEach((Ee,et)=>{v=v.insert(Ee,et)})})}).next(()=>v))}getDocumentsMatchingCollectionQuery(e,n,a){let f;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,a.largestBatchId).next(v=>(f=v,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,a,f))).next(v=>{f.forEach((R,W)=>{const Q=W.getKey();null===v.get(Q)&&(v=v.insert(Q,Cs.newInvalidDocument(Q)))});let w=ju();return v.forEach((R,W)=>{const Q=f.get(R);void 0!==Q&&Kl(Q.mutation,W,la.empty(),Qi.now()),Bu(n,W)&&(w=w.insert(R,W))}),w})}}class Om{constructor(e){this.yt=e,this.Zn=new Map,this.ts=new Map}getBundleMetadata(e,n){return Ut.resolve(this.Zn.get(n))}saveBundleMetadata(e,n){var a;return this.Zn.set(n.id,{id:(a=n).id,version:a.version,createTime:bs(a.createTime)}),Ut.resolve()}getNamedQuery(e,n){return Ut.resolve(this.ts.get(n))}saveNamedQuery(e,n){return this.ts.set(n.name,{name:(a=n).name,query:Xf(a.bundledQuery),readTime:bs(a.readTime)}),Ut.resolve();var a}}class km{constructor(){this.overlays=new ds(Mn.comparator),this.es=new Map}getOverlay(e,n){return Ut.resolve(this.overlays.get(n))}getOverlays(e,n){const a=Gr();return Ut.forEach(n,f=>this.getOverlay(e,f).next(v=>{null!==v&&a.set(f,v)})).next(()=>a)}saveOverlays(e,n,a){return a.forEach((f,v)=>{this.oe(e,n,v)}),Ut.resolve()}removeOverlaysForBatchId(e,n,a){const f=this.es.get(a);return void 0!==f&&(f.forEach(v=>this.overlays=this.overlays.remove(v)),this.es.delete(a)),Ut.resolve()}getOverlaysForCollection(e,n,a){const f=Gr(),v=n.length+1,w=new Mn(n.child("")),R=this.overlays.getIteratorFrom(w);for(;R.hasNext();){const W=R.getNext().value,Q=W.getKey();if(!n.isPrefixOf(Q.path))break;Q.path.length===v&&W.largestBatchId>a&&f.set(W.getKey(),W)}return Ut.resolve(f)}getOverlaysForCollectionGroup(e,n,a,f){let v=new ds((Q,Ee)=>Q-Ee);const w=this.overlays.getIterator();for(;w.hasNext();){const Q=w.getNext().value;if(Q.getKey().getCollectionGroup()===n&&Q.largestBatchId>a){let Ee=v.get(Q.largestBatchId);null===Ee&&(Ee=Gr(),v=v.insert(Q.largestBatchId,Ee)),Ee.set(Q.getKey(),Q)}}const R=Gr(),W=v.getIterator();for(;W.hasNext()&&(W.getNext().value.forEach((Q,Ee)=>R.set(Q,Ee)),!(R.size()>=f)););return Ut.resolve(R)}oe(e,n,a){const f=this.overlays.get(a.key);if(null!==f){const w=this.es.get(f.largestBatchId).delete(a.key);this.es.set(f.largestBatchId,w)}this.overlays=this.overlays.insert(a.key,new Ad(n,a));let v=this.es.get(n);void 0===v&&(v=qr(),this.es.set(n,v)),this.es.set(n,v.add(a.key))}}class op{constructor(){this.ns=new Ii(Jo.ss),this.rs=new Ii(Jo.os)}isEmpty(){return this.ns.isEmpty()}addReference(e,n){const a=new Jo(e,n);this.ns=this.ns.add(a),this.rs=this.rs.add(a)}us(e,n){e.forEach(a=>this.addReference(a,n))}removeReference(e,n){this.cs(new Jo(e,n))}hs(e,n){e.forEach(a=>this.removeReference(a,n))}ls(e){const n=new Mn(new _i([])),a=new Jo(n,e),f=new Jo(n,e+1),v=[];return this.rs.forEachInRange([a,f],w=>{this.cs(w),v.push(w.key)}),v}fs(){this.ns.forEach(e=>this.cs(e))}cs(e){this.ns=this.ns.delete(e),this.rs=this.rs.delete(e)}ds(e){const n=new Mn(new _i([])),a=new Jo(n,e),f=new Jo(n,e+1);let v=qr();return this.rs.forEachInRange([a,f],w=>{v=v.add(w.key)}),v}containsKey(e){const n=new Jo(e,0),a=this.ns.firstAfterOrEqual(n);return null!==a&&e.isEqual(a.key)}}class Jo{constructor(e,n){this.key=e,this._s=n}static ss(e,n){return Mn.comparator(e.key,n.key)||Jn(e._s,n._s)}static os(e,n){return Jn(e._s,n._s)||Mn.comparator(e.key,n.key)}}class ny{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.ws=1,this.gs=new Ii(Jo.ss)}checkEmpty(e){return Ut.resolve(0===this.mutationQueue.length)}addMutationBatch(e,n,a,f){const v=this.ws;this.ws++;const w=new Dm(v,n,a,f);this.mutationQueue.push(w);for(const R of f)this.gs=this.gs.add(new Jo(R.key,v)),this.indexManager.addToCollectionParentIndex(e,R.key.path.popLast());return Ut.resolve(w)}lookupMutationBatch(e,n){return Ut.resolve(this.ys(n))}getNextMutationBatchAfterBatchId(e,n){const f=this.ps(n+1),v=f<0?0:f;return Ut.resolve(this.mutationQueue.length>v?this.mutationQueue[v]:null)}getHighestUnacknowledgedBatchId(){return Ut.resolve(0===this.mutationQueue.length?-1:this.ws-1)}getAllMutationBatches(e){return Ut.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const a=new Jo(n,0),f=new Jo(n,Number.POSITIVE_INFINITY),v=[];return this.gs.forEachInRange([a,f],w=>{const R=this.ys(w._s);v.push(R)}),Ut.resolve(v)}getAllMutationBatchesAffectingDocumentKeys(e,n){let a=new Ii(Jn);return n.forEach(f=>{const v=new Jo(f,0),w=new Jo(f,Number.POSITIVE_INFINITY);this.gs.forEachInRange([v,w],R=>{a=a.add(R._s)})}),Ut.resolve(this.Is(a))}getAllMutationBatchesAffectingQuery(e,n){const a=n.path,f=a.length+1;let v=a;Mn.isDocumentKey(v)||(v=v.child(""));const w=new Jo(new Mn(v),0);let R=new Ii(Jn);return this.gs.forEachWhile(W=>{const Q=W.key.path;return!!a.isPrefixOf(Q)&&(Q.length===f&&(R=R.add(W._s)),!0)},w),Ut.resolve(this.Is(R))}Is(e){const n=[];return e.forEach(a=>{const f=this.ys(a);null!==f&&n.push(f)}),n}removeMutationBatch(e,n){jn(0===this.Ts(n.batchId,"removed")),this.mutationQueue.shift();let a=this.gs;return Ut.forEach(n.mutations,f=>{const v=new Jo(f.key,n.batchId);return a=a.delete(v),this.referenceDelegate.markPotentiallyOrphaned(e,f.key)}).next(()=>{this.gs=a})}An(e){}containsKey(e,n){const a=new Jo(n,0),f=this.gs.firstAfterOrEqual(a);return Ut.resolve(n.isEqual(f&&f.key))}performConsistencyCheck(e){return Ut.resolve()}Ts(e,n){return this.ps(e)}ps(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}ys(e){const n=this.ps(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class ry{constructor(e){this.Es=e,this.docs=new ds(Mn.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const a=n.key,f=this.docs.get(a),v=f?f.size:0,w=this.Es(n);return this.docs=this.docs.insert(a,{document:n.mutableCopy(),size:w}),this.size+=w-v,this.indexManager.addToCollectionParentIndex(e,a.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const a=this.docs.get(n);return Ut.resolve(a?a.document.mutableCopy():Cs.newInvalidDocument(n))}getEntries(e,n){let a=da();return n.forEach(f=>{const v=this.docs.get(f);a=a.insert(f,v?v.document.mutableCopy():Cs.newInvalidDocument(f))}),Ut.resolve(a)}getDocumentsMatchingQuery(e,n,a,f){let v=da();const w=n.path,R=new Mn(w.child("")),W=this.docs.getIteratorFrom(R);for(;W.hasNext();){const{key:Q,value:{document:Ee}}=W.getNext();if(!w.isPrefixOf(Q.path))break;Q.path.length>w.length+1||Is(ll(Ee),a)<=0||(f.has(Ee.key)||Bu(n,Ee))&&(v=v.insert(Ee.key,Ee.mutableCopy()))}return Ut.resolve(v)}getAllFromCollectionGroup(e,n,a,f){mn()}As(e,n){return Ut.forEach(this.docs,a=>n(a))}newChangeBuffer(e){return new iy(this)}getSize(e){return Ut.resolve(this.size)}}class iy extends sp{constructor(e){super(),this.Yn=e}applyChanges(e){const n=[];return this.changes.forEach((a,f)=>{f.isValidDocument()?n.push(this.Yn.addEntry(e,f)):this.Yn.removeEntry(a)}),Ut.waitFor(n)}getFromCache(e,n){return this.Yn.getEntry(e,n)}getAllFromCache(e,n){return this.Yn.getEntries(e,n)}}class si{constructor(e){this.persistence=e,this.Rs=new xl(n=>Wo(n),vd),this.lastRemoteSnapshotVersion=Yn.min(),this.highestTargetId=0,this.bs=0,this.Ps=new op,this.targetCount=0,this.vs=qc.Pn()}forEachTarget(e,n){return this.Rs.forEach((a,f)=>n(f)),Ut.resolve()}getLastRemoteSnapshotVersion(e){return Ut.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Ut.resolve(this.bs)}allocateTargetId(e){return this.highestTargetId=this.vs.next(),Ut.resolve(this.highestTargetId)}setTargetsMetadata(e,n,a){return a&&(this.lastRemoteSnapshotVersion=a),n>this.bs&&(this.bs=n),Ut.resolve()}Dn(e){this.Rs.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.vs=new qc(n),this.highestTargetId=n),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}addTargetData(e,n){return this.Dn(n),this.targetCount+=1,Ut.resolve()}updateTargetData(e,n){return this.Dn(n),Ut.resolve()}removeTargetData(e,n){return this.Rs.delete(n.target),this.Ps.ls(n.targetId),this.targetCount-=1,Ut.resolve()}removeTargets(e,n,a){let f=0;const v=[];return this.Rs.forEach((w,R)=>{R.sequenceNumber<=n&&null===a.get(R.targetId)&&(this.Rs.delete(w),v.push(this.removeMatchingKeysForTargetId(e,R.targetId)),f++)}),Ut.waitFor(v).next(()=>f)}getTargetCount(e){return Ut.resolve(this.targetCount)}getTargetData(e,n){const a=this.Rs.get(n)||null;return Ut.resolve(a)}addMatchingKeys(e,n,a){return this.Ps.us(n,a),Ut.resolve()}removeMatchingKeys(e,n,a){this.Ps.hs(n,a);const f=this.persistence.referenceDelegate,v=[];return f&&n.forEach(w=>{v.push(f.markPotentiallyOrphaned(e,w))}),Ut.waitFor(v)}removeMatchingKeysForTargetId(e,n){return this.Ps.ls(n),Ut.resolve()}getMatchingKeysForTargetId(e,n){const a=this.Ps.ds(n);return Ut.resolve(a)}containsKey(e,n){return Ut.resolve(this.Ps.containsKey(n))}}class yg{constructor(e,n){this.Vs={},this.overlays={},this.Ss=new So(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=e(this),this.Cs=new si(this),this.indexManager=new Xv,this.remoteDocumentCache=new ry(a=>this.referenceDelegate.xs(a)),this.yt=new ef(n),this.Ns=new Om(this.yt)}start(){return Promise.resolve()}shutdown(){return this.Ds=!1,Promise.resolve()}get started(){return this.Ds}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new km,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let a=this.Vs[e.toKey()];return a||(a=new ny(n,this.referenceDelegate),this.Vs[e.toKey()]=a),a}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ns}runTransaction(e,n,a){Qt("MemoryPersistence","Starting transaction:",e);const f=new sy(this.Ss.next());return this.referenceDelegate.ks(),a(f).next(v=>this.referenceDelegate.Os(f).next(()=>v)).toPromise().then(v=>(f.raiseOnCommittedEvent(),v))}Ms(e,n){return Ut.or(Object.values(this.Vs).map(a=>()=>a.containsKey(e,n)))}}class sy extends Co{constructor(e){super(),this.currentSequenceNumber=e}}class kd{constructor(e){this.persistence=e,this.Fs=new op,this.$s=null}static Bs(e){return new kd(e)}get Ls(){if(this.$s)return this.$s;throw mn()}addReference(e,n,a){return this.Fs.addReference(a,n),this.Ls.delete(a.toString()),Ut.resolve()}removeReference(e,n,a){return this.Fs.removeReference(a,n),this.Ls.add(a.toString()),Ut.resolve()}markPotentiallyOrphaned(e,n){return this.Ls.add(n.toString()),Ut.resolve()}removeTarget(e,n){this.Fs.ls(n.targetId).forEach(f=>this.Ls.add(f.toString()));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(e,n.targetId).next(f=>{f.forEach(v=>this.Ls.add(v.toString()))}).next(()=>a.removeTargetData(e,n))}ks(){this.$s=new Set}Os(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ut.forEach(this.Ls,a=>{const f=Mn.fromPath(a);return this.qs(e,f).next(v=>{v||n.removeEntry(f,Yn.min())})}).next(()=>(this.$s=null,n.apply(e)))}updateLimboDocument(e,n){return this.qs(e,n).next(a=>{a?this.Ls.delete(n.toString()):this.Ls.add(n.toString())})}xs(e){return 0}qs(e,n){return Ut.or([()=>Ut.resolve(this.Fs.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ms(e,n)])}}class _g{constructor(e){this.yt=e}$(e,n,a,f){const v=new Ru("createOrUpgrade",n);var R;a<1&&f>=1&&(e.createObjectStore("owner"),(R=e).createObjectStore("mutationQueues",{keyPath:"userId"}),R.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",kc,{unique:!0}),R.createObjectStore("documentMutations"),ic(e),function(R){R.createObjectStore("remoteDocuments")}(e));let w=Ut.resolve();return a<3&&f>=3&&(0!==a&&(function(R){R.deleteObjectStore("targetDocuments"),R.deleteObjectStore("targets"),R.deleteObjectStore("targetGlobal")}(e),ic(e)),w=w.next(()=>function(R){const W=R.store("targetGlobal"),Q={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Yn.min().toTimestamp(),targetCount:0};return W.put("targetGlobalKey",Q)}(v))),a<4&&f>=4&&(0!==a&&(w=w.next(()=>function(R,W){return W.store("mutations").W().next(Q=>{R.deleteObjectStore("mutations"),R.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",kc,{unique:!0});const Ee=W.store("mutations"),et=Q.map(Ft=>Ee.put(Ft));return Ut.waitFor(et)})}(e,v))),w=w.next(()=>{!function(R){R.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),a<5&&f>=5&&(w=w.next(()=>this.Us(v))),a<6&&f>=6&&(w=w.next(()=>(function(R){R.createObjectStore("remoteDocumentGlobal")}(e),this.Ks(v)))),a<7&&f>=7&&(w=w.next(()=>this.Gs(v))),a<8&&f>=8&&(w=w.next(()=>this.Qs(e,v))),a<9&&f>=9&&(w=w.next(()=>{!function(R){R.objectStoreNames.contains("remoteDocumentChanges")&&R.deleteObjectStore("remoteDocumentChanges")}(e)})),a<10&&f>=10&&(w=w.next(()=>this.js(v))),a<11&&f>=11&&(w=w.next(()=>{(function(R){R.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(R){R.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),a<12&&f>=12&&(w=w.next(()=>{!function(R){const W=R.createObjectStore("documentOverlays",{keyPath:Sr});W.createIndex("collectionPathOverlayIndex",Wv,{unique:!1}),W.createIndex("collectionGroupOverlayIndex",dg,{unique:!1})}(e)})),a<13&&f>=13&&(w=w.next(()=>function(R){const W=R.createObjectStore("remoteDocumentsV14",{keyPath:ug});W.createIndex("documentKeyIndex",zv),W.createIndex("collectionGroupIndex",zf)}(e)).next(()=>this.Ws(e,v)).next(()=>e.deleteObjectStore("remoteDocuments"))),a<14&&f>=14&&(w=w.next(()=>this.zs(e,v))),a<15&&f>=15&&(w=w.next(()=>function(R){R.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),R.createObjectStore("indexState",{keyPath:wm}).createIndex("sequenceNumberIndex",cg,{unique:!1}),R.createObjectStore("indexEntries",{keyPath:qv}).createIndex("documentKeyIndex",yo,{unique:!1})}(e))),w}Ks(e){let n=0;return e.store("remoteDocuments").Z((a,f)=>{n+=ph(f)}).next(()=>{const a={byteSize:n};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",a)})}Us(e){const n=e.store("mutationQueues"),a=e.store("mutations");return n.W().next(f=>Ut.forEach(f,v=>{const w=IDBKeyRange.bound([v.userId,-1],[v.userId,v.lastAcknowledgedBatchId]);return a.W("userMutationsIndex",w).next(R=>Ut.forEach(R,W=>{jn(W.userId===v.userId);const Q=nc(this.yt,W);return rp(e,v.userId,Q).next(()=>{})}))}))}Gs(e){const n=e.store("targetDocuments"),a=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(f=>{const v=[];return a.Z((w,R)=>{const W=new _i(w),Q=[0,Qo(W)];v.push(n.get(Q).next(Ee=>Ee?Ut.resolve():n.put({targetId:0,path:Qo(W),sequenceNumber:f.highestListenSequenceNumber})))}).next(()=>Ut.waitFor(v))})}Qs(e,n){e.createObjectStore("collectionParents",{keyPath:qf});const a=n.store("collectionParents"),f=new Hc,v=w=>{if(f.add(w)){const R=w.lastSegment(),W=w.popLast();return a.put({collectionId:R,parent:Qo(W)})}};return n.store("remoteDocuments").Z({X:!0},(w,R)=>{const W=new _i(w);return v(W.popLast())}).next(()=>n.store("documentMutations").Z({X:!0},([w,R,W],Q)=>{const Ee=Wu(R);return v(Ee.popLast())}))}js(e){const n=e.store("targets");return n.Z((a,f)=>{const v=Yf(f),w=Zf(this.yt,v);return n.put(w)})}Ws(e,n){const a=n.store("remoteDocuments"),f=[];return a.Z((v,w)=>{const R=n.store("remoteDocumentsV14"),W=(Q=w,Q.document?new Mn(_i.fromString(Q.document.name).popFirst(5)):Q.noDocument?Mn.fromSegments(Q.noDocument.path):Q.unknownDocument?Mn.fromSegments(Q.unknownDocument.path):mn()).path.toArray();var Q;const Ee={prefixPath:W.slice(0,W.length-2),collectionGroup:W[W.length-2],documentId:W[W.length-1],readTime:w.readTime||[0,0],unknownDocument:w.unknownDocument,noDocument:w.noDocument,document:w.document,hasCommittedMutations:!!w.hasCommittedMutations};f.push(R.put(Ee))}).next(()=>Ut.waitFor(f))}zs(e,n){const a=n.store("mutations"),f=gg(this.yt),v=new yg(kd.Bs,this.yt.ie);return a.W().next(w=>{const R=new Map;return w.forEach(W=>{var Q;let Ee=null!==(Q=R.get(W.userId))&&void 0!==Q?Q:qr();nc(this.yt,W).keys().forEach(et=>Ee=Ee.add(et)),R.set(W.userId,Ee)}),Ut.forEach(R,(W,Q)=>{const Ee=new pr(Q),et=vl.re(this.yt,Ee),Ft=v.getIndexManager(Ee),tn=Rd.re(Ee,this.yt,Ft,v.referenceDelegate);return new Nm(f,tn,et,Ft).recalculateAndSaveOverlaysForDocumentKeys(new lh(n,So.at),W).next()})})}}function ic(o){o.createObjectStore("targetDocuments",{keyPath:Em}).createIndex("documentTargetsIndex",lg,{unique:!0}),o.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",_m,{unique:!0}),o.createObjectStore("targetGlobal")}const ap="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Eg{constructor(e,n,a,f,v,w,R,W,Q,Ee,et=15){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=a,this.Hs=v,this.window=w,this.document=R,this.Js=Q,this.Ys=Ee,this.Xs=et,this.Ss=null,this.Ds=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Zs=null,this.inForeground=!1,this.ti=null,this.ei=null,this.ni=Number.NEGATIVE_INFINITY,this.si=Ft=>Promise.resolve(),!Eg.C())throw new rn(Gt.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Qy(this,f),this.ii=n+"main",this.yt=new ef(W),this.ri=new Do(this.ii,this.Xs,new _g(this.yt)),this.Cs=new Jv(this.referenceDelegate,this.yt),this.remoteDocumentCache=gg(this.yt),this.Ns=new Md,this.window&&this.window.localStorage?this.oi=this.window.localStorage:(this.oi=null,!1===Ee&&jr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.ui().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new rn(Gt.FAILED_PRECONDITION,ap);return this.ci(),this.ai(),this.hi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Cs.getHighestSequenceNumber(e))}).then(e=>{this.Ss=new So(e,this.Js)}).then(()=>{this.Ds=!0}).catch(e=>(this.ri&&this.ri.close(),Promise.reject(e)))}li(e){var n=this;return this.si=function(){var a=(0,fe.Z)(function*(f){if(n.started)return e(f)});return function(f){return a.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.ri.L(function(){var n=(0,fe.Z)(function*(a){null===a.newVersion&&(yield e())});return function(a){return n.apply(this,arguments)}}())}setNetworkEnabled(e){var n=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Hs.enqueueAndForget((0,fe.Z)(function*(){n.started&&(yield n.ui())})))}ui(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>up(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.fi(e).next(n=>{n||(this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)))})}).next(()=>this.di(e)).next(n=>this.isPrimary&&!n?this._i(e).next(()=>!1):!!n&&this.wi(e).next(()=>!0))).catch(e=>{if(pi(e))return Qt("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Qt("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Hs.enqueueRetryable(()=>this.si(e)),this.isPrimary=e})}fi(e){return mh(e).get("owner").next(n=>Ut.resolve(this.mi(n)))}gi(e){return up(e).delete(this.clientId)}yi(){var e=this;return(0,fe.Z)(function*(){if(e.isPrimary&&!e.pi(e.ni,18e5)){e.ni=Date.now();const n=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",a=>{const f=Aa(a,"clientMetadata");return f.W().next(v=>{const w=e.Ii(v,18e5),R=v.filter(W=>-1===w.indexOf(W));return Ut.forEach(R,W=>f.delete(W.clientId)).next(()=>R)})}).catch(()=>[]);if(e.oi)for(const a of n)e.oi.removeItem(e.Ti(a.clientId))}})()}hi(){this.ei=this.Hs.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.ui().then(()=>this.yi()).then(()=>this.hi()))}mi(e){return!!e&&e.ownerId===this.clientId}di(e){return this.Ys?Ut.resolve(!0):mh(e).get("owner").next(n=>{if(null!==n&&this.pi(n.leaseTimestampMs,5e3)&&!this.Ei(n.ownerId)){if(this.mi(n)&&this.networkEnabled)return!0;if(!this.mi(n)){if(!n.allowTabSynchronization)throw new rn(Gt.FAILED_PRECONDITION,ap);return!1}}return!(!this.networkEnabled||!this.inForeground)||up(e).W().next(a=>void 0===this.Ii(a,5e3).find(f=>{if(this.clientId!==f.clientId){const w=!this.inForeground&&f.inForeground,R=this.networkEnabled===f.networkEnabled;if(!this.networkEnabled&&f.networkEnabled||w&&R)return!0}return!1}))}).next(n=>(this.isPrimary!==n&&Qt("IndexedDbPersistence",`Client ${n?"is":"is not"} eligible for a primary lease.`),n))}shutdown(){var e=this;return(0,fe.Z)(function*(){e.Ds=!1,e.Ai(),e.ei&&(e.ei.cancel(),e.ei=null),e.Ri(),e.bi(),yield e.ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],n=>{const a=new lh(n,So.at);return e._i(a).next(()=>e.gi(a))}),e.ri.close(),e.Pi()})()}Ii(e,n){return e.filter(a=>this.pi(a.updateTimeMs,n)&&!this.Ei(a.clientId))}vi(){return this.runTransaction("getActiveClients","readonly",e=>up(e).W().next(n=>this.Ii(n,18e5).map(a=>a.clientId)))}get started(){return this.Ds}getMutationQueue(e,n){return Rd.re(e,this.yt,n,this.referenceDelegate)}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new Qv(e,this.yt.ie.databaseId)}getDocumentOverlayCache(e){return vl.re(this.yt,e)}getBundleCache(){return this.Ns}runTransaction(e,n,a){Qt("IndexedDbPersistence","Starting transaction:",e);const f="readonly"===n?"readonly":"readwrite",v=15===(w=this.Xs)?Kv:14===w?bm:13===w?Cm:12===w?Im:11===w?Ku:void mn();var w;let R;return this.ri.runTransaction(e,f,v,W=>(R=new lh(W,this.Ss?this.Ss.next():So.at),"readwrite-primary"===n?this.fi(R).next(Q=>!!Q||this.di(R)).next(Q=>{if(!Q)throw jr(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)),new rn(Gt.FAILED_PRECONDITION,Mu);return a(R)}).next(Q=>this.wi(R).next(()=>Q)):this.Vi(R).next(()=>a(R)))).then(W=>(R.raiseOnCommittedEvent(),W))}Vi(e){return mh(e).get("owner").next(n=>{if(null!==n&&this.pi(n.leaseTimestampMs,5e3)&&!this.Ei(n.ownerId)&&!this.mi(n)&&!(this.Ys||this.allowTabSynchronization&&n.allowTabSynchronization))throw new rn(Gt.FAILED_PRECONDITION,ap)})}wi(e){const n={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return mh(e).put("owner",n)}static C(){return Do.C()}_i(e){const n=mh(e);return n.get("owner").next(a=>this.mi(a)?(Qt("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):Ut.resolve())}pi(e,n){const a=Date.now();return!(e<a-n||e>a&&(jr(`Detected an update time that is in the future: ${e} > ${a}`),1))}ci(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ti=()=>{this.Hs.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.ui()))},this.document.addEventListener("visibilitychange",this.ti),this.inForeground="visible"===this.document.visibilityState)}Ri(){this.ti&&(this.document.removeEventListener("visibilitychange",this.ti),this.ti=null)}ai(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Zs=()=>{this.Ai(),(0,Qe.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Hs.enterRestrictedMode(!0),this.Hs.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Zs))}bi(){this.Zs&&(this.window.removeEventListener("pagehide",this.Zs),this.Zs=null)}Ei(e){var n;try{const a=null!==(null===(n=this.oi)||void 0===n?void 0:n.getItem(this.Ti(e)));return Qt("IndexedDbPersistence",`Client '${e}' ${a?"is":"is not"} zombied in LocalStorage`),a}catch(a){return jr("IndexedDbPersistence","Failed to get zombied client id.",a),!1}}Ai(){if(this.oi)try{this.oi.setItem(this.Ti(this.clientId),String(Date.now()))}catch(e){jr("Failed to set zombie client id.",e)}}Pi(){if(this.oi)try{this.oi.removeItem(this.Ti(this.clientId))}catch(e){}}Ti(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function mh(o){return Aa(o,"owner")}function up(o){return Aa(o,"clientMetadata")}function wg(o,e){let n=o.projectId;return o.isDefaultDatabase||(n+="."+o.database),"firestore/"+e+"/"+n+"/"}class Fm{constructor(e,n,a,f){this.targetId=e,this.fromCache=n,this.Si=a,this.Di=f}static Ci(e,n){let a=qr(),f=qr();for(const v of n.docChanges)switch(v.type){case 0:a=a.add(v.doc.key);break;case 1:f=f.add(v.doc.key)}return new Fm(e,n.fromCache,a,f)}}class Ig{constructor(){this.xi=!1}initialize(e,n){this.Ni=e,this.indexManager=n,this.xi=!0}getDocumentsMatchingQuery(e,n,a,f){return this.ki(e,n).next(v=>v||this.Oi(e,n,f,a)).next(v=>v||this.Mi(e,n))}ki(e,n){if(ba(n))return Ut.resolve(null);let a=To(n);return this.indexManager.getIndexType(e,a).next(f=>0===f?null:(null!==n.limit&&1===f&&(n=vo(n,null,"F"),a=To(n)),this.indexManager.getDocumentsMatchingTarget(e,a).next(v=>{const w=qr(...v);return this.Ni.getDocuments(e,w).next(R=>this.indexManager.getMinOffset(e,a).next(W=>{const Q=this.Fi(n,R);return this.$i(n,Q,w,W.readTime)?this.ki(e,vo(n,null,"F")):this.Bi(e,Q,n,W)}))})))}Oi(e,n,a,f){return ba(n)||f.isEqual(Yn.min())?this.Mi(e,n):this.Ni.getDocuments(e,a).next(v=>{const w=this.Fi(n,v);return this.$i(n,w,a,f)?this.Mi(e,n):(kr()<=Je.in.DEBUG&&Qt("QueryEngine","Re-using previous result from %s to execute query: %s",f.toString(),Tc(n)),this.Bi(e,w,n,wc(f,-1)))})}Fi(e,n){let a=new Ii(Jd(e));return n.forEach((f,v)=>{Bu(e,v)&&(a=a.add(v))}),a}$i(e,n,a,f){if(null===e.limit)return!1;if(a.size!==n.size)return!0;const v="F"===e.limitType?n.last():n.first();return!!v&&(v.hasPendingWrites||v.version.compareTo(f)>0)}Mi(e,n){return kr()<=Je.in.DEBUG&&Qt("QueryEngine","Using full collection scan to execute query:",Tc(n)),this.Ni.getDocumentsMatchingQuery(e,n,Io.min())}Bi(e,n,a,f){return this.Ni.getDocumentsMatchingQuery(e,a,f).next(v=>(n.forEach(w=>{v=v.insert(w.key,w)}),v))}}class Lm{constructor(e,n,a,f){this.persistence=e,this.Li=n,this.yt=f,this.qi=new ds(Jn),this.Ui=new xl(v=>Wo(v),vd),this.Ki=new Map,this.Gi=e.getRemoteDocumentCache(),this.Cs=e.getTargetCache(),this.Ns=e.getBundleCache(),this.Qi(a)}Qi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Nm(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.qi))}}function Wc(o,e,n,a){return new Lm(o,e,n,a)}function Bm(o,e){return sf.apply(this,arguments)}function sf(){return sf=(0,fe.Z)(function*(o,e){const n=bn(o);return yield n.persistence.runTransaction("Handle user change","readonly",a=>{let f;return n.mutationQueue.getAllMutationBatches(a).next(v=>(f=v,n.Qi(e),n.mutationQueue.getAllMutationBatches(a))).next(v=>{const w=[],R=[];let W=qr();for(const Q of f){w.push(Q.batchId);for(const Ee of Q.mutations)W=W.add(Ee.key)}for(const Q of v){R.push(Q.batchId);for(const Ee of Q.mutations)W=W.add(Ee.key)}return n.localDocuments.getDocuments(a,W).next(Q=>({ji:Q,removedBatchIds:w,addedBatchIds:R}))})})}),sf.apply(this,arguments)}function lp(o,e){const n=bn(o);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",a=>{const f=e.batch.keys(),v=n.Gi.newChangeBuffer({trackRemovals:!0});return function(w,R,W,Q){const Ee=W.batch,et=Ee.keys();let Ft=Ut.resolve();return et.forEach(tn=>{Ft=Ft.next(()=>Q.getEntry(R,tn)).next(dn=>{const Gn=W.docVersions.get(tn);jn(null!==Gn),dn.version.compareTo(Gn)<0&&(Ee.applyToRemoteDocument(dn,W),dn.isValidDocument()&&(dn.setReadTime(W.commitVersion),Q.addEntry(dn)))})}),Ft.next(()=>w.mutationQueue.removeMutationBatch(R,Ee))}(n,a,e,v).next(()=>v.apply(a)).next(()=>n.mutationQueue.performConsistencyCheck(a)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(a,f,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,function(w){let R=qr();for(let W=0;W<w.mutationResults.length;++W)w.mutationResults[W].transformResults.length>0&&(R=R.add(w.batch.mutations[W].key));return R}(e))).next(()=>n.localDocuments.getDocuments(a,f))})}function Bs(o){const e=bn(o);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Cs.getLastRemoteSnapshotVersion(n))}function Jy(o,e){const n=bn(o),a=e.snapshotVersion;let f=n.qi;return n.persistence.runTransaction("Apply remote event","readwrite-primary",v=>{const w=n.Gi.newChangeBuffer({trackRemovals:!0});f=n.qi;const R=[];e.targetChanges.forEach((Ee,et)=>{const Ft=f.get(et);if(!Ft)return;R.push(n.Cs.removeMatchingKeys(v,Ee.removedDocuments,et).next(()=>n.Cs.addMatchingKeys(v,Ee.addedDocuments,et)));let tn=Ft.withSequenceNumber(v.currentSequenceNumber);var dn,Gn,hr;e.targetMismatches.has(et)?tn=tn.withResumeToken(ne.EMPTY_BYTE_STRING,Yn.min()).withLastLimboFreeSnapshotVersion(Yn.min()):Ee.resumeToken.approximateByteSize()>0&&(tn=tn.withResumeToken(Ee.resumeToken,a)),f=f.insert(et,tn),Gn=tn,hr=Ee,(0===(dn=Ft).resumeToken.approximateByteSize()||Gn.snapshotVersion.toMicroseconds()-dn.snapshotVersion.toMicroseconds()>=3e8||hr.addedDocuments.size+hr.modifiedDocuments.size+hr.removedDocuments.size>0)&&R.push(n.Cs.updateTargetData(v,tn))});let W=da(),Q=qr();if(e.documentUpdates.forEach(Ee=>{e.resolvedLimboDocuments.has(Ee)&&R.push(n.persistence.referenceDelegate.updateLimboDocument(v,Ee))}),R.push(oy(v,w,e.documentUpdates).next(Ee=>{W=Ee.Wi,Q=Ee.zi})),!a.isEqual(Yn.min())){const Ee=n.Cs.getLastRemoteSnapshotVersion(v).next(et=>n.Cs.setTargetsMetadata(v,v.currentSequenceNumber,a));R.push(Ee)}return Ut.waitFor(R).next(()=>w.apply(v)).next(()=>n.localDocuments.getLocalViewOfDocuments(v,W,Q)).next(()=>W)}).then(v=>(n.qi=f,v))}function oy(o,e,n){let a=qr(),f=qr();return n.forEach(v=>a=a.add(v)),e.getEntries(o,a).next(v=>{let w=da();return n.forEach((R,W)=>{const Q=v.get(R);W.isFoundDocument()!==Q.isFoundDocument()&&(f=f.add(R)),W.isNoDocument()&&W.version.isEqual(Yn.min())?(e.removeEntry(R,W.readTime),w=w.insert(R,W)):!Q.isValidDocument()||W.version.compareTo(Q.version)>0||0===W.version.compareTo(Q.version)&&Q.hasPendingWrites?(e.addEntry(W),w=w.insert(R,W)):Qt("LocalStore","Ignoring outdated watch update for ",R,". Current version:",Q.version," Watch version:",W.version)}),{Wi:w,zi:f}})}function e_(o,e){const n=bn(o);return n.persistence.runTransaction("Get next mutation batch","readonly",a=>(void 0===e&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(a,e)))}function Fd(o,e){const n=bn(o);return n.persistence.runTransaction("Allocate target","readwrite",a=>{let f;return n.Cs.getTargetData(a,e).next(v=>v?(f=v,Ut.resolve(f)):n.Cs.allocateTargetId(a).next(w=>(f=new kl(e,w,0,a.currentSequenceNumber),n.Cs.addTargetData(a,f).next(()=>f))))}).then(a=>{const f=n.qi.get(a.targetId);return(null===f||a.snapshotVersion.compareTo(f.snapshotVersion)>0)&&(n.qi=n.qi.insert(a.targetId,a),n.Ui.set(e,a.targetId)),a})}function Kc(o,e,n){return Cg.apply(this,arguments)}function Cg(){return Cg=(0,fe.Z)(function*(o,e,n){const a=bn(o),f=a.qi.get(e),v=n?"readwrite":"readwrite-primary";try{n||(yield a.persistence.runTransaction("Release target",v,w=>a.persistence.referenceDelegate.removeTarget(w,f)))}catch(w){if(!pi(w))throw w;Qt("LocalStore",`Failed to update sequence numbers for target ${e}: ${w}`)}a.qi=a.qi.remove(e),a.Ui.delete(f.target)}),Cg.apply(this,arguments)}function af(o,e,n){const a=bn(o);let f=Yn.min(),v=qr();return a.persistence.runTransaction("Execute query","readonly",w=>function(R,W,Q){const Ee=bn(R),et=Ee.Ui.get(Q);return void 0!==et?Ut.resolve(Ee.qi.get(et)):Ee.Cs.getTargetData(W,Q)}(a,w,To(e)).next(R=>{if(R)return f=R.lastLimboFreeSnapshotVersion,a.Cs.getMatchingKeysForTargetId(w,R.targetId).next(W=>{v=W})}).next(()=>a.Li.getDocumentsMatchingQuery(w,e,n?f:Yn.min(),n?v:qr())).next(R=>(Ld(a,io(e),R),{documents:R,Hi:v})))}function Yc(o,e){const n=bn(o),a=bn(n.Cs),f=n.qi.get(e);return f?Promise.resolve(f.target):n.persistence.runTransaction("Get target data","readonly",v=>a.ne(v,e).next(w=>w?w.target:null))}function $m(o,e){const n=bn(o),a=n.Ki.get(e)||Yn.min();return n.persistence.runTransaction("Get new document changes","readonly",f=>n.Gi.getAllFromCollectionGroup(f,e,wc(a,-1),Number.MAX_SAFE_INTEGER)).then(f=>(Ld(n,e,f),f))}function Ld(o,e,n){let a=o.Ki.get(e)||Yn.min();n.forEach((f,v)=>{v.readTime.compareTo(a)>0&&(a=v.readTime)}),o.Ki.set(e,a)}function cp(){return cp=(0,fe.Z)(function*(o,e,n,a){const f=bn(o);let v=qr(),w=da();for(const Q of n){const Ee=e.Ji(Q.metadata.name);Q.document&&(v=v.add(Ee));const et=e.Yi(Q);et.setReadTime(e.Xi(Q.metadata.readTime)),w=w.insert(Ee,et)}const R=f.Gi.newChangeBuffer({trackRemovals:!0}),W=yield Fd(f,(Q=a,To(Dc(_i.fromString(`__bundle__/docs/${Q}`)))));var Q;return f.persistence.runTransaction("Apply bundle documents","readwrite",Q=>oy(Q,R,w).next(Ee=>(R.apply(Q),Ee)).next(Ee=>f.Cs.removeMatchingKeysForTargetId(Q,W.targetId).next(()=>f.Cs.addMatchingKeys(Q,v,W.targetId)).next(()=>f.localDocuments.getLocalViewOfDocuments(Q,Ee.Wi,Ee.zi)).next(()=>Ee.Wi)))}),cp.apply(this,arguments)}function Vm(o,e){return bg.apply(this,arguments)}function bg(){return bg=(0,fe.Z)(function*(o,e,n=qr()){const a=yield Fd(o,To(Xf(e.bundledQuery))),f=bn(o);return f.persistence.runTransaction("Save named query","readwrite",v=>{const w=bs(e.readTime);if(a.snapshotVersion.compareTo(w)>=0)return f.Ns.saveNamedQuery(v,e);const R=a.withResumeToken(ne.EMPTY_BYTE_STRING,w);return f.qi=f.qi.insert(R.targetId,R),f.Cs.updateTargetData(v,R).next(()=>f.Cs.removeMatchingKeysForTargetId(v,a.targetId)).next(()=>f.Cs.addMatchingKeys(v,n,a.targetId)).next(()=>f.Ns.saveNamedQuery(v,e))})}),bg.apply(this,arguments)}function Um(o,e){return`firestore_clients_${o}_${e}`}function Hm(o,e,n){let a=`firestore_mutations_${o}_${n}`;return e.isAuthenticated()&&(a+=`_${e.uid}`),a}function dp(o,e){return`firestore_targets_${o}_${e}`}class vh{constructor(e,n,a,f){this.user=e,this.batchId=n,this.state=a,this.error=f}static Zi(e,n,a){const f=JSON.parse(a);let v,w="object"==typeof f&&-1!==["pending","acknowledged","rejected"].indexOf(f.state)&&(void 0===f.error||"object"==typeof f.error);return w&&f.error&&(w="string"==typeof f.error.message&&"string"==typeof f.error.code,w&&(v=new rn(f.error.code,f.error.message))),w?new vh(e,n,f.state,v):(jr("SharedClientState",`Failed to parse mutation state for ID '${n}': ${a}`),null)}tr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class yh{constructor(e,n,a){this.targetId=e,this.state=n,this.error=a}static Zi(e,n){const a=JSON.parse(n);let f,v="object"==typeof a&&-1!==["not-current","current","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return v&&a.error&&(v="string"==typeof a.error.message&&"string"==typeof a.error.code,v&&(f=new rn(a.error.code,a.error.message))),v?new yh(e,a.state,f):(jr("SharedClientState",`Failed to parse target state for ID '${e}': ${n}`),null)}tr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class hp{constructor(e,n){this.clientId=e,this.activeTargetIds=n}static Zi(e,n){const a=JSON.parse(n);let f="object"==typeof a&&a.activeTargetIds instanceof Array,v=Ml();for(let w=0;f&&w<a.activeTargetIds.length;++w)f=N(a.activeTargetIds[w]),v=v.add(a.activeTargetIds[w]);return f?new hp(e,v):(jr("SharedClientState",`Failed to parse client data for instance '${e}': ${n}`),null)}}class fp{constructor(e,n){this.clientId=e,this.onlineState=n}static Zi(e){const n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new fp(n.clientId,n.onlineState):(jr("SharedClientState",`Failed to parse online state: ${e}`),null)}}class ha{constructor(){this.activeTargetIds=Ml()}er(e){this.activeTargetIds=this.activeTargetIds.add(e)}nr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}tr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class uf{constructor(e,n,a,f,v){this.window=e,this.Hs=n,this.persistenceKey=a,this.sr=f,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ir=this.rr.bind(this),this.ur=new ds(Jn),this.started=!1,this.cr=[];const w=a.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=v,this.ar=Um(this.persistenceKey,this.sr),this.hr=`firestore_sequence_number_${this.persistenceKey}`,this.ur=this.ur.insert(this.sr,new ha),this.lr=new RegExp(`^firestore_clients_${w}_([^_]*)$`),this.dr=new RegExp(`^firestore_mutations_${w}_(\\d+)(?:_(.*))?$`),this._r=new RegExp(`^firestore_targets_${w}_(\\d+)$`),this.wr=`firestore_online_state_${this.persistenceKey}`,this.mr=function(R){return`firestore_bundle_loaded_v2_${R}`}(this.persistenceKey),this.window.addEventListener("storage",this.ir)}static C(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,fe.Z)(function*(){const n=yield e.syncEngine.vi();for(const f of n){if(f===e.sr)continue;const v=e.getItem(Um(e.persistenceKey,f));if(v){const w=hp.Zi(f,v);w&&(e.ur=e.ur.insert(w.clientId,w))}}e.gr();const a=e.storage.getItem(e.wr);if(a){const f=e.yr(a);f&&e.pr(f)}for(const f of e.cr)e.rr(f);e.cr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.hr,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Ir(this.ur)}isActiveQueryTarget(e){let n=!1;return this.ur.forEach((a,f)=>{f.activeTargetIds.has(e)&&(n=!0)}),n}addPendingMutation(e){this.Tr(e,"pending")}updateMutationState(e,n,a){this.Tr(e,n,a),this.Er(e)}addLocalQueryTarget(e){let n="not-current";if(this.isActiveQueryTarget(e)){const a=this.storage.getItem(dp(this.persistenceKey,e));if(a){const f=yh.Zi(e,a);f&&(n=f.state)}}return this.Ar.er(e),this.gr(),n}removeLocalQueryTarget(e){this.Ar.nr(e),this.gr()}isLocalQueryTarget(e){return this.Ar.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(dp(this.persistenceKey,e))}updateQueryState(e,n,a){this.Rr(e,n,a)}handleUserChange(e,n,a){n.forEach(f=>{this.Er(f)}),this.currentUser=e,a.forEach(f=>{this.addPendingMutation(f)})}setOnlineState(e){this.br(e)}notifyBundleLoaded(e){this.Pr(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ir),this.removeItem(this.ar),this.started=!1)}getItem(e){const n=this.storage.getItem(e);return Qt("SharedClientState","READ",e,n),n}setItem(e,n){Qt("SharedClientState","SET",e,n),this.storage.setItem(e,n)}removeItem(e){Qt("SharedClientState","REMOVE",e),this.storage.removeItem(e)}rr(e){var n=this;const a=e;if(a.storageArea===this.storage){if(Qt("SharedClientState","EVENT",a.key,a.newValue),a.key===this.ar)return void jr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Hs.enqueueRetryable((0,fe.Z)(function*(){if(n.started){if(null!==a.key)if(n.lr.test(a.key)){if(null==a.newValue){const f=n.vr(a.key);return n.Vr(f,null)}{const f=n.Sr(a.key,a.newValue);if(f)return n.Vr(f.clientId,f)}}else if(n.dr.test(a.key)){if(null!==a.newValue){const f=n.Dr(a.key,a.newValue);if(f)return n.Cr(f)}}else if(n._r.test(a.key)){if(null!==a.newValue){const f=n.Nr(a.key,a.newValue);if(f)return n.kr(f)}}else if(a.key===n.wr){if(null!==a.newValue){const f=n.yr(a.newValue);if(f)return n.pr(f)}}else if(a.key===n.hr){const f=function(v){let w=So.at;if(null!=v)try{const R=JSON.parse(v);jn("number"==typeof R),w=R}catch(R){jr("SharedClientState","Failed to read sequence number from WebStorage",R)}return w}(a.newValue);f!==So.at&&n.sequenceNumberHandler(f)}else if(a.key===n.mr){const f=n.Or(a.newValue);yield Promise.all(f.map(v=>n.syncEngine.Mr(v)))}}else n.cr.push(a)}))}}get Ar(){return this.ur.get(this.sr)}gr(){this.setItem(this.ar,this.Ar.tr())}Tr(e,n,a){const f=new vh(this.currentUser,e,n,a),v=Hm(this.persistenceKey,this.currentUser,e);this.setItem(v,f.tr())}Er(e){const n=Hm(this.persistenceKey,this.currentUser,e);this.removeItem(n)}br(e){this.storage.setItem(this.wr,JSON.stringify({clientId:this.sr,onlineState:e}))}Rr(e,n,a){const f=dp(this.persistenceKey,e),v=new yh(e,n,a);this.setItem(f,v.tr())}Pr(e){const n=JSON.stringify(Array.from(e));this.setItem(this.mr,n)}vr(e){const n=this.lr.exec(e);return n?n[1]:null}Sr(e,n){const a=this.vr(e);return hp.Zi(a,n)}Dr(e,n){const a=this.dr.exec(e),f=Number(a[1]);return vh.Zi(new pr(void 0!==a[2]?a[2]:null),f,n)}Nr(e,n){const a=this._r.exec(e),f=Number(a[1]);return yh.Zi(f,n)}yr(e){return fp.Zi(e)}Or(e){return JSON.parse(e)}Cr(e){var n=this;return(0,fe.Z)(function*(){if(e.user.uid===n.currentUser.uid)return n.syncEngine.Fr(e.batchId,e.state,e.error);Qt("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}kr(e){return this.syncEngine.$r(e.targetId,e.state,e.error)}Vr(e,n){const a=n?this.ur.insert(e,n):this.ur.remove(e),f=this.Ir(this.ur),v=this.Ir(a),w=[],R=[];return v.forEach(W=>{f.has(W)||w.push(W)}),f.forEach(W=>{v.has(W)||R.push(W)}),this.syncEngine.Br(w,R).then(()=>{this.ur=a})}pr(e){this.ur.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Ir(e){let n=Ml();return e.forEach((a,f)=>{n=n.unionWith(f.activeTargetIds)}),n}}class Dg{constructor(){this.Lr=new ha,this.qr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,a){}addLocalQueryTarget(e){return this.Lr.er(e),this.qr[e]||"not-current"}updateQueryState(e,n,a){this.qr[e]=n}removeLocalQueryTarget(e){this.Lr.nr(e)}isLocalQueryTarget(e){return this.Lr.activeTargetIds.has(e)}clearQueryState(e){delete this.qr[e]}getAllActiveQueryTargets(){return this.Lr.activeTargetIds}isActiveQueryTarget(e){return this.Lr.activeTargetIds.has(e)}start(){return this.Lr=new ha,Promise.resolve()}handleUserChange(e,n,a){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class lf{Ur(e){}shutdown(){}}class Sg{constructor(){this.Kr=()=>this.Gr(),this.Qr=()=>this.jr(),this.Wr=[],this.zr()}Ur(e){this.Wr.push(e)}shutdown(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}zr(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}Gr(){Qt("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Wr)e(0)}jr(){Qt("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Wr)e(1)}static C(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const ay={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class _h{constructor(e){this.Hr=e.Hr,this.Jr=e.Jr}Yr(e){this.Xr=e}Zr(e){this.eo=e}onMessage(e){this.no=e}close(){this.Jr()}send(e){this.Hr(e)}so(){this.Xr()}io(e){this.eo(e)}ro(e){this.no(e)}}class jm extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.oo=(e.ssl?"https":"http")+"://"+e.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get co(){return!1}ao(e,n,a,f,v){const w=this.ho(e,n);Qt("RestConnection","Sending: ",w,a);const R={};return this.lo(R,f,v),this.fo(e,w,R,a).then(W=>(Qt("RestConnection","Received: ",W),W),W=>{throw Fs("RestConnection",`${e} failed with error: `,W,"url: ",w,"request:",a),W})}_o(e,n,a,f,v,w){return this.ao(e,n,a,f,v)}lo(e,n,a){e["X-Goog-Api-Client"]="gl-js/ fire/"+Cr,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((f,v)=>e[v]=f),a&&a.headers.forEach((f,v)=>e[v]=f)}ho(e,n){return`${this.oo}/v1/${n}:${ay[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}fo(e,n,a,f){return new Promise((v,w)=>{const R=new Xt;R.setWithCredentials(!0),R.listenOnce(X.COMPLETE,()=>{try{switch(R.getLastErrorCode()){case O.NO_ERROR:const Q=R.getResponseJson();Qt("Connection","XHR received:",JSON.stringify(Q)),v(Q);break;case O.TIMEOUT:Qt("Connection",'RPC "'+e+'" timed out'),w(new rn(Gt.DEADLINE_EXCEEDED,"Request time out"));break;case O.HTTP_ERROR:const Ee=R.getStatus();if(Qt("Connection",'RPC "'+e+'" failed with status:',Ee,"response text:",R.getResponseText()),Ee>0){let et=R.getResponseJson();Array.isArray(et)&&(et=et[0]);const Ft=null==et?void 0:et.error;if(Ft&&Ft.status&&Ft.message){const tn=function(dn){const Gn=dn.toLowerCase().replace(/_/g,"-");return Object.values(Gt).indexOf(Gn)>=0?Gn:Gt.UNKNOWN}(Ft.status);w(new rn(tn,Ft.message))}else w(new rn(Gt.UNKNOWN,"Server responded with status "+R.getStatus()))}else w(new rn(Gt.UNAVAILABLE,"Connection failed."));break;default:mn()}}finally{Qt("Connection",'RPC "'+e+'" completed.')}});const W=JSON.stringify(f);R.send(n,"POST",W,a,15)})}wo(e,n,a){const f=[this.oo,"/","google.firestore.v1.Firestore","/",e,"/channel"],v=Xr(),w=Ui(),R={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(R.xmlHttpFactory=new qe({})),this.lo(R.initMessageHeaders,n,a),R.encodeInitMessageHeaders=!0;const W=f.join("");Qt("Connection","Creating WebChannel: "+W,R);const Q=v.createWebChannel(W,R);let Ee=!1,et=!1;const Ft=new _h({Hr:dn=>{et?Qt("Connection","Not sending because WebChannel is closed:",dn):(Ee||(Qt("Connection","Opening WebChannel transport."),Q.open(),Ee=!0),Qt("Connection","WebChannel sending:",dn),Q.send(dn))},Jr:()=>Q.close()}),tn=(dn,Gn,hr)=>{dn.listen(Gn,hs=>{try{hr(hs)}catch(Rs){setTimeout(()=>{throw Rs},0)}})};return tn(Q,$t.EventType.OPEN,()=>{et||Qt("Connection","WebChannel transport opened.")}),tn(Q,$t.EventType.CLOSE,()=>{et||(et=!0,Qt("Connection","WebChannel transport closed"),Ft.io())}),tn(Q,$t.EventType.ERROR,dn=>{et||(et=!0,Fs("Connection","WebChannel transport errored:",dn),Ft.io(new rn(Gt.UNAVAILABLE,"The operation could not be completed")))}),tn(Q,$t.EventType.MESSAGE,dn=>{var Gn;if(!et){const hr=dn.data[0];jn(!!hr);const hs=hr,Rs=hs.error||(null===(Gn=hs[0])||void 0===Gn?void 0:Gn.error);if(Rs){Qt("Connection","WebChannel received error:",Rs);const qi=Rs.status;let Ni=function(Vi){const fa=so[Vi];if(void 0!==fa)return Mc(fa)}(qi),Di=Rs.message;void 0===Ni&&(Ni=Gt.INTERNAL,Di="Unknown error status: "+qi+" with message "+Rs.message),et=!0,Ft.io(new rn(Ni,Di)),Q.close()}else Qt("Connection","WebChannel received:",hr),Ft.ro(hr)}}),tn(w,B.STAT_EVENT,dn=>{dn.stat===ie.PROXY?Qt("Connection","Detected buffering proxy"):dn.stat===ie.NOPROXY&&Qt("Connection","Detected no buffering proxy")}),setTimeout(()=>{Ft.so()},0),Ft}}function Gm(){return typeof window<"u"?window:null}function Eh(){return typeof document<"u"?document:null}function wh(o){return new Qh(o,!0)}class Tg{constructor(e,n,a=1e3,f=1.5,v=6e4){this.Hs=e,this.timerId=n,this.mo=a,this.yo=f,this.po=v,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}reset(){this.Io=0}Ao(){this.Io=this.po}Ro(e){this.cancel();const n=Math.floor(this.Io+this.bo()),a=Math.max(0,Date.now()-this.Eo),f=Math.max(0,n-a);f>0&&Qt("ExponentialBackoff",`Backing off for ${f} ms (base delay: ${this.Io} ms, delay with jitter: ${n} ms, last attempt: ${a} ms ago)`),this.To=this.Hs.enqueueAfterDelay(this.timerId,f,()=>(this.Eo=Date.now(),e())),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}Po(){null!==this.To&&(this.To.skipDelay(),this.To=null)}cancel(){null!==this.To&&(this.To.cancel(),this.To=null)}bo(){return(Math.random()-.5)*this.Io}}class cf{constructor(e,n,a,f,v,w,R,W){this.Hs=e,this.vo=a,this.Vo=f,this.connection=v,this.authCredentialsProvider=w,this.appCheckCredentialsProvider=R,this.listener=W,this.state=0,this.So=0,this.Do=null,this.Co=null,this.stream=null,this.xo=new Tg(e,n)}No(){return 1===this.state||5===this.state||this.ko()}ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Oo()}stop(){var e=this;return(0,fe.Z)(function*(){e.No()&&(yield e.close(0))})()}Mo(){this.state=0,this.xo.reset()}Fo(){this.ko()&&null===this.Do&&(this.Do=this.Hs.enqueueAfterDelay(this.vo,6e4,()=>this.$o()))}Bo(e){this.Lo(),this.stream.send(e)}$o(){var e=this;return(0,fe.Z)(function*(){if(e.ko())return e.close(0)})()}Lo(){this.Do&&(this.Do.cancel(),this.Do=null)}qo(){this.Co&&(this.Co.cancel(),this.Co=null)}close(e,n){var a=this;return(0,fe.Z)(function*(){a.Lo(),a.qo(),a.xo.cancel(),a.So++,4!==e?a.xo.reset():n&&n.code===Gt.RESOURCE_EXHAUSTED?(jr(n.toString()),jr("Using maximum backoff delay to prevent overloading the backend."),a.xo.Ao()):n&&n.code===Gt.UNAUTHENTICATED&&3!==a.state&&(a.authCredentialsProvider.invalidateToken(),a.appCheckCredentialsProvider.invalidateToken()),null!==a.stream&&(a.Uo(),a.stream.close(),a.stream=null),a.state=e,yield a.listener.Zr(n)})()}Uo(){}auth(){this.state=1;const e=this.Ko(this.So),n=this.So;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([a,f])=>{this.So===n&&this.Go(a,f)},a=>{e(()=>{const f=new rn(Gt.UNKNOWN,"Fetching auth token failed: "+a.message);return this.Qo(f)})})}Go(e,n){const a=this.Ko(this.So);this.stream=this.jo(e,n),this.stream.Yr(()=>{a(()=>(this.state=2,this.Co=this.Hs.enqueueAfterDelay(this.Vo,1e4,()=>(this.ko()&&(this.state=3),Promise.resolve())),this.listener.Yr()))}),this.stream.Zr(f=>{a(()=>this.Qo(f))}),this.stream.onMessage(f=>{a(()=>this.onMessage(f))})}Oo(){var e=this;this.state=5,this.xo.Ro((0,fe.Z)(function*(){e.state=0,e.start()}))}Qo(e){return Qt("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Ko(e){return n=>{this.Hs.enqueueAndForget(()=>this.So===e?n():(Qt("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Bd extends cf{constructor(e,n,a,f,v,w){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,a,f,w),this.yt=v}jo(e,n){return this.connection.wo("Listen",e,n)}onMessage(e){this.xo.reset();const n=function Z(o,e){let n;if("targetChange"in e){const a="NO_CHANGE"===(W=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===W?1:"REMOVE"===W?2:"CURRENT"===W?3:"RESET"===W?4:mn(),f=e.targetChange.targetIds||[],v=function(W,Q){return W.wt?(jn(void 0===Q||"string"==typeof Q),ne.fromBase64String(Q||"")):(jn(void 0===Q||Q instanceof Uint8Array),ne.fromUint8Array(Q||new Uint8Array))}(o,e.targetChange.resumeToken),w=e.targetChange.cause,R=w&&function(W){const Q=void 0===W.code?Gt.UNKNOWN:Mc(W.code);return new rn(Q,W.message||"")}(w);n=new gu(a,f,v,R||null)}else if("documentChange"in e){const a=e.documentChange,f=Zo(o,a.document.name),v=bs(a.document.updateTime),w=a.document.createTime?bs(a.document.createTime):Yn.min(),R=new Fo({mapValue:{fields:a.document.fields}}),W=Cs.newFoundDocument(f,v,w,R);n=new Gu(a.targetIds||[],a.removedTargetIds||[],W.key,W)}else if("documentDelete"in e){const a=e.documentDelete,f=Zo(o,a.document),v=a.readTime?bs(a.readTime):Yn.min(),w=Cs.newNoDocument(f,v);n=new Gu([],a.removedTargetIds||[],w.key,w)}else if("documentRemove"in e){const a=e.documentRemove,f=Zo(o,a.document);n=new Gu([],a.removedTargetIds||[],f,null)}else{if(!("filter"in e))return mn();{const a=e.filter,v=new Al(a.count||0);n=new Dd(a.targetId,v)}}var W;return n}(this.yt,e),a=function(f){if(!("targetChange"in f))return Yn.min();const v=f.targetChange;return v.targetIds&&v.targetIds.length?Yn.min():v.readTime?bs(v.readTime):Yn.min()}(e);return this.listener.Wo(n,a)}zo(e){const n={};n.database=Oc(this.yt),n.addTarget=function(f,v){let w;const R=v.target;return w=yd(R)?{documents:Pn(f,R)}:{query:Qn(f,R)},w.targetId=v.targetId,v.resumeToken.approximateByteSize()>0?w.resumeToken=Ha(f,v.resumeToken):v.snapshotVersion.compareTo(Yn.min())>0&&(w.readTime=ml(f,v.snapshotVersion.toTimestamp())),w}(this.yt,e);const a=function Dr(o,e){const n=function(a,f){switch(f){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return mn()}}(0,e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,e);a&&(n.labels=a),this.Bo(n)}Ho(e){const n={};n.database=Oc(this.yt),n.removeTarget=e,this.Bo(n)}}class Ag extends cf{constructor(e,n,a,f,v,w){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,a,f,w),this.yt=v,this.Jo=!1}get Yo(){return this.Jo}start(){this.Jo=!1,this.lastStreamToken=void 0,super.start()}Uo(){this.Jo&&this.Xo([])}jo(e,n){return this.connection.wo("Write",e,n)}onMessage(e){if(jn(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Jo){this.xo.reset();const n=function Yt(o,e){return o&&o.length>0?(jn(void 0!==e),o.map(n=>function(a,f){let v=bs(a.updateTime?a.updateTime:f);return v.isEqual(Yn.min())&&(v=bs(f)),new Wl(v,a.transformResults||[])}(n,e))):[]}(e.writeResults,e.commitTime),a=bs(e.commitTime);return this.listener.Zo(a,n)}return jn(!e.writeResults||0===e.writeResults.length),this.Jo=!0,this.listener.tu()}eu(){const e={};e.database=Oc(this.yt),this.Bo(e)}Xo(e){const n={streamToken:this.lastStreamToken,writes:e.map(a=>pe(this.yt,a))};this.Bo(n)}}class df extends class{}{constructor(e,n,a,f){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=a,this.yt=f,this.nu=!1}su(){if(this.nu)throw new rn(Gt.FAILED_PRECONDITION,"The client has already been terminated.")}ao(e,n,a){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,v])=>this.connection.ao(e,n,a,f,v)).catch(f=>{throw"FirebaseError"===f.name?(f.code===Gt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new rn(Gt.UNKNOWN,f.toString())})}_o(e,n,a,f){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([v,w])=>this.connection._o(e,n,a,v,w,f)).catch(v=>{throw"FirebaseError"===v.name?(v.code===Gt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),v):new rn(Gt.UNKNOWN,v.toString())})}terminate(){this.nu=!0}}class zm{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.iu=0,this.ru=null,this.ou=!0}uu(){0===this.iu&&(this.cu("Unknown"),this.ru=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ru=null,this.au("Backend didn't respond within 10 seconds."),this.cu("Offline"),Promise.resolve())))}hu(e){"Online"===this.state?this.cu("Unknown"):(this.iu++,this.iu>=1&&(this.lu(),this.au(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.cu("Offline")))}set(e){this.lu(),this.iu=0,"Online"===e&&(this.ou=!1),this.cu(e)}cu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}au(e){const n=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ou?(jr(n),this.ou=!1):Qt("OnlineStateTracker",n)}lu(){null!==this.ru&&(this.ru.cancel(),this.ru=null)}}class Mg{constructor(e,n,a,f,v){var w=this;this.localStore=e,this.datastore=n,this.asyncQueue=a,this.remoteSyncer={},this.fu=[],this.du=new Map,this._u=new Set,this.wu=[],this.mu=v,this.mu.Ur(R=>{a.enqueueAndForget((0,fe.Z)(function*(){var W;sc(w)&&(Qt("RemoteStore","Restarting streams for network reachability change."),yield(W=(0,fe.Z)(function*(Q){const Ee=bn(Q);Ee._u.add(4),yield Vd(Ee),Ee.gu.set("Unknown"),Ee._u.delete(4),yield $d(Ee)}),function(Q){return W.apply(this,arguments)})(w))}))}),this.gu=new zm(a,f)}}function $d(o){return Eu.apply(this,arguments)}function Eu(){return Eu=(0,fe.Z)(function*(o){if(sc(o))for(const e of o.wu)yield e(!0)}),Eu.apply(this,arguments)}function Vd(o){return Ch.apply(this,arguments)}function Ch(){return Ch=(0,fe.Z)(function*(o){for(const e of o.wu)yield e(!1)}),Ch.apply(this,arguments)}function pp(o,e){const n=bn(o);n.du.has(e.targetId)||(n.du.set(e.targetId,e),vp(n)?mp(n):Sh(n).ko()&&gp(n,e))}function hf(o,e){const n=bn(o),a=Sh(n);n.du.delete(e),a.ko()&&qm(n,e),0===n.du.size&&(a.ko()?a.Fo():sc(n)&&n.gu.set("Unknown"))}function gp(o,e){o.yu.Ot(e.targetId),Sh(o).zo(e)}function qm(o,e){o.yu.Ot(e),Sh(o).Ho(e)}function mp(o){o.yu=new sh({getRemoteKeysForTarget:e=>o.remoteSyncer.getRemoteKeysForTarget(e),ne:e=>o.du.get(e)||null}),Sh(o).start(),o.gu.uu()}function vp(o){return sc(o)&&!Sh(o).No()&&o.du.size>0}function sc(o){return 0===bn(o)._u.size}function Wm(o){o.yu=void 0}function wu(o){return yp.apply(this,arguments)}function yp(){return yp=(0,fe.Z)(function*(o){o.du.forEach((e,n)=>{gp(o,e)})}),yp.apply(this,arguments)}function uy(o,e){return Km.apply(this,arguments)}function Km(){return Km=(0,fe.Z)(function*(o,e){Wm(o),vp(o)?(o.gu.hu(e),mp(o)):o.gu.set("Unknown")}),Km.apply(this,arguments)}function Rg(o,e,n){return _p.apply(this,arguments)}function _p(){return _p=(0,fe.Z)(function*(o,e,n){if(o.gu.set("Online"),e instanceof gu&&2===e.state&&e.cause)try{yield(a=(0,fe.Z)(function*(f,v){const w=v.cause;for(const R of v.targetIds)f.du.has(R)&&(yield f.remoteSyncer.rejectListen(R,w),f.du.delete(R),f.yu.removeTarget(R))}),function(f,v){return a.apply(this,arguments)})(o,e)}catch(a){Qt("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),a),yield bh(o,a)}else if(e instanceof Gu?o.yu.Kt(e):e instanceof Dd?o.yu.Jt(e):o.yu.jt(e),!n.isEqual(Yn.min()))try{const a=yield Bs(o.localStore);n.compareTo(a)>=0&&(yield function(f,v){const w=f.yu.Zt(v);return w.targetChanges.forEach((R,W)=>{if(R.resumeToken.approximateByteSize()>0){const Q=f.du.get(W);Q&&f.du.set(W,Q.withResumeToken(R.resumeToken,v))}}),w.targetMismatches.forEach(R=>{const W=f.du.get(R);if(!W)return;f.du.set(R,W.withResumeToken(ne.EMPTY_BYTE_STRING,W.snapshotVersion)),qm(f,R);const Q=new kl(W.target,R,1,W.sequenceNumber);gp(f,Q)}),f.remoteSyncer.applyRemoteEvent(w)}(o,n))}catch(a){Qt("RemoteStore","Failed to raise snapshot:",a),yield bh(o,a)}var a}),_p.apply(this,arguments)}function bh(o,e,n){return Pg.apply(this,arguments)}function Pg(){return Pg=(0,fe.Z)(function*(o,e,n){if(!pi(e))throw e;o._u.add(1),yield Vd(o),o.gu.set("Offline"),n||(n=()=>Bs(o.localStore)),o.asyncQueue.enqueueRetryable((0,fe.Z)(function*(){Qt("RemoteStore","Retrying IndexedDB access"),yield n(),o._u.delete(1),yield $d(o)}))}),Pg.apply(this,arguments)}function Ym(o,e){return e().catch(n=>bh(o,n,e))}function Zc(o){return ff.apply(this,arguments)}function ff(){return ff=(0,fe.Z)(function*(o){const e=bn(o),n=oc(e);let a=e.fu.length>0?e.fu[e.fu.length-1].batchId:-1;for(;ly(e);)try{const f=yield e_(e.localStore,a);if(null===f){0===e.fu.length&&n.Fo();break}a=f.batchId,Bl(e,f)}catch(f){yield bh(e,f)}Ng(e)&&Zm(e)}),ff.apply(this,arguments)}function ly(o){return sc(o)&&o.fu.length<10}function Bl(o,e){o.fu.push(e);const n=oc(o);n.ko()&&n.Yo&&n.Xo(e.mutations)}function Ng(o){return sc(o)&&!oc(o).No()&&o.fu.length>0}function Zm(o){oc(o).start()}function Og(o){return Ep.apply(this,arguments)}function Ep(){return Ep=(0,fe.Z)(function*(o){oc(o).eu()}),Ep.apply(this,arguments)}function cy(o){return Xu.apply(this,arguments)}function Xu(){return Xu=(0,fe.Z)(function*(o){const e=oc(o);for(const n of o.fu)e.Xo(n.mutations)}),Xu.apply(this,arguments)}function kg(o,e,n){return Fg.apply(this,arguments)}function Fg(){return Fg=(0,fe.Z)(function*(o,e,n){const a=o.fu.shift(),f=Td.from(a,e,n);yield Ym(o,()=>o.remoteSyncer.applySuccessfulWrite(f)),yield Zc(o)}),Fg.apply(this,arguments)}function Lg(o,e){return pf.apply(this,arguments)}function pf(){return pf=(0,fe.Z)(function*(o,e){var n;e&&oc(o).Yo&&(yield(n=(0,fe.Z)(function*(a,f){if(ag(v=f.code)&&v!==Gt.ABORTED){const w=a.fu.shift();oc(a).Mo(),yield Ym(a,()=>a.remoteSyncer.rejectFailedWrite(w.batchId,f)),yield Zc(a)}var v}),function(a,f){return n.apply(this,arguments)})(o,e)),Ng(o)&&Zm(o)}),pf.apply(this,arguments)}function Bg(o,e){return Xc.apply(this,arguments)}function Xc(){return Xc=(0,fe.Z)(function*(o,e){const n=bn(o);n.asyncQueue.verifyOperationInProgress(),Qt("RemoteStore","RemoteStore received new credentials");const a=sc(n);n._u.add(3),yield Vd(n),a&&n.gu.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n._u.delete(3),yield $d(n)}),Xc.apply(this,arguments)}function Dh(o,e){return gf.apply(this,arguments)}function gf(){return gf=(0,fe.Z)(function*(o,e){const n=bn(o);e?(n._u.delete(2),yield $d(n)):e||(n._u.add(2),yield Vd(n),n.gu.set("Unknown"))}),gf.apply(this,arguments)}function Sh(o){return o.pu||(o.pu=function(e,n,a){const f=bn(e);return f.su(),new Bd(n,f.connection,f.authCredentials,f.appCheckCredentials,f.yt,a)}(o.datastore,o.asyncQueue,{Yr:wu.bind(null,o),Zr:uy.bind(null,o),Wo:Rg.bind(null,o)}),o.wu.push(function(){var e=(0,fe.Z)(function*(n){n?(o.pu.Mo(),vp(o)?mp(o):o.gu.set("Unknown")):(yield o.pu.stop(),Wm(o))});return function(n){return e.apply(this,arguments)}}())),o.pu}function oc(o){return o.Iu||(o.Iu=function(e,n,a){const f=bn(e);return f.su(),new Ag(n,f.connection,f.authCredentials,f.appCheckCredentials,f.yt,a)}(o.datastore,o.asyncQueue,{Yr:Og.bind(null,o),Zr:Lg.bind(null,o),tu:cy.bind(null,o),Zo:kg.bind(null,o)}),o.wu.push(function(){var e=(0,fe.Z)(function*(n){n?(o.Iu.Mo(),yield Zc(o)):(yield o.Iu.stop(),o.fu.length>0&&(Qt("RemoteStore",`Stopping write stream with ${o.fu.length} pending writes`),o.fu=[]))});return function(n){return e.apply(this,arguments)}}())),o.Iu}class Th{constructor(e,n,a,f,v){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=a,this.op=f,this.removalCallback=v,this.deferred=new ls,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(w=>{})}static createAndSchedule(e,n,a,f,v){const w=Date.now()+a,R=new Th(e,n,w,f,v);return R.start(a),R}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new rn(Gt.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Qc(o,e){if(jr("AsyncQueue",`${e}: ${o}`),pi(o))return new rn(Gt.UNAVAILABLE,`${e}: ${o}`);throw o}class ac{constructor(e){this.comparator=e?(n,a)=>e(n,a)||Mn.comparator(n.key,a.key):(n,a)=>Mn.comparator(n.key,a.key),this.keyedMap=ju(),this.sortedSet=new ds(this.comparator)}static emptySet(e){return new ac(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,a)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof ac)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),a=e.sortedSet.getIterator();for(;n.hasNext();){const f=n.getNext().key,v=a.getNext().key;if(!f.isEqual(v))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,n){const a=new ac;return a.comparator=this.comparator,a.keyedMap=e,a.sortedSet=n,a}}class Xm{constructor(){this.Tu=new ds(Mn.comparator)}track(e){const n=e.doc.key,a=this.Tu.get(n);a?0!==e.type&&3===a.type?this.Tu=this.Tu.insert(n,e):3===e.type&&1!==a.type?this.Tu=this.Tu.insert(n,{type:a.type,doc:e.doc}):2===e.type&&2===a.type?this.Tu=this.Tu.insert(n,{type:2,doc:e.doc}):2===e.type&&0===a.type?this.Tu=this.Tu.insert(n,{type:0,doc:e.doc}):1===e.type&&0===a.type?this.Tu=this.Tu.remove(n):1===e.type&&2===a.type?this.Tu=this.Tu.insert(n,{type:1,doc:a.doc}):0===e.type&&1===a.type?this.Tu=this.Tu.insert(n,{type:2,doc:e.doc}):mn():this.Tu=this.Tu.insert(n,e)}Eu(){const e=[];return this.Tu.inorderTraversal((n,a)=>{e.push(a)}),e}}class El{constructor(e,n,a,f,v,w,R,W,Q){this.query=e,this.docs=n,this.oldDocs=a,this.docChanges=f,this.mutatedKeys=v,this.fromCache=w,this.syncStateChanged=R,this.excludesMetadataChanges=W,this.hasCachedResults=Q}static fromInitialDocuments(e,n,a,f,v){const w=[];return n.forEach(R=>{w.push({type:0,doc:R})}),new El(e,n,ac.emptySet(n),w,a,f,!0,!1,v)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Lu(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,a=e.docChanges;if(n.length!==a.length)return!1;for(let f=0;f<n.length;f++)if(n[f].type!==a[f].type||!n[f].doc.isEqual(a[f].doc))return!1;return!0}}class dy{constructor(){this.Au=void 0,this.listeners=[]}}class Qm{constructor(){this.queries=new xl(e=>Yo(e),Lu),this.onlineState="Unknown",this.Ru=new Set}}function wp(o,e){return Ip.apply(this,arguments)}function Ip(){return Ip=(0,fe.Z)(function*(o,e){const n=bn(o),a=e.query;let f=!1,v=n.queries.get(a);if(v||(f=!0,v=new dy),f)try{v.Au=yield n.onListen(a)}catch(w){const R=Qc(w,`Initialization of query '${Tc(e.query)}' failed`);return void e.onError(R)}n.queries.set(a,v),v.listeners.push(e),e.bu(n.onlineState),v.Au&&e.Pu(v.Au)&&Ah(n)}),Ip.apply(this,arguments)}function Cp(o,e){return Ud.apply(this,arguments)}function Ud(){return Ud=(0,fe.Z)(function*(o,e){const n=bn(o),a=e.query;let f=!1;const v=n.queries.get(a);if(v){const w=v.listeners.indexOf(e);w>=0&&(v.listeners.splice(w,1),f=0===v.listeners.length)}if(f)return n.queries.delete(a),n.onUnlisten(a)}),Ud.apply(this,arguments)}function Qu(o,e){const n=bn(o);let a=!1;for(const f of e){const w=n.queries.get(f.query);if(w){for(const R of w.listeners)R.Pu(f)&&(a=!0);w.Au=f}}a&&Ah(n)}function mf(o,e,n){const a=bn(o),f=a.queries.get(e);if(f)for(const v of f.listeners)v.onError(n);a.queries.delete(e)}function Ah(o){o.Ru.forEach(e=>{e.next()})}class Hd{constructor(e,n,a){this.query=e,this.vu=n,this.Vu=!1,this.Su=null,this.onlineState="Unknown",this.options=a||{}}Pu(e){if(!this.options.includeMetadataChanges){const a=[];for(const f of e.docChanges)3!==f.type&&a.push(f);e=new El(e.query,e.docs,e.oldDocs,a,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Vu?this.Du(e)&&(this.vu.next(e),n=!0):this.Cu(e,this.onlineState)&&(this.xu(e),n=!0),this.Su=e,n}onError(e){this.vu.error(e)}bu(e){this.onlineState=e;let n=!1;return this.Su&&!this.Vu&&this.Cu(this.Su,e)&&(this.xu(this.Su),n=!0),n}Cu(e,n){return!e.fromCache||(!this.options.Nu||!("Offline"!==n))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===n)}Du(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Su&&this.Su.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}xu(e){e=El.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Vu=!0,this.vu.next(e)}}class hy{constructor(e,n){this.ku=e,this.byteLength=n}Ou(){return"metadata"in this.ku}}class bp{constructor(e){this.yt=e}Ji(e){return Zo(this.yt,e)}Yi(e){return e.metadata.exists?_(this.yt,e.document,!1):Cs.newNoDocument(this.Ji(e.metadata.name),this.Xi(e.metadata.readTime))}Xi(e){return bs(e)}}class Jm{constructor(e,n,a){this.Mu=e,this.localStore=n,this.yt=a,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=ev(e)}Fu(e){this.progress.bytesLoaded+=e.byteLength;let n=this.progress.documentsLoaded;if(e.ku.namedQuery)this.queries.push(e.ku.namedQuery);else if(e.ku.documentMetadata){this.documents.push({metadata:e.ku.documentMetadata}),e.ku.documentMetadata.exists||++n;const a=_i.fromString(e.ku.documentMetadata.name);this.collectionGroups.add(a.get(a.length-2))}else e.ku.document&&(this.documents[this.documents.length-1].document=e.ku.document,++n);return n!==this.progress.documentsLoaded?(this.progress.documentsLoaded=n,Object.assign({},this.progress)):null}$u(e){const n=new Map,a=new bp(this.yt);for(const f of e)if(f.metadata.queries){const v=a.Ji(f.metadata.name);for(const w of f.metadata.queries){const R=(n.get(w)||qr()).add(v);n.set(w,R)}}return n}complete(){var e=this;return(0,fe.Z)(function*(){const n=yield function _l(o,e,n,a){return cp.apply(this,arguments)}(e.localStore,new bp(e.yt),e.documents,e.Mu.id),a=e.$u(e.documents);for(const f of e.queries)yield Vm(e.localStore,f,a.get(f.name));return e.progress.taskState="Success",{progress:e.progress,Bu:e.collectionGroups,Lu:n}})()}}function ev(o){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:o.totalDocuments,totalBytes:o.totalBytes}}class $g{constructor(e){this.key=e}}class jd{constructor(e){this.key=e}}class tv{constructor(e,n){this.query=e,this.qu=n,this.Uu=null,this.hasCachedResults=!1,this.current=!1,this.Ku=qr(),this.mutatedKeys=qr(),this.Gu=Jd(e),this.Qu=new ac(this.Gu)}get ju(){return this.qu}Wu(e,n){const a=n?n.zu:new Xm,f=n?n.Qu:this.Qu;let v=n?n.mutatedKeys:this.mutatedKeys,w=f,R=!1;const W="F"===this.query.limitType&&f.size===this.query.limit?f.last():null,Q="L"===this.query.limitType&&f.size===this.query.limit?f.first():null;if(e.inorderTraversal((Ee,et)=>{const Ft=f.get(Ee),tn=Bu(this.query,et)?et:null,dn=!!Ft&&this.mutatedKeys.has(Ft.key),Gn=!!tn&&(tn.hasLocalMutations||this.mutatedKeys.has(tn.key)&&tn.hasCommittedMutations);let hr=!1;Ft&&tn?Ft.data.isEqual(tn.data)?dn!==Gn&&(a.track({type:3,doc:tn}),hr=!0):this.Hu(Ft,tn)||(a.track({type:2,doc:tn}),hr=!0,(W&&this.Gu(tn,W)>0||Q&&this.Gu(tn,Q)<0)&&(R=!0)):!Ft&&tn?(a.track({type:0,doc:tn}),hr=!0):Ft&&!tn&&(a.track({type:1,doc:Ft}),hr=!0,(W||Q)&&(R=!0)),hr&&(tn?(w=w.add(tn),v=Gn?v.add(Ee):v.delete(Ee)):(w=w.delete(Ee),v=v.delete(Ee)))}),null!==this.query.limit)for(;w.size>this.query.limit;){const Ee="F"===this.query.limitType?w.last():w.first();w=w.delete(Ee.key),v=v.delete(Ee.key),a.track({type:1,doc:Ee})}return{Qu:w,zu:a,$i:R,mutatedKeys:v}}Hu(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,a){const f=this.Qu;this.Qu=e.Qu,this.mutatedKeys=e.mutatedKeys;const v=e.zu.Eu();v.sort((Q,Ee)=>function(et,Ft){const tn=dn=>{switch(dn){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return mn()}};return tn(et)-tn(Ft)}(Q.type,Ee.type)||this.Gu(Q.doc,Ee.doc)),this.Ju(a);const w=n?this.Yu():[],R=0===this.Ku.size&&this.current?1:0,W=R!==this.Uu;return this.Uu=R,0!==v.length||W?{snapshot:new El(this.query,e.Qu,f,v,e.mutatedKeys,0===R,W,!1,!!a&&a.resumeToken.approximateByteSize()>0),Xu:w}:{Xu:w}}bu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new Xm,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Xu:[]}}Zu(e){return!this.qu.has(e)&&!!this.Qu.has(e)&&!this.Qu.get(e).hasLocalMutations}Ju(e){e&&(e.addedDocuments.forEach(n=>this.qu=this.qu.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.qu=this.qu.delete(n)),this.current=e.current)}Yu(){if(!this.current)return[];const e=this.Ku;this.Ku=qr(),this.Qu.forEach(a=>{this.Zu(a.key)&&(this.Ku=this.Ku.add(a.key))});const n=[];return e.forEach(a=>{this.Ku.has(a)||n.push(new jd(a))}),this.Ku.forEach(a=>{e.has(a)||n.push(new $g(a))}),n}tc(e){this.qu=e.Hi,this.Ku=qr();const n=this.Wu(e.documents);return this.applyChanges(n,!0)}ec(){return El.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,0===this.Uu,this.hasCachedResults)}}class t_{constructor(e,n,a){this.query=e,this.targetId=n,this.view=a}}class nv{constructor(e){this.key=e,this.nc=!1}}class fy{constructor(e,n,a,f,v,w){this.localStore=e,this.remoteStore=n,this.eventManager=a,this.sharedClientState=f,this.currentUser=v,this.maxConcurrentLimboResolutions=w,this.sc={},this.ic=new xl(R=>Yo(R),Lu),this.rc=new Map,this.oc=new Set,this.uc=new ds(Mn.comparator),this.cc=new Map,this.ac=new op,this.hc={},this.lc=new Map,this.fc=qc.vn(),this.onlineState="Unknown",this.dc=void 0}get isPrimaryClient(){return!0===this.dc}}function rv(o,e){return Vg.apply(this,arguments)}function Vg(){return Vg=(0,fe.Z)(function*(o,e){const n=Rp(o);let a,f;const v=n.ic.get(e);if(v)a=v.targetId,n.sharedClientState.addLocalQueryTarget(a),f=v.view.ec();else{const w=yield Fd(n.localStore,To(e));n.isPrimaryClient&&pp(n.remoteStore,w);const R=n.sharedClientState.addLocalQueryTarget(w.targetId);a=w.targetId,f=yield Ug(n,e,a,"current"===R,w.resumeToken)}return f}),Vg.apply(this,arguments)}function Ug(o,e,n,a,f){return Hg.apply(this,arguments)}function Hg(){return Hg=(0,fe.Z)(function*(o,e,n,a,f){o._c=(et,Ft,tn)=>{return(dn=(0,fe.Z)(function*(Gn,hr,hs,Rs){let qi=hr.view.Wu(hs);qi.$i&&(qi=yield af(Gn.localStore,hr.query,!1).then(({documents:Vi})=>hr.view.Wu(Vi,qi)));const Ni=Rs&&Rs.targetChanges.get(hr.targetId),Di=hr.view.applyChanges(qi,Gn.isPrimaryClient,Ni);return av(Gn,hr.targetId,Di.Xu),Di.snapshot}),function(Gn,hr,hs,Rs){return dn.apply(this,arguments)})(o,et,Ft,tn);var dn};const v=yield af(o.localStore,e,!0),w=new tv(e,v.Hi),R=w.Wu(v.documents),W=Pc.createSynthesizedTargetChangeForCurrentChange(n,a&&"Offline"!==o.onlineState,f),Q=w.applyChanges(R,o.isPrimaryClient,W);av(o,n,Q.Xu);const Ee=new t_(e,n,w);return o.ic.set(e,Ee),o.rc.has(n)?o.rc.get(n).push(e):o.rc.set(n,[e]),Q.snapshot}),Hg.apply(this,arguments)}function py(o,e){return Gd.apply(this,arguments)}function Gd(){return Gd=(0,fe.Z)(function*(o,e){const n=bn(o),a=n.ic.get(e),f=n.rc.get(a.targetId);if(f.length>1)return n.rc.set(a.targetId,f.filter(v=>!Lu(v,e))),void n.ic.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(a.targetId),n.sharedClientState.isActiveQueryTarget(a.targetId)||(yield Kc(n.localStore,a.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(a.targetId),hf(n.remoteStore,a.targetId),Ju(n,a.targetId)}).catch(bo))):(Ju(n,a.targetId),yield Kc(n.localStore,a.targetId,!0))}),Gd.apply(this,arguments)}function Dp(){return Dp=(0,fe.Z)(function*(o,e,n){const a=Pp(o);try{const f=yield function(v,w){const R=bn(v),W=Qi.now(),Q=w.reduce((Ft,tn)=>Ft.add(tn.key),qr());let Ee,et;return R.persistence.runTransaction("Locally write mutations","readwrite",Ft=>{let tn=da(),dn=qr();return R.Gi.getEntries(Ft,Q).next(Gn=>{tn=Gn,tn.forEach((hr,hs)=>{hs.isValidDocument()||(dn=dn.add(hr))})}).next(()=>R.localDocuments.getOverlayedDocuments(Ft,tn)).next(Gn=>{Ee=Gn;const hr=[];for(const hs of w){const Rs=Cd(hs,Ee.get(hs.key).overlayedDocument);null!=Rs&&hr.push(new pu(hs.key,Rs,hl(Rs.value.mapValue),Ts.exists(!0)))}return R.mutationQueue.addMutationBatch(Ft,W,hr,w)}).next(Gn=>{et=Gn;const hr=Gn.applyToLocalDocumentSet(Ee,dn);return R.documentOverlayCache.saveOverlays(Ft,Gn.batchId,hr)})}).then(()=>({batchId:et.batchId,changes:ih(Ee)}))}(a.localStore,e);a.sharedClientState.addPendingMutation(f.batchId),function(v,w,R){let W=v.hc[v.currentUser.toKey()];W||(W=new ds(Jn)),W=W.insert(w,R),v.hc[v.currentUser.toKey()]=W}(a,f.batchId,n),yield $l(a,f.changes),yield Zc(a.remoteStore)}catch(f){const v=Qc(f,"Failed to persist write");n.reject(v)}}),Dp.apply(this,arguments)}function yf(o,e){return jg.apply(this,arguments)}function jg(){return jg=(0,fe.Z)(function*(o,e){const n=bn(o);try{const a=yield Jy(n.localStore,e);e.targetChanges.forEach((f,v)=>{const w=n.cc.get(v);w&&(jn(f.addedDocuments.size+f.modifiedDocuments.size+f.removedDocuments.size<=1),f.addedDocuments.size>0?w.nc=!0:f.modifiedDocuments.size>0?jn(w.nc):f.removedDocuments.size>0&&(jn(w.nc),w.nc=!1))}),yield $l(n,a,e)}catch(a){yield bo(a)}}),jg.apply(this,arguments)}function iv(o,e,n){const a=bn(o);if(a.isPrimaryClient&&0===n||!a.isPrimaryClient&&1===n){const f=[];a.ic.forEach((v,w)=>{const R=w.view.bu(e);R.snapshot&&f.push(R.snapshot)}),function(v,w){const R=bn(v);R.onlineState=w;let W=!1;R.queries.forEach((Q,Ee)=>{for(const et of Ee.listeners)et.bu(w)&&(W=!0)}),W&&Ah(R)}(a.eventManager,e),f.length&&a.sc.Wo(f),a.onlineState=e,a.isPrimaryClient&&a.sharedClientState.setOnlineState(e)}}function sv(o,e,n){return Gg.apply(this,arguments)}function Gg(){return Gg=(0,fe.Z)(function*(o,e,n){const a=bn(o);a.sharedClientState.updateQueryState(e,"rejected",n);const f=a.cc.get(e),v=f&&f.key;if(v){let w=new ds(Mn.comparator);w=w.insert(v,Cs.newNoDocument(v,Yn.min()));const R=qr().add(v),W=new Rl(Yn.min(),new Map,new Ii(Jn),w,R);yield yf(a,W),a.uc=a.uc.remove(v),a.cc.delete(e),Ap(a)}else yield Kc(a.localStore,e,!1).then(()=>Ju(a,e,n)).catch(bo)}),Gg.apply(this,arguments)}function gy(o,e){return zg.apply(this,arguments)}function zg(){return zg=(0,fe.Z)(function*(o,e){const n=bn(o),a=e.batch.batchId;try{const f=yield lp(n.localStore,e);Tp(n,a,null),Wg(n,a),n.sharedClientState.updateMutationState(a,"acknowledged"),yield $l(n,f)}catch(f){yield bo(f)}}),zg.apply(this,arguments)}function my(o,e,n){return Sp.apply(this,arguments)}function Sp(){return Sp=(0,fe.Z)(function*(o,e,n){const a=bn(o);try{const f=yield function(v,w){const R=bn(v);return R.persistence.runTransaction("Reject batch","readwrite-primary",W=>{let Q;return R.mutationQueue.lookupMutationBatch(W,w).next(Ee=>(jn(null!==Ee),Q=Ee.keys(),R.mutationQueue.removeMutationBatch(W,Ee))).next(()=>R.mutationQueue.performConsistencyCheck(W)).next(()=>R.documentOverlayCache.removeOverlaysForBatchId(W,Q,w)).next(()=>R.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(W,Q)).next(()=>R.localDocuments.getDocuments(W,Q))})}(a.localStore,e);Tp(a,e,n),Wg(a,e),a.sharedClientState.updateMutationState(e,"rejected",n),yield $l(a,f)}catch(f){yield bo(f)}}),Sp.apply(this,arguments)}function qg(){return qg=(0,fe.Z)(function*(o,e){const n=bn(o);sc(n.remoteStore)||Qt("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const a=yield function(v){const w=bn(v);return w.persistence.runTransaction("Get highest unacknowledged batch id","readonly",R=>w.mutationQueue.getHighestUnacknowledgedBatchId(R))}(n.localStore);if(-1===a)return void e.resolve();const f=n.lc.get(a)||[];f.push(e),n.lc.set(a,f)}catch(a){const f=Qc(a,"Initialization of waitForPendingWrites() operation failed");e.reject(f)}}),qg.apply(this,arguments)}function Wg(o,e){(o.lc.get(e)||[]).forEach(n=>{n.resolve()}),o.lc.delete(e)}function Tp(o,e,n){const a=bn(o);let f=a.hc[a.currentUser.toKey()];if(f){const v=f.get(e);v&&(n?v.reject(n):v.resolve(),f=f.remove(e)),a.hc[a.currentUser.toKey()]=f}}function Ju(o,e,n=null){o.sharedClientState.removeLocalQueryTarget(e);for(const a of o.rc.get(e))o.ic.delete(a),n&&o.sc.wc(a,n);o.rc.delete(e),o.isPrimaryClient&&o.ac.ls(e).forEach(a=>{o.ac.containsKey(a)||Jc(o,a)})}function Jc(o,e){o.oc.delete(e.path.canonicalString());const n=o.uc.get(e);null!==n&&(hf(o.remoteStore,n),o.uc=o.uc.remove(e),o.cc.delete(n),Ap(o))}function av(o,e,n){for(const a of n)a instanceof $g?(o.ac.addReference(a.key,e),xh(o,a)):a instanceof jd?(Qt("SyncEngine","Document no longer in limbo: "+a.key),o.ac.removeReference(a.key,e),o.ac.containsKey(a.key)||Jc(o,a.key)):mn()}function xh(o,e){const n=e.key,a=n.path.canonicalString();o.uc.get(n)||o.oc.has(a)||(Qt("SyncEngine","New document in limbo: "+n),o.oc.add(a),Ap(o))}function Ap(o){for(;o.oc.size>0&&o.uc.size<o.maxConcurrentLimboResolutions;){const e=o.oc.values().next().value;o.oc.delete(e);const n=new Mn(_i.fromString(e)),a=o.fc.next();o.cc.set(a,new nv(n)),o.uc=o.uc.insert(n,a),pp(o.remoteStore,new kl(To(Dc(n.path)),a,2,So.at))}}function $l(o,e,n){return Mh.apply(this,arguments)}function Mh(){return Mh=(0,fe.Z)(function*(o,e,n){const a=bn(o),f=[],v=[],w=[];var R;a.ic.isEmpty()||(a.ic.forEach((R,W)=>{w.push(a._c(W,e,n).then(Q=>{if((Q||n)&&a.isPrimaryClient&&a.sharedClientState.updateQueryState(W.targetId,null!=Q&&Q.fromCache?"not-current":"current"),Q){f.push(Q);const Ee=Fm.Ci(W.targetId,Q);v.push(Ee)}}))}),yield Promise.all(w),a.sc.Wo(f),yield(R=(0,fe.Z)(function*(W,Q){const Ee=bn(W);try{yield Ee.persistence.runTransaction("notifyLocalViewChanges","readwrite",et=>Ut.forEach(Q,Ft=>Ut.forEach(Ft.Si,tn=>Ee.persistence.referenceDelegate.addReference(et,Ft.targetId,tn)).next(()=>Ut.forEach(Ft.Di,tn=>Ee.persistence.referenceDelegate.removeReference(et,Ft.targetId,tn)))))}catch(et){if(!pi(et))throw et;Qt("LocalStore","Failed to update sequence numbers: "+et)}for(const et of Q){const Ft=et.targetId;if(!et.fromCache){const tn=Ee.qi.get(Ft),Gn=tn.withLastLimboFreeSnapshotVersion(tn.snapshotVersion);Ee.qi=Ee.qi.insert(Ft,Gn)}}}),function(W,Q){return R.apply(this,arguments)})(a.localStore,v))}),Mh.apply(this,arguments)}function uv(o,e){return el.apply(this,arguments)}function el(){return el=(0,fe.Z)(function*(o,e){const n=bn(o);if(!n.currentUser.isEqual(e)){Qt("SyncEngine","User change. New user:",e.toKey());const a=yield Bm(n.localStore,e);n.currentUser=e,(f=n).lc.forEach(w=>{w.forEach(R=>{R.reject(new rn(Gt.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),f.lc.clear(),n.sharedClientState.handleUserChange(e,a.removedBatchIds,a.addedBatchIds),yield $l(n,a.ji)}var f}),el.apply(this,arguments)}function Rh(o,e){const n=bn(o),a=n.cc.get(e);if(a&&a.nc)return qr().add(a.key);{let f=qr();const v=n.rc.get(e);if(!v)return f;for(const w of v){const R=n.ic.get(w);f=f.unionWith(R.view.ju)}return f}}function ka(o,e){return uc.apply(this,arguments)}function uc(){return uc=(0,fe.Z)(function*(o,e){const n=bn(o),a=yield af(n.localStore,e.query,!0),f=e.view.tc(a);return n.isPrimaryClient&&av(n,e.targetId,f.Xu),f}),uc.apply(this,arguments)}function xp(o,e){return Fa.apply(this,arguments)}function Fa(){return Fa=(0,fe.Z)(function*(o,e){const n=bn(o);return $m(n.localStore,e).then(a=>$l(n,a))}),Fa.apply(this,arguments)}function Kg(o,e,n,a){return ed.apply(this,arguments)}function ed(){return ed=(0,fe.Z)(function*(o,e,n,a){const f=bn(o),v=yield function(w,R){const W=bn(w),Q=bn(W.mutationQueue);return W.persistence.runTransaction("Lookup mutation documents","readonly",Ee=>Q.Tn(Ee,R).next(et=>et?W.localDocuments.getDocuments(Ee,et):Ut.resolve(null)))}(f.localStore,e);var R;null!==v?("pending"===n?yield Zc(f.remoteStore):"acknowledged"===n||"rejected"===n?(Tp(f,e,a||null),Wg(f,e),R=e,bn(bn(f.localStore).mutationQueue).An(R)):mn(),yield $l(f,v)):Qt("SyncEngine","Cannot apply mutation batch with id: "+e)}),ed.apply(this,arguments)}function Iu(){return Iu=(0,fe.Z)(function*(o,e){const n=bn(o);if(Rp(n),Pp(n),!0===e&&!0!==n.dc){const a=n.sharedClientState.getAllActiveQueryTargets(),f=yield td(n,a.toArray());n.dc=!0,yield Dh(n.remoteStore,!0);for(const v of f)pp(n.remoteStore,v)}else if(!1===e&&!1!==n.dc){const a=[];let f=Promise.resolve();n.rc.forEach((v,w)=>{n.sharedClientState.isLocalQueryTarget(w)?a.push(w):f=f.then(()=>(Ju(n,w),Kc(n.localStore,w,!0))),hf(n.remoteStore,w)}),yield f,yield td(n,a),function(v){const w=bn(v);w.cc.forEach((R,W)=>{hf(w.remoteStore,W)}),w.ac.fs(),w.cc=new Map,w.uc=new ds(Mn.comparator)}(n),n.dc=!1,yield Dh(n.remoteStore,!1)}}),Iu.apply(this,arguments)}function td(o,e,n){return lc.apply(this,arguments)}function lc(){return lc=(0,fe.Z)(function*(o,e,n){const a=bn(o),f=[],v=[];for(const w of e){let R;const W=a.rc.get(w);if(W&&0!==W.length){R=yield Fd(a.localStore,To(W[0]));for(const Q of W){const Ee=a.ic.get(Q),et=yield ka(a,Ee);et.snapshot&&v.push(et.snapshot)}}else{const Q=yield Yc(a.localStore,w);R=yield Fd(a.localStore,Q),yield Ug(a,qd(Q),w,!1,R.resumeToken)}f.push(R)}return a.sc.Wo(v),f}),lc.apply(this,arguments)}function qd(o){return _d(o.path,o.collectionGroup,o.orderBy,o.filters,o.limit,"F",o.startAt,o.endAt)}function Wd(o){const e=bn(o);return bn(bn(e.localStore).persistence).vi()}function Kd(o,e,n,a){return cc.apply(this,arguments)}function cc(){return cc=(0,fe.Z)(function*(o,e,n,a){const f=bn(o);if(f.dc)return void Qt("SyncEngine","Ignoring unexpected query state notification.");const v=f.rc.get(e);if(v&&v.length>0)switch(n){case"current":case"not-current":{const w=yield $m(f.localStore,io(v[0])),R=Rl.createSynthesizedRemoteEventForCurrentChange(e,"current"===n,ne.EMPTY_BYTE_STRING);yield $l(f,w,R);break}case"rejected":yield Kc(f.localStore,e,!0),Ju(f,e,a);break;default:mn()}}),cc.apply(this,arguments)}function lv(o,e,n){return Mp.apply(this,arguments)}function Mp(){return Mp=(0,fe.Z)(function*(o,e,n){const a=Rp(o);if(a.dc){for(const f of e){if(a.rc.has(f)){Qt("SyncEngine","Adding an already active target "+f);continue}const v=yield Yc(a.localStore,f),w=yield Fd(a.localStore,v);yield Ug(a,qd(v),w.targetId,!1,w.resumeToken),pp(a.remoteStore,w)}for(const f of n)a.rc.has(f)&&(yield Kc(a.localStore,f,!1).then(()=>{hf(a.remoteStore,f),Ju(a,f)}).catch(bo))}}),Mp.apply(this,arguments)}function Rp(o){const e=bn(o);return e.remoteStore.remoteSyncer.applyRemoteEvent=yf.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Rh.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=sv.bind(null,e),e.sc.Wo=Qu.bind(null,e.eventManager),e.sc.wc=mf.bind(null,e.eventManager),e}function Pp(o){const e=bn(o);return e.remoteStore.remoteSyncer.applySuccessfulWrite=gy.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=my.bind(null,e),e}class Ph{constructor(){this.synchronizeTabs=!1}initialize(e){var n=this;return(0,fe.Z)(function*(){n.yt=wh(e.databaseInfo.databaseId),n.sharedClientState=n.gc(e),n.persistence=n.yc(e),yield n.persistence.start(),n.localStore=n.Ic(e),n.gcScheduler=n.Tc(e,n.localStore),n.indexBackfillerScheduler=n.Ec(e,n.localStore)})()}Tc(e,n){return null}Ec(e,n){return null}Ic(e){return Wc(this.persistence,new Ig,e.initialUser,this.yt)}yc(e){return new yg(kd.Bs,this.yt)}gc(e){return new Dg}terminate(){var e=this;return(0,fe.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class Yg extends Ph{constructor(e,n,a){super(),this.Ac=e,this.cacheSizeBytes=n,this.forceOwnership=a,this.synchronizeTabs=!1}initialize(e){var n=()=>super.initialize,a=this;return(0,fe.Z)(function*(){yield n().call(a,e),yield a.Ac.initialize(a,e),yield Pp(a.Ac.syncEngine),yield Zc(a.Ac.remoteStore),yield a.persistence.li(()=>(a.gcScheduler&&!a.gcScheduler.started&&a.gcScheduler.start(),a.indexBackfillerScheduler&&!a.indexBackfillerScheduler.started&&a.indexBackfillerScheduler.start(),Promise.resolve()))})()}Ic(e){return Wc(this.persistence,new Ig,e.initialUser,this.yt)}Tc(e,n){return new Mm(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,n)}Ec(e,n){const a=new Sl(n,this.persistence);return new Ya(e.asyncQueue,a)}yc(e){const n=wg(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),a=void 0!==this.cacheSizeBytes?Bo.withCacheSize(this.cacheSizeBytes):Bo.DEFAULT;return new Eg(this.synchronizeTabs,n,e.clientId,a,e.asyncQueue,Gm(),Eh(),this.yt,this.sharedClientState,!!this.forceOwnership)}gc(e){return new Dg}}class dv extends Yg{constructor(e,n){super(e,n,!1),this.Ac=e,this.cacheSizeBytes=n,this.synchronizeTabs=!0}initialize(e){var n=()=>super.initialize,a=this;return(0,fe.Z)(function*(){yield n().call(a,e);const f=a.Ac.syncEngine;a.sharedClientState instanceof uf&&(a.sharedClientState.syncEngine={Fr:Kg.bind(null,f),$r:Kd.bind(null,f),Br:lv.bind(null,f),vi:Wd.bind(null,f),Mr:xp.bind(null,f)},yield a.sharedClientState.start()),yield a.persistence.li(function(){var v=(0,fe.Z)(function*(w){yield function zd(o,e){return Iu.apply(this,arguments)}(a.Ac.syncEngine,w),a.gcScheduler&&(w&&!a.gcScheduler.started?a.gcScheduler.start():w||a.gcScheduler.stop()),a.indexBackfillerScheduler&&(w&&!a.indexBackfillerScheduler.started?a.indexBackfillerScheduler.start():w||a.indexBackfillerScheduler.stop())});return function(w){return v.apply(this,arguments)}}())})()}gc(e){const n=Gm();if(!uf.C(n))throw new rn(Gt.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const a=wg(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new uf(n,e.asyncQueue,a,e.clientId,e.initialUser)}}class Np{initialize(e,n){var a=this;return(0,fe.Z)(function*(){a.localStore||(a.localStore=e.localStore,a.sharedClientState=e.sharedClientState,a.datastore=a.createDatastore(n),a.remoteStore=a.createRemoteStore(n),a.eventManager=a.createEventManager(n),a.syncEngine=a.createSyncEngine(n,!e.synchronizeTabs),a.sharedClientState.onlineStateHandler=f=>iv(a.syncEngine,f,1),a.remoteStore.remoteSyncer.handleCredentialChange=uv.bind(null,a.syncEngine),yield Dh(a.remoteStore,a.syncEngine.isPrimaryClient))})()}createEventManager(e){return new Qm}createDatastore(e){const n=wh(e.databaseInfo.databaseId),a=new jm(e.databaseInfo);return new df(e.authCredentials,e.appCheckCredentials,a,n)}createRemoteStore(e){return n=this.localStore,a=this.datastore,f=e.asyncQueue,v=R=>iv(this.syncEngine,R,0),w=Sg.C()?new Sg:new lf,new Mg(n,a,f,v,w);var n,a,f,v,w}createSyncEngine(e,n){return function(a,f,v,w,R,W,Q){const Ee=new fy(a,f,v,w,R,W);return Q&&(Ee.dc=!0),Ee}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return(e=(0,fe.Z)(function*(n){const a=bn(n);Qt("RemoteStore","RemoteStore shutting down."),a._u.add(5),yield Vd(a),a.mu.shutdown(),a.gu.set("Unknown")}),function(n){return e.apply(this,arguments)})(this.remoteStore);var e}}function hv(o,e,n){if(!n)throw new rn(Gt.INVALID_ARGUMENT,`Function ${o}() cannot be called with an empty ${e}.`)}function vy(o,e,n,a){if(!0===e&&!0===a)throw new rn(Gt.INVALID_ARGUMENT,`${o} and ${n} cannot be used together.`)}function Zg(o){if(!Mn.isDocumentKey(o))throw new rn(Gt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${o} has ${o.length}.`)}function Xg(o){if(Mn.isDocumentKey(o))throw new rn(Gt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${o} has ${o.length}.`)}function dc(o){if(void 0===o)return"undefined";if(null===o)return"null";if("string"==typeof o)return o.length>20&&(o=`${o.substring(0,20)}...`),JSON.stringify(o);if("number"==typeof o||"boolean"==typeof o)return""+o;if("object"==typeof o){if(o instanceof Array)return"an array";{const e=(n=o).constructor?n.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var n;return"function"==typeof o?"a function":mn()}function $i(o,e){if("_delegate"in o&&(o=o._delegate),!(o instanceof e)){if(e.name===o.constructor.name)throw new rn(Gt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=dc(o);throw new rn(Gt.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return o}function Op(o,e){if(e<=0)throw new rn(Gt.INVALID_ARGUMENT,`Function ${o}() requires a positive number, but it was: ${e}.`)}const fv=new Map;class Nh{constructor(e){var n;if(void 0===e.host){if(void 0!==e.ssl)throw new rn(Gt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(n=e.ssl)||void 0===n||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new rn(Gt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,vy("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class nd{constructor(e,n,a,f){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=a,this._app=f,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Nh({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new rn(Gt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new rn(Gt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Nh(e),void 0!==e.credentials&&(this._authCredentials=function(n){if(!n)return new Cl;switch(n.type){case"gapi":return new ol(n.client,n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new rn(Gt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=fv.get(e);n&&(Qt("ComponentProvider","Removing Datastore"),fv.delete(e),n.terminate())}(this),Promise.resolve()}}class Gs{constructor(e,n,a){this.converter=n,this._key=a,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new eu(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Gs(this.firestore,e,this._key)}}class As{constructor(e,n,a){this.converter=n,this._query=a,this.type="query",this.firestore=e}withConverter(e){return new As(this.firestore,e,this._query)}}class eu extends As{constructor(e,n,a){super(e,n,Dc(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Gs(this.firestore,null,new Mn(e))}withConverter(e){return new eu(this.firestore,e,this._path)}}function Fp(o,e,...n){if(o=(0,Qe.m9)(o),hv("collection","path",e),o instanceof nd){const a=_i.fromString(e,...n);return Xg(a),new eu(o,null,a)}{if(!(o instanceof Gs||o instanceof eu))throw new rn(Gt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=o._path.child(_i.fromString(e,...n));return Xg(a),new eu(o.firestore,null,a)}}function Oh(o,e,...n){if(o=(0,Qe.m9)(o),1===arguments.length&&(e=wa.R()),hv("doc","path",e),o instanceof nd){const a=_i.fromString(e,...n);return Zg(a),new Gs(o,null,new Mn(a))}{if(!(o instanceof Gs||o instanceof eu))throw new rn(Gt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=o._path.child(_i.fromString(e,...n));return Zg(a),new Gs(o.firestore,o instanceof eu?o.converter:null,new Mn(a))}}function Lp(o,e){return o=(0,Qe.m9)(o),e=(0,Qe.m9)(e),(o instanceof Gs||o instanceof eu)&&(e instanceof Gs||e instanceof eu)&&o.firestore===e.firestore&&o.path===e.path&&o.converter===e.converter}function Bp(o,e){return o=(0,Qe.m9)(o),e=(0,Qe.m9)(e),o instanceof As&&e instanceof As&&o.firestore===e.firestore&&Lu(o._query,e._query)&&o.converter===e.converter}function $p(o,e=10240){let n=0;return{read:()=>(0,fe.Z)(function*(){if(n<o.byteLength){const a={value:o.slice(n,n+e),done:!1};return n+=e,a}return{done:!0}})(),cancel:()=>(0,fe.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class _f{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Rc(this.observer.next,e)}error(e){this.observer.error?this.Rc(this.observer.error,e):jr("Uncaught Error in snapshot listener:",e.toString())}bc(){this.muted=!0}Rc(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}class kh{constructor(e,n){this.Pc=e,this.yt=n,this.metadata=new ls,this.buffer=new Uint8Array,this.vc=new TextDecoder("utf-8"),this.Vc().then(a=>{a&&a.Ou()?this.metadata.resolve(a.ku.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==a?void 0:a.ku)}`))},a=>this.metadata.reject(a))}close(){return this.Pc.cancel()}getMetadata(){var e=this;return(0,fe.Z)(function*(){return e.metadata.promise})()}mc(){var e=this;return(0,fe.Z)(function*(){return yield e.getMetadata(),e.Vc()})()}Vc(){var e=this;return(0,fe.Z)(function*(){const n=yield e.Sc();if(null===n)return null;const a=e.vc.decode(n),f=Number(a);isNaN(f)&&e.Dc(`length string (${a}) is not valid number`);const v=yield e.Cc(f);return new hy(JSON.parse(v),n.length+f)})()}xc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}Sc(){var e=this;return(0,fe.Z)(function*(){for(;e.xc()<0&&!(yield e.Nc()););if(0===e.buffer.length)return null;const n=e.xc();n<0&&e.Dc("Reached the end of bundle when a length string is expected.");const a=e.buffer.slice(0,n);return e.buffer=e.buffer.slice(n),a})()}Cc(e){var n=this;return(0,fe.Z)(function*(){for(;n.buffer.length<e;)(yield n.Nc())&&n.Dc("Reached the end of bundle when more is expected.");const a=n.vc.decode(n.buffer.slice(0,e));return n.buffer=n.buffer.slice(e),a})()}Dc(e){throw this.Pc.cancel(),new Error(`Invalid bundle format: ${e}`)}Nc(){var e=this;return(0,fe.Z)(function*(){const n=yield e.Pc.read();if(!n.done){const a=new Uint8Array(e.buffer.length+n.value.length);a.set(e.buffer),a.set(n.value,e.buffer.length),e.buffer=a}return n.done})()}}class rd{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var n=this;return(0,fe.Z)(function*(){if(n.ensureCommitNotCalled(),n.mutations.length>0)throw new rn(Gt.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const a=yield(f=(0,fe.Z)(function*(v,w){const R=bn(v),W=Oc(R.yt)+"/documents",Q={documents:w.map(tn=>Ol(R.yt,tn))},Ee=yield R._o("BatchGetDocuments",W,Q,w.length),et=new Map;Ee.forEach(tn=>{const dn=function A(o,e){return"found"in e?function(n,a){jn(!!a.found);const f=Zo(n,a.found.name),v=bs(a.found.updateTime),w=a.found.createTime?bs(a.found.createTime):Yn.min(),R=new Fo({mapValue:{fields:a.found.fields}});return Cs.newFoundDocument(f,v,w,R)}(o,e):"missing"in e?function(n,a){jn(!!a.missing),jn(!!a.readTime);const f=Zo(n,a.missing),v=bs(a.readTime);return Cs.newNoDocument(f,v)}(o,e):mn()}(R.yt,tn);et.set(dn.key.toString(),dn)});const Ft=[];return w.forEach(tn=>{const dn=et.get(tn.toString());jn(!!dn),Ft.push(dn)}),Ft}),function(v,w){return f.apply(this,arguments)})(n.datastore,e);var f;return a.forEach(f=>n.recordVersion(f)),a})()}set(e,n){this.write(n.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,n){try{this.write(n.toMutation(e,this.preconditionForUpdate(e)))}catch(a){this.lastWriteError=a}this.writtenDocs.add(e.toString())}delete(e){this.write(new Zl(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,fe.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const n=e.readVersions;var a;e.mutations.forEach(a=>{n.delete(a.key.toString())}),n.forEach((a,f)=>{const v=Mn.fromPath(f);e.mutations.push(new Hu(v,e.precondition(v)))}),yield(a=(0,fe.Z)(function*(f,v){const w=bn(f),R=Oc(w.yt)+"/documents",W={writes:v.map(Q=>pe(w.yt,Q))};yield w.ao("Commit",R,W)}),function(f,v){return a.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let n;if(e.isFoundDocument())n=e.version;else{if(!e.isNoDocument())throw mn();n=Yn.min()}const a=this.readVersions.get(e.key.toString());if(a){if(!n.isEqual(a))throw new rn(Gt.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),n)}precondition(e){const n=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&n?n.isEqual(Yn.min())?Ts.exists(!1):Ts.updateTime(n):Ts.none()}preconditionForUpdate(e){const n=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&n){if(n.isEqual(Yn.min()))throw new rn(Gt.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Ts.updateTime(n)}return Ts.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class _y{constructor(e,n,a,f,v){this.asyncQueue=e,this.datastore=n,this.options=a,this.updateFunction=f,this.deferred=v,this.kc=a.maxAttempts,this.xo=new Tg(this.asyncQueue,"transaction_retry")}run(){this.kc-=1,this.Oc()}Oc(){var e=this;this.xo.Ro((0,fe.Z)(function*(){const n=new rd(e.datastore),a=e.Mc(n);a&&a.then(f=>{e.asyncQueue.enqueueAndForget(()=>n.commit().then(()=>{e.deferred.resolve(f)}).catch(v=>{e.Fc(v)}))}).catch(f=>{e.Fc(f)})}))}Mc(e){try{const n=this.updateFunction(e);return!M(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}}Fc(e){this.kc>0&&this.$c(e)?(this.kc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Oc(),Promise.resolve()))):this.deferred.reject(e)}$c(e){if("FirebaseError"===e.name){const n=e.code;return"aborted"===n||"failed-precondition"===n||"already-exists"===n||!ag(n)}return!1}}class vv{constructor(e,n,a,f){var v=this;this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=a,this.databaseInfo=f,this.user=pr.UNAUTHENTICATED,this.clientId=wa.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(a,function(){var w=(0,fe.Z)(function*(R){Qt("FirestoreClient","Received user=",R.uid),yield v.authCredentialListener(R),v.user=R});return function(R){return w.apply(this,arguments)}}()),this.appCheckCredentials.start(a,w=>(Qt("FirestoreClient","Received new app check token=",w),this.appCheckCredentialListener(w,this.user)))}getConfiguration(){var e=this;return(0,fe.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new rn(Gt.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const n=new ls;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,fe.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),n.resolve()}catch(a){const f=Qc(a,"Failed to shutdown persistence");n.reject(f)}})),n.promise}}function Vp(o,e){return Ef.apply(this,arguments)}function Ef(){return Ef=(0,fe.Z)(function*(o,e){o.asyncQueue.verifyOperationInProgress(),Qt("FirestoreClient","Initializing OfflineComponentProvider");const n=yield o.getConfiguration();yield e.initialize(n);let a=n.initialUser;o.setCredentialChangeListener(function(){var f=(0,fe.Z)(function*(v){a.isEqual(v)||(yield Bm(e.localStore,v),a=v)});return function(v){return f.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>o.terminate()),o.offlineComponents=e}),Ef.apply(this,arguments)}function wf(o,e){return Up.apply(this,arguments)}function Up(){return Up=(0,fe.Z)(function*(o,e){o.asyncQueue.verifyOperationInProgress();const n=yield Fh(o);Qt("FirestoreClient","Initializing OnlineComponentProvider");const a=yield o.getConfiguration();yield e.initialize(n,a),o.setCredentialChangeListener(f=>Bg(e.remoteStore,f)),o.setAppCheckTokenChangeListener((f,v)=>Bg(e.remoteStore,v)),o.onlineComponents=e}),Up.apply(this,arguments)}function Fh(o){return Hp.apply(this,arguments)}function Hp(){return Hp=(0,fe.Z)(function*(o){return o.offlineComponents||(Qt("FirestoreClient","Using default OfflineComponentProvider"),yield Vp(o,new Ph)),o.offlineComponents}),Hp.apply(this,arguments)}function Lh(o){return jp.apply(this,arguments)}function jp(){return jp=(0,fe.Z)(function*(o){return o.onlineComponents||(Qt("FirestoreClient","Using default OnlineComponentProvider"),yield wf(o,new Np)),o.onlineComponents}),jp.apply(this,arguments)}function Qg(o){return Fh(o).then(e=>e.persistence)}function If(o){return Fh(o).then(e=>e.localStore)}function Gp(o){return Lh(o).then(e=>e.remoteStore)}function Bh(o){return Lh(o).then(e=>e.syncEngine)}function $h(o){return Jg.apply(this,arguments)}function Jg(){return Jg=(0,fe.Z)(function*(o){const e=yield Lh(o),n=e.eventManager;return n.onListen=rv.bind(null,e.syncEngine),n.onUnlisten=py.bind(null,e.syncEngine),n}),Jg.apply(this,arguments)}function tm(o,e,n={}){const a=new ls;return o.asyncQueue.enqueueAndForget((0,fe.Z)(function*(){return function(f,v,w,R,W){const Q=new _f({next:et=>{v.enqueueAndForget(()=>Cp(f,Ee));const Ft=et.docs.has(w);!Ft&&et.fromCache?W.reject(new rn(Gt.UNAVAILABLE,"Failed to get document because the client is offline.")):Ft&&et.fromCache&&R&&"server"===R.source?W.reject(new rn(Gt.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):W.resolve(et)},error:et=>W.reject(et)}),Ee=new Hd(Dc(w.path),Q,{includeMetadataChanges:!0,Nu:!0});return wp(f,Ee)}(yield $h(o),o.asyncQueue,e,n,a)})),a.promise}function Ey(o,e,n={}){const a=new ls;return o.asyncQueue.enqueueAndForget((0,fe.Z)(function*(){return function(f,v,w,R,W){const Q=new _f({next:et=>{v.enqueueAndForget(()=>Cp(f,Ee)),et.fromCache&&"server"===R.source?W.reject(new rn(Gt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):W.resolve(et)},error:et=>W.reject(et)}),Ee=new Hd(w,Q,{includeMetadataChanges:!0,Nu:!0});return wp(f,Ee)}(yield $h(o),o.asyncQueue,e,n,a)})),a.promise}class _v{constructor(){this.Bc=Promise.resolve(),this.Lc=[],this.qc=!1,this.Uc=[],this.Kc=null,this.Gc=!1,this.Qc=!1,this.jc=[],this.xo=new Tg(this,"async_queue_retry"),this.Wc=()=>{const n=Eh();n&&Qt("AsyncQueue","Visibility state changed to "+n.visibilityState),this.xo.Po()};const e=Eh();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Wc)}get isShuttingDown(){return this.qc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.zc(),this.Hc(e)}enterRestrictedMode(e){if(!this.qc){this.qc=!0,this.Qc=e||!1;const n=Eh();n&&"function"==typeof n.removeEventListener&&n.removeEventListener("visibilitychange",this.Wc)}}enqueue(e){if(this.zc(),this.qc)return new Promise(()=>{});const n=new ls;return this.Hc(()=>this.qc&&this.Qc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Lc.push(e),this.Jc()))}Jc(){var e=this;return(0,fe.Z)(function*(){if(0!==e.Lc.length){try{yield e.Lc[0](),e.Lc.shift(),e.xo.reset()}catch(n){if(!pi(n))throw n;Qt("AsyncQueue","Operation failed with retryable error: "+n)}e.Lc.length>0&&e.xo.Ro(()=>e.Jc())}})()}Hc(e){const n=this.Bc.then(()=>(this.Gc=!0,e().catch(a=>{throw this.Kc=a,this.Gc=!1,jr("INTERNAL UNHANDLED ERROR: ",function(v){let w=v.message||"";return v.stack&&(w=v.stack.includes(v.message)?v.stack:v.message+"\n"+v.stack),w}(a)),a}).then(a=>(this.Gc=!1,a))));return this.Bc=n,n}enqueueAfterDelay(e,n,a){this.zc(),this.jc.indexOf(e)>-1&&(n=0);const f=Th.createAndSchedule(this,e,n,a,v=>this.Yc(v));return this.Uc.push(f),f}zc(){this.Kc&&mn()}verifyOperationInProgress(){}Xc(){var e=this;return(0,fe.Z)(function*(){let n;do{n=e.Bc,yield n}while(n!==e.Bc)})()}Zc(e){for(const n of this.Uc)if(n.timerId===e)return!0;return!1}ta(e){return this.Xc().then(()=>{this.Uc.sort((n,a)=>n.targetTimeMs-a.targetTimeMs);for(const n of this.Uc)if(n.skipDelay(),"all"!==e&&n.timerId===e)break;return this.Xc()})}ea(e){this.jc.push(e)}Yc(e){const n=this.Uc.indexOf(e);this.Uc.splice(n,1)}}function nm(o){return function(e,n){if("object"!=typeof e||null===e)return!1;const a=e;for(const f of["next","error","complete"])if(f in a&&"function"==typeof a[f])return!0;return!1}(o)}class ea{constructor(){this._progressObserver={},this._taskCompletionResolver=new ls,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,n,a){this._progressObserver={next:e,error:n,complete:a}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,n){return this._taskCompletionResolver.promise.then(e,n)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class $s extends nd{constructor(e,n,a,f){super(e,n,a,f),this.type="firestore",this._queue=new _v,this._persistenceKey=(null==f?void 0:f.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||im(this),this._firestoreClient.terminate()}}function xo(o){return o._firestoreClient||im(o),o._firestoreClient.verifyNotTerminated(),o._firestoreClient}function im(o){var e;const n=o._freezeSettings(),a=(v=(null===(e=o._app)||void 0===e?void 0:e.options.appId)||"",new Pu(o._databaseId,v,o._persistenceKey,(R=n).host,R.ssl,R.experimentalForceLongPolling,R.experimentalAutoDetectLongPolling,R.useFetchStreams));var v,R;o._firestoreClient=new vv(o._authCredentials,o._appCheckCredentials,o._queue,a)}function wv(o,e,n){const a=new ls;return o.asyncQueue.enqueue((0,fe.Z)(function*(){try{yield Vp(o,n),yield wf(o,e),a.resolve()}catch(f){const v=f;if(!("FirebaseError"===(w=v).name?w.code===Gt.FAILED_PRECONDITION||w.code===Gt.UNIMPLEMENTED:!(typeof DOMException<"u"&&w instanceof DOMException)||22===w.code||20===w.code||11===w.code))throw v;Fs("Error enabling offline persistence. Falling back to persistence disabled: "+v),a.reject(v)}var w})).then(()=>a.promise)}function tu(o){if(o._initialized||o._terminated)throw new rn(Gt.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Cu{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Cu(ne.fromBase64String(e))}catch(n){throw new rn(Gt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Cu(ne.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Vl{constructor(...e){for(let n=0;n<e.length;++n)if(0===e[n].length)throw new rn(Gt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Hi(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class La{constructor(e){this._methodName=e}}class nu{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new rn(Gt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new rn(Gt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Jn(this._lat,e._lat)||Jn(this._long,e._long)}}const Dy=/^__.*__$/;class Vh{constructor(e,n,a){this.data=e,this.fieldMask=n,this.fieldTransforms=a}toMutation(e,n){return null!==this.fieldMask?new pu(e,this.data,this.fieldMask,n,this.fieldTransforms):new Yl(e,this.data,n,this.fieldTransforms)}}class qp{constructor(e,n,a){this.data=e,this.fieldMask=n,this.fieldTransforms=a}toMutation(e,n){return new pu(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function Dv(o){switch(o){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw mn()}}class Cf{constructor(e,n,a,f,v,w){this.settings=e,this.databaseId=n,this.yt=a,this.ignoreUndefinedProperties=f,void 0===v&&this.na(),this.fieldTransforms=v||[],this.fieldMask=w||[]}get path(){return this.settings.path}get sa(){return this.settings.sa}ia(e){return new Cf(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.yt,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ra(e){var n;const a=null===(n=this.path)||void 0===n?void 0:n.child(e),f=this.ia({path:a,oa:!1});return f.ua(e),f}ca(e){var n;const a=null===(n=this.path)||void 0===n?void 0:n.child(e),f=this.ia({path:a,oa:!1});return f.na(),f}aa(e){return this.ia({path:void 0,oa:!0})}ha(e){return Sf(e,this.settings.methodName,this.settings.la||!1,this.path,this.settings.fa)}contains(e){return void 0!==this.fieldMask.find(n=>e.isPrefixOf(n))||void 0!==this.fieldTransforms.find(n=>e.isPrefixOf(n.field))}na(){if(this.path)for(let e=0;e<this.path.length;e++)this.ua(this.path.get(e))}ua(e){if(0===e.length)throw this.ha("Document fields must not be empty");if(Dv(this.sa)&&Dy.test(e))throw this.ha('Document fields cannot begin and end with "__"')}}class Sy{constructor(e,n,a){this.databaseId=e,this.ignoreUndefinedProperties=n,this.yt=a||wh(e)}da(e,n,a,f=!1){return new Cf({sa:e,methodName:n,fa:a,path:Hi.emptyPath(),oa:!1,la:f},this.databaseId,this.yt,this.ignoreUndefinedProperties)}}function sd(o){const e=o._freezeSettings(),n=wh(o._databaseId);return new Sy(o._databaseId,!!e.ignoreUndefinedProperties,n)}function mc(o,e,n,a,f,v={}){const w=o.da(v.merge||v.mergeFields?2:0,e,n,f);Yp("Data must be an object, but it was:",w,a);const R=bf(a,w);let W,Q;if(v.merge)W=new la(w.fieldMask),Q=w.fieldTransforms;else if(v.mergeFields){const Ee=[];for(const et of v.mergeFields){const Ft=Zp(e,et,n);if(!w.contains(Ft))throw new rn(Gt.INVALID_ARGUMENT,`Field '${Ft}' is specified in your field mask but missing from your input data.`);Av(Ee,Ft)||Ee.push(Ft)}W=new la(Ee),Q=w.fieldTransforms.filter(et=>W.covers(et.field))}else W=null,Q=w.fieldTransforms;return new Vh(new Fo(R),W,Q)}class Uh extends La{_toFieldTransform(e){if(2!==e.sa)throw e.ha(1===e.sa?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Uh}}function sm(o,e,n){return new Cf({sa:3,fa:e.settings.fa,methodName:o._methodName,oa:n},e.databaseId,e.yt,e.ignoreUndefinedProperties)}class om extends La{_toFieldTransform(e){return new Sa(e.path,new Da)}isEqual(e){return e instanceof om}}class Ty extends La{constructor(e,n){super(e),this._a=n}_toFieldTransform(e){const n=sm(this,e,!0),a=this._a.map(v=>od(v,n)),f=new $u(a);return new Sa(e.path,f)}isEqual(e){return this===e}}class Sv extends La{constructor(e,n){super(e),this._a=n}_toFieldTransform(e){const n=sm(this,e,!0),a=this._a.map(v=>od(v,n)),f=new Pa(a);return new Sa(e.path,f)}isEqual(e){return this===e}}class Wp extends La{constructor(e,n){super(e),this.wa=n}_toFieldTransform(e){const n=new Vu(e.yt,Ac(e.yt,this.wa));return new Sa(e.path,n)}isEqual(e){return this===e}}function am(o,e,n,a){const f=o.da(1,e,n);Yp("Data must be an object, but it was:",f,a);const v=[],w=Fo.empty();Ai(a,(W,Q)=>{const Ee=Df(e,W,n);Q=(0,Qe.m9)(Q);const et=f.ca(Ee);if(Q instanceof Uh)v.push(Ee);else{const Ft=od(Q,et);null!=Ft&&(v.push(Ee),w.set(Ee,Ft))}});const R=new la(v);return new qp(w,R,f.fieldTransforms)}function Kp(o,e,n,a,f,v){const w=o.da(1,e,n),R=[Zp(e,a,n)],W=[f];if(v.length%2!=0)throw new rn(Gt.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let Ft=0;Ft<v.length;Ft+=2)R.push(Zp(e,v[Ft])),W.push(v[Ft+1]);const Q=[],Ee=Fo.empty();for(let Ft=R.length-1;Ft>=0;--Ft)if(!Av(Q,R[Ft])){const tn=R[Ft];let dn=W[Ft];dn=(0,Qe.m9)(dn);const Gn=w.ca(tn);if(dn instanceof Uh)Q.push(tn);else{const hr=od(dn,Gn);null!=hr&&(Q.push(tn),Ee.set(tn,hr))}}const et=new la(Q);return new qp(Ee,et,w.fieldTransforms)}function um(o,e,n,a=!1){return od(n,o.da(a?4:3,e))}function od(o,e){if(Tv(o=(0,Qe.m9)(o)))return Yp("Unsupported field value:",e,o),bf(o,e);if(o instanceof La)return function(n,a){if(!Dv(a.sa))throw a.ha(`${n._methodName}() can only be used with update() and set()`);if(!a.path)throw a.ha(`${n._methodName}() is not currently supported inside arrays`);const f=n._toFieldTransform(a);f&&a.fieldTransforms.push(f)}(o,e),null;if(void 0===o&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),o instanceof Array){if(e.settings.oa&&4!==e.sa)throw e.ha("Nested arrays are not supported");return function(n,a){const f=[];let v=0;for(const w of n){let R=od(w,a.aa(v));null==R&&(R={nullValue:"NULL_VALUE"}),f.push(R),v++}return{arrayValue:{values:f}}}(o,e)}return function(n,a){if(null===(n=(0,Qe.m9)(n)))return{nullValue:"NULL_VALUE"};if("number"==typeof n)return Ac(a.yt,n);if("boolean"==typeof n)return{booleanValue:n};if("string"==typeof n)return{stringValue:n};if(n instanceof Date){const f=Qi.fromDate(n);return{timestampValue:ml(a.yt,f)}}if(n instanceof Qi){const f=new Qi(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:ml(a.yt,f)}}if(n instanceof nu)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Cu)return{bytesValue:Ha(a.yt,n._byteString)};if(n instanceof Gs){const f=a.databaseId,v=n.firestore._databaseId;if(!v.isEqual(f))throw a.ha(`Document reference is for database ${v.projectId}/${v.database} but should be for database ${f.projectId}/${f.database}`);return{referenceValue:Nc(n.firestore._databaseId||a.databaseId,n._key.path)}}throw a.ha(`Unsupported field value: ${dc(n)}`)}(o,e)}function bf(o,e){const n={};return T(o)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ai(o,(a,f)=>{const v=od(f,e.ra(a));null!=v&&(n[a]=v)}),{mapValue:{fields:n}}}function Tv(o){return!("object"!=typeof o||null===o||o instanceof Array||o instanceof Date||o instanceof Qi||o instanceof nu||o instanceof Cu||o instanceof Gs||o instanceof La)}function Yp(o,e,n){if(!Tv(n)||"object"!=typeof(a=n)||null===a||Object.getPrototypeOf(a)!==Object.prototype&&null!==Object.getPrototypeOf(a)){const a=dc(n);throw e.ha("an object"===a?o+" a custom object":o+" "+a)}var a}function Zp(o,e,n){if((e=(0,Qe.m9)(e))instanceof Vl)return e._internalPath;if("string"==typeof e)return Df(o,e);throw Sf("Field path arguments must be of type string or ",o,!1,void 0,n)}const Ay=new RegExp("[~\\*/\\[\\]]");function Df(o,e,n){if(e.search(Ay)>=0)throw Sf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,o,!1,void 0,n);try{return new Vl(...e.split("."))._internalPath}catch(a){throw Sf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,o,!1,void 0,n)}}function Sf(o,e,n,a,f){const v=a&&!a.isEmpty(),w=void 0!==f;let R=`Function ${e}() called with invalid data`;n&&(R+=" (via `toFirestore()`)"),R+=". ";let W="";return(v||w)&&(W+=" (found",v&&(W+=` in field ${a}`),w&&(W+=` in document ${f}`),W+=")"),new rn(Gt.INVALID_ARGUMENT,R+o+W)}function Av(o,e){return o.some(n=>n.isEqual(e))}class Hh{constructor(e,n,a,f,v){this._firestore=e,this._userDataWriter=n,this._key=a,this._document=f,this._converter=v}get id(){return this._key.path.lastSegment()}get ref(){return new Gs(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new xy(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Xp("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n)}}}class xy extends Hh{data(){return super.data()}}function Xp(o,e){return"string"==typeof e?Df(o,e):e instanceof Vl?e._internalPath:e._delegate._internalPath}function xv(o){if("L"===o.limitType&&0===o.explicitOrderBy.length)throw new rn(Gt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Tf{}class Af extends Tf{}function vc(o,e,...n){let a=[];e instanceof Tf&&a.push(e),a=a.concat(n),function(f){const v=f.filter(R=>R instanceof jh).length,w=f.filter(R=>R instanceof xf).length;if(v>1||v>0&&w>0)throw new rn(Gt.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(a);for(const f of a)o=f._apply(o);return o}class xf extends Af{constructor(e,n,a){super(),this._field=e,this._op=n,this._value=a,this.type="where"}static _create(e,n,a){return new xf(e,n,a)}_apply(e){const n=this._parse(e);return fm(e._query,n),new As(e.firestore,e.converter,Ed(e._query,n))}_parse(e){const n=sd(e.firestore);return function(f,v,w,R,W,Q,Ee){let et;if(W.isKeyField()){if("array-contains"===Q||"array-contains-any"===Q)throw new rn(Gt.INVALID_ARGUMENT,`Invalid Query. You can't perform '${Q}' queries on documentId().`);if("in"===Q||"not-in"===Q){Mf(Ee,Q);const Ft=[];for(const tn of Ee)Ft.push(hm(R,f,tn));et={arrayValue:{values:Ft}}}else et=hm(R,f,Ee)}else"in"!==Q&&"not-in"!==Q&&"array-contains-any"!==Q||Mf(Ee,Q),et=um(w,"where",Ee,"in"===Q||"not-in"===Q);return Bn.create(W,Q,et)}(e._query,0,n,e.firestore._databaseId,this._field,this._op,this._value)}}class jh extends Tf{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new jh(e,n)}_parse(e){const n=this._queryConstraints.map(a=>a._parse(e)).filter(a=>a.getFilters().length>0);return 1===n.length?n[0]:ii.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return 0===n.getFilters().length?e:(function(a,f){let v=a;const w=f.getFlattenedFilters();for(const R of w)fm(v,R),v=Ed(v,R)}(e._query,n),new As(e.firestore,e.converter,Ed(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class lm extends Af{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new lm(e,n)}_apply(e){const n=function(a,f,v){if(null!==a.startAt)throw new rn(Gt.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==a.endAt)throw new rn(Gt.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const w=new Cc(f,v);return function(R,W){if(null===Zh(R)){const Q=Sc(R);null!==Q&&eg(0,Q,W.field)}}(a,w),w}(e._query,this._field,this._direction);return new As(e.firestore,e.converter,function(a,f){const v=a.explicitOrderBy.concat([f]);return new ku(a.path,a.collectionGroup,v,a.filters.slice(),a.limit,a.limitType,a.startAt,a.endAt)}(e._query,n))}}class Qp extends Af{constructor(e,n,a){super(),this.type=e,this._limit=n,this._limitType=a}static _create(e,n,a){return new Qp(e,n,a)}_apply(e){return new As(e.firestore,e.converter,vo(e._query,this._limit,this._limitType))}}class Jp extends Af{constructor(e,n,a){super(),this.type=e,this._docOrFields=n,this._inclusive=a}static _create(e,n,a){return new Jp(e,n,a)}_apply(e){const n=dm(e,this.type,this._docOrFields,this._inclusive);return new As(e.firestore,e.converter,(f=n,new ku((a=e._query).path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),a.limit,a.limitType,f,a.endAt)));var a,f}}class Gh extends Af{constructor(e,n,a){super(),this.type=e,this._docOrFields=n,this._inclusive=a}static _create(e,n,a){return new Gh(e,n,a)}_apply(e){const n=dm(e,this.type,this._docOrFields,this._inclusive);return new As(e.firestore,e.converter,(f=n,new ku((a=e._query).path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),a.limit,a.limitType,a.startAt,f)));var a,f}}function dm(o,e,n,a){if(n[0]=(0,Qe.m9)(n[0]),n[0]instanceof Hh)return function(f,v,w,R,W){if(!R)throw new rn(Gt.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${w}().`);const Q=[];for(const Ee of Fu(f))if(Ee.field.isKeyField())Q.push(Ca(v,R.key));else{const et=R.data.field(Ee.field);if(Rn(et))throw new rn(Gt.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+Ee.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===et){const Ft=Ee.field.canonicalString();throw new rn(Gt.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${Ft}' (used as the orderBy) does not exist.`)}Q.push(et)}return new Kn(Q,W)}(o._query,o.firestore._databaseId,e,n[0]._document,a);{const f=sd(o.firestore);return function(v,w,R,W,Q,Ee){const et=v.explicitOrderBy;if(Q.length>et.length)throw new rn(Gt.INVALID_ARGUMENT,`Too many arguments provided to ${W}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const Ft=[];for(let tn=0;tn<Q.length;tn++){const dn=Q[tn];if(et[tn].field.isKeyField()){if("string"!=typeof dn)throw new rn(Gt.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${W}(), but got a ${typeof dn}`);if(!Ko(v)&&-1!==dn.indexOf("/"))throw new rn(Gt.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${W}() must be a plain document ID, but '${dn}' contains a slash.`);const Gn=v.path.child(_i.fromString(dn));if(!Mn.isDocumentKey(Gn))throw new rn(Gt.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${W}() must result in a valid document path, but '${Gn}' is not because it contains an odd number of segments.`);const hr=new Mn(Gn);Ft.push(Ca(w,hr))}else{const Gn=um(R,W,dn);Ft.push(Gn)}}return new Kn(Ft,Ee)}(o._query,o.firestore._databaseId,f,e,n,a)}}function hm(o,e,n){if("string"==typeof(n=(0,Qe.m9)(n))){if(""===n)throw new rn(Gt.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Ko(e)&&-1!==n.indexOf("/"))throw new rn(Gt.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const a=e.path.child(_i.fromString(n));if(!Mn.isDocumentKey(a))throw new rn(Gt.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${a}' is not because it has an odd number of segments (${a.length}).`);return Ca(o,new Mn(a))}if(n instanceof Gs)return Ca(o,n._key);throw new rn(Gt.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${dc(n)}.`)}function Mf(o,e){if(!Array.isArray(o)||0===o.length)throw new rn(Gt.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(o.length>10)throw new rn(Gt.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function fm(o,e){if(e.isInequality()){const a=Sc(o),f=e.field;if(null!==a&&!a.isEqual(f))throw new rn(Gt.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${a.toString()}' and '${f.toString()}'`);const v=Zh(o);null!==v&&eg(0,f,v)}const n=function(a,f){for(const v of a)for(const w of v.getFlattenedFilters())if(f.indexOf(w.op)>=0)return w.op;return null}(o.filters,function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==n)throw new rn(Gt.INVALID_ARGUMENT,n===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function eg(o,e,n){if(!n.isEqual(e))throw new rn(Gt.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}class t{convertValue(e,n="none"){switch(Es(e)){case 0:return null;case 1:return e.booleanValue;case 2:return kt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(wn(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw mn()}}convertObject(e,n){const a={};return Ai(e.fields,(f,v)=>{a[f]=this.convertValue(v,n)}),a}convertGeoPoint(e){return new nu(kt(e.latitude),kt(e.longitude))}convertArray(e,n){return(e.values||[]).map(a=>this.convertValue(a,n))}convertServerTimestamp(e,n){switch(n){case"previous":const a=br(e);return null==a?null:this.convertValue(a,n);case"estimate":return this.convertTimestamp(Er(e));default:return null}}convertTimestamp(e){const n=ot(e);return new Qi(n.seconds,n.nanos)}convertDocumentKey(e,n){const a=_i.fromString(e);jn(uh(a));const f=new Ia(a.get(1),a.get(3)),v=new Mn(a.popFirst(5));return f.isEqual(n)||jr(`Document ${v} contains a document reference within a different database (${f.projectId}/${f.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),v}}function s(o,e,n){let a;return a=o?n&&(n.merge||n.mergeFields)?o.toFirestore(e,n):o.toFirestore(e):e,a}class l extends t{constructor(e){super(),this.firestore=e}convertBytes(e){return new Cu(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Gs(this.firestore,null,n)}}class g{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class E extends Hh{constructor(e,n,a,f,v,w){super(e,n,a,f,w),this._firestore=e,this._firestoreImpl=e,this.metadata=v}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new x(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const a=this._document.data.field(Xp("DocumentSnapshot.get",e));if(null!==a)return this._userDataWriter.convertValue(a,n.serverTimestamps)}}}class x extends E{data(e={}){return super.data(e)}}class z{constructor(e,n,a,f){this._firestore=e,this._userDataWriter=n,this._snapshot=f,this.metadata=new g(f.hasPendingWrites,f.fromCache),this.query=a}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,n){this._snapshot.docs.forEach(a=>{e.call(n,new x(this._firestore,this._userDataWriter,a.key,a,new g(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new rn(Gt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(a,f){if(a._snapshot.oldDocs.isEmpty()){let v=0;return a._snapshot.docChanges.map(w=>({type:"added",doc:new x(a._firestore,a._userDataWriter,w.doc.key,w.doc,new g(a._snapshot.mutatedKeys.has(w.doc.key),a._snapshot.fromCache),a.query.converter),oldIndex:-1,newIndex:v++}))}{let v=a._snapshot.oldDocs;return a._snapshot.docChanges.filter(w=>f||3!==w.type).map(w=>{const R=new x(a._firestore,a._userDataWriter,w.doc.key,w.doc,new g(a._snapshot.mutatedKeys.has(w.doc.key),a._snapshot.fromCache),a.query.converter);let W=-1,Q=-1;return 0!==w.type&&(W=v.indexOf(w.doc.key),v=v.delete(w.doc.key)),1!==w.type&&(v=v.add(w.doc),Q=v.indexOf(w.doc.key)),{type:ee(w.type),doc:R,oldIndex:W,newIndex:Q}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function ee(o){switch(o){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return mn()}}function ae(o,e){return o instanceof E&&e instanceof E?o._firestore===e._firestore&&o._key.isEqual(e._key)&&(null===o._document?null===e._document:o._document.isEqual(e._document))&&o._converter===e._converter:o instanceof z&&e instanceof z&&o._firestore===e._firestore&&Bp(o.query,e.query)&&o.metadata.isEqual(e.metadata)&&o._snapshot.isEqual(e._snapshot)}class lt extends t{constructor(e){super(),this.firestore=e}convertBytes(e){return new Cu(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Gs(this.firestore,null,n)}}function hi(o,e,n){o=$i(o,Gs);const a=$i(o.firestore,$s),f=s(o.converter,e,n);return ru(a,[mc(sd(a),"setDoc",o._key,f,null!==o.converter,n).toMutation(o._key,Ts.none())])}function Zn(o,e,n,...a){o=$i(o,Gs);const f=$i(o.firestore,$s),v=sd(f);let w;return w="string"==typeof(e=(0,Qe.m9)(e))||e instanceof Vl?Kp(v,"updateDoc",o._key,e,n,a):am(v,"updateDoc",o._key,e),ru(f,[w.toMutation(o._key,Ts.exists(!0))])}function Ga(o,...e){var n,a,f;o=(0,Qe.m9)(o);let v={includeMetadataChanges:!1},w=0;"object"!=typeof e[w]||nm(e[w])||(v=e[w],w++);const R={includeMetadataChanges:v.includeMetadataChanges};if(nm(e[w])){const et=e[w];e[w]=null===(n=et.next)||void 0===n?void 0:n.bind(et),e[w+1]=null===(a=et.error)||void 0===a?void 0:a.bind(et),e[w+2]=null===(f=et.complete)||void 0===f?void 0:f.bind(et)}let W,Q,Ee;if(o instanceof Gs)Q=$i(o.firestore,$s),Ee=Dc(o._key.path),W={next:et=>{e[w]&&e[w](bu(Q,o,et))},error:e[w+1],complete:e[w+2]};else{const et=$i(o,As);Q=$i(et.firestore,$s),Ee=et._query;const Ft=new lt(Q);W={next:tn=>{e[w]&&e[w](new z(Q,Ft,et,tn))},error:e[w+1],complete:e[w+2]},xv(o._query)}return function(et,Ft,tn,dn){const Gn=new _f(dn),hr=new Hd(Ft,Gn,tn);return et.asyncQueue.enqueueAndForget((0,fe.Z)(function*(){return wp(yield $h(et),hr)})),()=>{Gn.bc(),et.asyncQueue.enqueueAndForget((0,fe.Z)(function*(){return Cp(yield $h(et),hr)}))}}(xo(Q),Ee,R,W)}function ru(o,e){return function(n,a){const f=new ls;return n.asyncQueue.enqueueAndForget((0,fe.Z)(function*(){return function vf(o,e,n){return Dp.apply(this,arguments)}(yield Bh(n),a,f)})),f.promise}(xo(o),e)}function bu(o,e,n){const a=n.docs.get(e._key),f=new lt(o);return new E(o,f,e._key,a,new g(n.hasPendingWrites,n.fromCache),e.converter)}const oi={maxAttempts:5};class xa{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=sd(e)}set(e,n,a){this._verifyNotCommitted();const f=rs(e,this._firestore),v=s(f.converter,n,a),w=mc(this._dataReader,"WriteBatch.set",f._key,v,null!==f.converter,a);return this._mutations.push(w.toMutation(f._key,Ts.none())),this}update(e,n,a,...f){this._verifyNotCommitted();const v=rs(e,this._firestore);let w;return w="string"==typeof(n=(0,Qe.m9)(n))||n instanceof Vl?Kp(this._dataReader,"WriteBatch.update",v._key,n,a,f):am(this._dataReader,"WriteBatch.update",v._key,n),this._mutations.push(w.toMutation(v._key,Ts.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=rs(e,this._firestore);return this._mutations=this._mutations.concat(new Zl(n._key,Ts.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new rn(Gt.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function rs(o,e){if((o=(0,Qe.m9)(o)).firestore!==e)throw new rn(Gt.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return o}class Du extends class{constructor(e,n){this._firestore=e,this._transaction=n,this._dataReader=sd(e)}get(e){const n=rs(e,this._firestore),a=new l(this._firestore);return this._transaction.lookup([n._key]).then(f=>{if(!f||1!==f.length)return mn();const v=f[0];if(v.isFoundDocument())return new Hh(this._firestore,a,v.key,v,n.converter);if(v.isNoDocument())return new Hh(this._firestore,a,n._key,null,n.converter);throw mn()})}set(e,n,a){const f=rs(e,this._firestore),v=s(f.converter,n,a),w=mc(this._dataReader,"Transaction.set",f._key,v,null!==f.converter,a);return this._transaction.set(f._key,w),this}update(e,n,a,...f){const v=rs(e,this._firestore);let w;return w="string"==typeof(n=(0,Qe.m9)(n))||n instanceof Vl?Kp(this._dataReader,"Transaction.update",v._key,n,a,f):am(this._dataReader,"Transaction.update",v._key,n),this._transaction.update(v._key,w),this}delete(e){const n=rs(e,this._firestore);return this._transaction.delete(n._key),this}}{constructor(e,n){super(e,n),this._firestore=e}get(e){const n=rs(e,this._firestore),a=new lt(this._firestore);return super.get(e).then(f=>new E(this._firestore,a,n._key,f._document,new g(!1,!1),n.converter))}}function Rf(o,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new rn("invalid-argument",`Invalid options passed to function ${o}(): You cannot specify both "merge" and "mergeFields".`);return e}function o_(){if(typeof Uint8Array>"u")throw new rn("unimplemented","Uint8Arrays are not available in this environment.")}function a_(){if(!function j(){return typeof atob<"u"}())throw new rn("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(o,e=!0){Cr=He.SDK_VERSION,(0,He._registerComponent)(new Be.wA("firestore",(n,{instanceIdentifier:a,options:f})=>{const v=n.getProvider("app").getImmediate(),w=new $s(new Ea(n.getProvider("auth-internal")),new xu(n.getProvider("app-check-internal")),function(R,W){if(!Object.prototype.hasOwnProperty.apply(R.options,["projectId"]))throw new rn(Gt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ia(R.options.projectId,W)}(v,a),v);return f=Object.assign({useFetchStreams:e},f),w._setSettings(f),w},"PUBLIC").setMultipleInstances(!0)),(0,He.registerVersion)(qn,"3.8.3",o),(0,He.registerVersion)(qn,"3.8.3","esm2017")}();class gm{constructor(e){this._delegate=e}static fromBase64String(e){return a_(),new gm(Cu.fromBase64String(e))}static fromUint8Array(e){return o_(),new gm(Cu.fromUint8Array(e))}toBase64(){return a_(),this._delegate.toBase64()}toUint8Array(){return o_(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function Pv(o){return function u_(o,e){if("object"!=typeof o||null===o)return!1;const n=o;for(const a of e)if(a in n&&"function"==typeof n[a])return!0;return!1}(o,["next","error","complete"])}class l_{enableIndexedDbPersistence(e,n){return function Ev(o,e){tu(o=$i(o,$s));const n=xo(o),a=o._freezeSettings(),f=new Np;return wv(n,f,new Yg(f,a.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(e._delegate,{forceOwnership:n})}enableMultiTabIndexedDbPersistence(e){return function pc(o){tu(o=$i(o,$s));const e=xo(o),n=o._freezeSettings(),a=new Np;return wv(e,a,new dv(a,n.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function n_(o){if(o._initialized&&!o._terminated)throw new rn(Gt.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new ls;return o._queue.enqueueAndForgetEvenWhileRestricted((0,fe.Z)(function*(){try{yield(n=(0,fe.Z)(function*(a){if(!Do.C())return Promise.resolve();const f=a+"main";yield Do.delete(f)}),function(a){return n.apply(this,arguments)})(wg(o._databaseId,o._persistenceKey)),e.resolve()}catch(n){e.reject(n)}var n})),e.promise}(e._delegate)}}class c_{constructor(e,n,a){this._delegate=n,this._persistenceProvider=a,this.INTERNAL={delete:()=>this.terminate()},e instanceof Ia||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const n=this._delegate._getSettings();!e.merge&&n.host!==e.host&&Fs("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},n),e)).merge,this._delegate._setSettings(e)}useEmulator(e,n,a={}){!function kp(o,e,n,a={}){var f;const v=(o=$i(o,nd))._getSettings();if("firestore.googleapis.com"!==v.host&&v.host!==e&&Fs("Host has been set in both settings() and useEmulator(), emulator host will be used"),o._setSettings(Object.assign(Object.assign({},v),{host:`${e}:${n}`,ssl:!1})),a.mockUserToken){let w,R;if("string"==typeof a.mockUserToken)w=a.mockUserToken,R=pr.MOCK_USER;else{w=(0,Qe.Sg)(a.mockUserToken,null===(f=o._app)||void 0===f?void 0:f.options.projectId);const W=a.mockUserToken.sub||a.mockUserToken.user_id;if(!W)throw new rn(Gt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");R=new pr(W)}o._authCredentials=new $a(new sl(w,R))}}(this._delegate,e,n,a)}enableNetwork(){return function r_(o){return function fc(o){return o.asyncQueue.enqueue((0,fe.Z)(function*(){const e=yield Qg(o),n=yield Gp(o);return e.setNetworkEnabled(!0),function(a){const f=bn(a);return f._u.delete(0),$d(f)}(n)}))}(xo(o=$i(o,$s)))}(this._delegate)}disableNetwork(){return function Cv(o){return function id(o){return o.asyncQueue.enqueue((0,fe.Z)(function*(){const e=yield Qg(o),n=yield Gp(o);return e.setNetworkEnabled(!1),(a=(0,fe.Z)(function*(f){const v=bn(f);v._u.add(0),yield Vd(v),v.gu.set("Offline")}),function(f){return a.apply(this,arguments)})(n);var a}))}(xo(o=$i(o,$s)))}(this._delegate)}enablePersistence(e){let n=!1,a=!1;return e&&(n=!!e.synchronizeTabs,a=!!e.experimentalForceOwningTab,vy("synchronizeTabs",n,"experimentalForceOwningTab",a)),n?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,a)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function Iv(o){return function(e){const n=new ls;return e.asyncQueue.enqueueAndForget((0,fe.Z)(function*(){return function ov(o,e){return qg.apply(this,arguments)}(yield Bh(e),n)})),n.promise}(xo(o=$i(o,$s)))}(this._delegate)}onSnapshotsInSync(e){return function tl(o,e){return function yv(o,e){const n=new _f(e);return o.asyncQueue.enqueueAndForget((0,fe.Z)(function*(){return a=yield $h(o),f=n,bn(a).Ru.add(f),void f.next();var a,f})),()=>{n.bc(),o.asyncQueue.enqueueAndForget((0,fe.Z)(function*(){return a=yield $h(o),f=n,void bn(a).Ru.delete(f);var a,f}))}}(xo(o=$i(o,$s)),nm(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new rn("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new ld(this,Fp(this._delegate,e))}catch(n){throw nl(n,"collection()","Firestore.collection()")}}doc(e){try{return new yc(this,Oh(this._delegate,e))}catch(n){throw nl(n,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Su(this,function pv(o,e){if(o=$i(o,nd),hv("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new rn(Gt.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new As(o,null,(n=e,new ku(_i.emptyPath(),n)));var n}(this._delegate,e))}catch(n){throw nl(n,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function ad(o,e,n){o=$i(o,$s);const a=Object.assign(Object.assign({},oi),n);return function(f){if(f.maxAttempts<1)throw new rn(Gt.INVALID_ARGUMENT,"Max attempts must be at least 1")}(a),function(f,v,w){const R=new ls;return f.asyncQueue.enqueueAndForget((0,fe.Z)(function*(){const W=yield function hc(o){return Lh(o).then(e=>e.datastore)}(f);new _y(f.asyncQueue,W,w,v,R).run()})),R.promise}(xo(o),f=>e(new Du(o,f)),a)}(this._delegate,n=>e(new d_(this,n)))}batch(){return xo(this._delegate),new H_(new xa(this._delegate,e=>ru(this._delegate,e)))}loadBundle(e){return function bv(o,e){const n=xo(o=$i(o,$s)),a=new ea;return function wy(o,e,n,a){const f=function(v,w){let R;return R="string"==typeof v?(new TextEncoder).encode(v):v,W=function(W,Q){if(W instanceof Uint8Array)return $p(W,Q);if(W instanceof ArrayBuffer)return $p(new Uint8Array(W),Q);if(W instanceof ReadableStream)return W.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(R),new kh(W,w);var W}(n,wh(e));o.asyncQueue.enqueueAndForget((0,fe.Z)(function*(){!function cv(o,e,n){const a=bn(o);var f;(f=(0,fe.Z)(function*(v,w,R){try{const W=yield w.getMetadata();if(yield function(Ft,tn){const dn=bn(Ft),Gn=bs(tn.createTime);return dn.persistence.runTransaction("hasNewerBundle","readonly",hr=>dn.Ns.getBundleMetadata(hr,tn.id)).then(hr=>!!hr&&hr.createTime.compareTo(Gn)>=0)}(v.localStore,W))return yield w.close(),R._completeWith({taskState:"Success",documentsLoaded:(Ft=W).totalDocuments,bytesLoaded:Ft.totalBytes,totalDocuments:Ft.totalDocuments,totalBytes:Ft.totalBytes}),Promise.resolve(new Set);R._updateProgress(ev(W));const Q=new Jm(W,v.localStore,w.yt);let Ee=yield w.mc();for(;Ee;){const Ft=yield Q.Fu(Ee);Ft&&R._updateProgress(Ft),Ee=yield w.mc()}const et=yield Q.complete();return yield $l(v,et.Lu,void 0),yield function(Ft,tn){const dn=bn(Ft);return dn.persistence.runTransaction("Save bundle","readwrite",Gn=>dn.Ns.saveBundleMetadata(Gn,tn))}(v.localStore,W),R._completeWith(et.progress),Promise.resolve(et.Bu)}catch(W){return Fs("SyncEngine",`Loading bundle failed with ${W}`),R._failWith(W),Promise.resolve(new Set)}var Ft}),function(v,w,R){return f.apply(this,arguments)})(a,e,n).then(f=>{a.sharedClientState.notifyBundleLoaded(f)})}(yield Bh(o),f,a)}))}(n,o._databaseId,e,a),a}(this._delegate,e)}namedQuery(e){return function Yd(o,e){return function Iy(o,e){return o.asyncQueue.enqueue((0,fe.Z)(function*(){return function(n,a){const f=bn(n);return f.persistence.runTransaction("Get named query","readonly",v=>f.Ns.getNamedQuery(v,a))}(yield If(o),e)}))}(xo(o=$i(o,$s)),e).then(n=>n?new As(o,null,n.query):null)}(this._delegate,e).then(n=>n?new Su(this,n):null)}}class mm extends t{constructor(e){super(),this.firestore=e}convertBytes(e){return new gm(new Cu(e))}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return yc.forKey(n,this.firestore,null)}}class d_{constructor(e,n){this._firestore=e,this._delegate=n,this._userDataWriter=new mm(e)}get(e){const n=Pf(e);return this._delegate.get(n).then(a=>new rg(this._firestore,new E(this._firestore._delegate,this._userDataWriter,a._key,a._document,a.metadata,n.converter)))}set(e,n,a){const f=Pf(e);return a?(Rf("Transaction.set",a),this._delegate.set(f,n,a)):this._delegate.set(f,n),this}update(e,n,a,...f){const v=Pf(e);return 2===arguments.length?this._delegate.update(v,n):this._delegate.update(v,n,a,...f),this}delete(e){const n=Pf(e);return this._delegate.delete(n),this}}class H_{constructor(e){this._delegate=e}set(e,n,a){const f=Pf(e);return a?(Rf("WriteBatch.set",a),this._delegate.set(f,n,a)):this._delegate.set(f,n),this}update(e,n,a,...f){const v=Pf(e);return 2===arguments.length?this._delegate.update(v,n):this._delegate.update(v,n,a,...f),this}delete(e){const n=Pf(e);return this._delegate.delete(n),this}commit(){return this._delegate.commit()}}class ng{constructor(e,n,a){this._firestore=e,this._userDataWriter=n,this._delegate=a}fromFirestore(e,n){const a=new x(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new zh(this._firestore,a),null!=n?n:{})}toFirestore(e,n){return n?this._delegate.toFirestore(e,n):this._delegate.toFirestore(e)}static getInstance(e,n){const a=ng.INSTANCES;let f=a.get(e);f||(f=new WeakMap,a.set(e,f));let v=f.get(n);return v||(v=new ng(e,new mm(e),n),f.set(n,v)),v}}ng.INSTANCES=new WeakMap;class yc{constructor(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new mm(e)}static forPath(e,n,a){if(e.length%2!=0)throw new rn("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new yc(n,new Gs(n._delegate,a,new Mn(e)))}static forKey(e,n,a){return new yc(n,new Gs(n._delegate,a,e))}get id(){return this._delegate.id}get parent(){return new ld(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new ld(this.firestore,Fp(this._delegate,e))}catch(n){throw nl(n,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,Qe.m9)(e))instanceof Gs&&Lp(this._delegate,e)}set(e,n){n=Rf("DocumentReference.set",n);try{return n?hi(this._delegate,e,n):hi(this._delegate,e)}catch(a){throw nl(a,"setDoc()","DocumentReference.set()")}}update(e,n,...a){try{return 1===arguments.length?Zn(this._delegate,e):Zn(this._delegate,e,n,...a)}catch(f){throw nl(f,"updateDoc()","DocumentReference.update()")}}delete(){return function zr(o){return ru($i(o.firestore,$s),[new Zl(o._key,Ts.none())])}(this._delegate)}onSnapshot(...e){const n=j_(e),a=G_(e,f=>new rg(this.firestore,new E(this.firestore._delegate,this._userDataWriter,f._key,f._document,f.metadata,this._delegate.converter)));return Ga(this._delegate,n,a)}get(e){let n;return n="cache"===(null==e?void 0:e.source)?function Tt(o){o=$i(o,Gs);const e=$i(o.firestore,$s),n=xo(e),a=new lt(e);return function em(o,e){const n=new ls;return o.asyncQueue.enqueueAndForget((0,fe.Z)(function*(){return(a=(0,fe.Z)(function*(f,v,w){try{const R=yield function(W,Q){const Ee=bn(W);return Ee.persistence.runTransaction("read document","readonly",et=>Ee.localDocuments.getDocument(et,Q))}(f,v);R.isFoundDocument()?w.resolve(R):R.isNoDocument()?w.resolve(null):w.reject(new rn(Gt.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(R){const W=Qc(R,`Failed to get document '${v} from cache`);w.reject(W)}}),function(f,v,w){return a.apply(this,arguments)})(yield If(o),e,n);var a})),n.promise}(n,o._key).then(f=>new E(e,a,o._key,f,new g(null!==f&&f.hasLocalMutations,!0),o.converter))}(this._delegate):"server"===(null==e?void 0:e.source)?function _n(o){o=$i(o,Gs);const e=$i(o.firestore,$s);return tm(xo(e),o._key,{source:"server"}).then(n=>bu(e,o,n))}(this._delegate):function Le(o){o=$i(o,Gs);const e=$i(o.firestore,$s);return tm(xo(e),o._key).then(n=>bu(e,o,n))}(this._delegate),n.then(a=>new rg(this.firestore,new E(this.firestore._delegate,this._userDataWriter,a._key,a._document,a.metadata,this._delegate.converter)))}withConverter(e){return new yc(this.firestore,this._delegate.withConverter(e?ng.getInstance(this.firestore,e):null))}}function nl(o,e,n){return o.message=o.message.replace(e,n),o}function j_(o){for(const e of o)if("object"==typeof e&&!Pv(e))return e;return{}}function G_(o,e){var n,a;let f;return f=Pv(o[0])?o[0]:Pv(o[1])?o[1]:"function"==typeof o[0]?{next:o[0],error:o[1],complete:o[2]}:{next:o[1],error:o[2],complete:o[3]},{next:v=>{f.next&&f.next(e(v))},error:null===(n=f.error)||void 0===n?void 0:n.bind(f),complete:null===(a=f.complete)||void 0===a?void 0:a.bind(f)}}class rg{constructor(e,n){this._firestore=e,this._delegate=n}get ref(){return new yc(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,n){return this._delegate.get(e,n)}isEqual(e){return ae(this._delegate,e._delegate)}}class zh extends rg{data(e){const n=this._delegate.data(e);return function oa(o,e){o||mn()}(void 0!==n),n}}class Su{constructor(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new mm(e)}where(e,n,a){try{return new Su(this.firestore,vc(this._delegate,function My(o,e,n){const a=e,f=Xp("where",o);return xf._create(f,a,n)}(e,n,a)))}catch(f){throw nl(f,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,n){try{return new Su(this.firestore,vc(this._delegate,function Mv(o,e="asc"){const n=e,a=Xp("orderBy",o);return lm._create(a,n)}(e,n)))}catch(a){throw nl(a,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Su(this.firestore,vc(this._delegate,function i_(o){return Op("limit",o),Qp._create("limit",o,"F")}(e)))}catch(n){throw nl(n,"limit()","Query.limit()")}}limitToLast(e){try{return new Su(this.firestore,vc(this._delegate,function Ny(o){return Op("limitToLast",o),Qp._create("limitToLast",o,"L")}(e)))}catch(n){throw nl(n,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Su(this.firestore,vc(this._delegate,function s_(...o){return Jp._create("startAt",o,!0)}(...e)))}catch(n){throw nl(n,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Su(this.firestore,vc(this._delegate,function cm(...o){return Jp._create("startAfter",o,!1)}(...e)))}catch(n){throw nl(n,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Su(this.firestore,vc(this._delegate,function Oy(...o){return Gh._create("endBefore",o,!1)}(...e)))}catch(n){throw nl(n,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Su(this.firestore,vc(this._delegate,function ky(...o){return Gh._create("endAt",o,!0)}(...e)))}catch(n){throw nl(n,"endAt()","Query.endAt()")}}isEqual(e){return Bp(this._delegate,e._delegate)}get(e){let n;return n="cache"===(null==e?void 0:e.source)?function Un(o){o=$i(o,As);const e=$i(o.firestore,$s),n=xo(e),a=new lt(e);return function zp(o,e){const n=new ls;return o.asyncQueue.enqueueAndForget((0,fe.Z)(function*(){return(a=(0,fe.Z)(function*(f,v,w){try{const R=yield af(f,v,!0),W=new tv(v,R.Hi),Q=W.Wu(R.documents),Ee=W.applyChanges(Q,!1);w.resolve(Ee.snapshot)}catch(R){const W=Qc(R,`Failed to execute query '${v} against cache`);w.reject(W)}}),function(f,v,w){return a.apply(this,arguments)})(yield If(o),e,n);var a})),n.promise}(n,o._query).then(f=>new z(e,a,o,f))}(this._delegate):"server"===(null==e?void 0:e.source)?function Hn(o){o=$i(o,As);const e=$i(o.firestore,$s),n=xo(e),a=new lt(e);return Ey(n,o._query,{source:"server"}).then(f=>new z(e,a,o,f))}(this._delegate):function En(o){o=$i(o,As);const e=$i(o.firestore,$s),n=xo(e),a=new lt(e);return xv(o._query),Ey(n,o._query).then(f=>new z(e,a,o,f))}(this._delegate),n.then(a=>new Nv(this.firestore,new z(this.firestore._delegate,this._userDataWriter,this._delegate,a._snapshot)))}onSnapshot(...e){const n=j_(e),a=G_(e,f=>new Nv(this.firestore,new z(this.firestore._delegate,this._userDataWriter,this._delegate,f._snapshot)));return Ga(this._delegate,n,a)}withConverter(e){return new Su(this.firestore,this._delegate.withConverter(e?ng.getInstance(this.firestore,e):null))}}class z_{constructor(e,n){this._firestore=e,this._delegate=n}get type(){return this._delegate.type}get doc(){return new zh(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class Nv{constructor(e,n){this._firestore=e,this._delegate=n}get query(){return new Su(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new zh(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(n=>new z_(this._firestore,n))}forEach(e,n){this._delegate.forEach(a=>{e.call(n,new zh(this._firestore,a))})}isEqual(e){return ae(this._delegate,e._delegate)}}class ld extends Su{constructor(e,n){super(e,n),this.firestore=e,this._delegate=n}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new yc(this.firestore,e):null}doc(e){try{return new yc(this.firestore,void 0===e?Oh(this._delegate):Oh(this._delegate,e))}catch(n){throw nl(n,"doc()","CollectionReference.doc()")}}add(e){return function Wr(o,e){const n=$i(o.firestore,$s),a=Oh(o),f=s(o.converter,e);return ru(n,[mc(sd(o.firestore),"addDoc",a._key,f,null!==o.converter,{}).toMutation(a._key,Ts.exists(!1))]).then(()=>a)}(this._delegate,e).then(n=>new yc(this.firestore,n))}isEqual(e){return Lp(this._delegate,e._delegate)}withConverter(e){return new ld(this.firestore,this._delegate.withConverter(e?ng.getInstance(this.firestore,e):null))}}function Pf(o){return $i(o,Gs)}class Ly{constructor(...e){this._delegate=new Vl(...e)}static documentId(){return new Ly(Hi.keyField().canonicalString())}isEqual(e){return(e=(0,Qe.m9)(e))instanceof Vl&&this._delegate._internalPath.isEqual(e._internalPath)}}class Nf{constructor(e){this._delegate=e}static serverTimestamp(){const e=function ud(){return new om("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new Nf(e)}static delete(){const e=function iu(){return new Uh("deleteField")}();return e._methodName="FieldValue.delete",new Nf(e)}static arrayUnion(...e){const n=function Zd(...o){return new Ty("arrayUnion",o)}(...e);return n._methodName="FieldValue.arrayUnion",new Nf(n)}static arrayRemove(...e){const n=function tg(...o){return new Sv("arrayRemove",o)}(...e);return n._methodName="FieldValue.arrayRemove",new Nf(n)}static increment(e){const n=function Rv(o){return new Wp("increment",o)}(e);return n._methodName="FieldValue.increment",new Nf(n)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const q_={Firestore:c_,GeoPoint:nu,Timestamp:Qi,Blob:gm,Transaction:d_,WriteBatch:H_,DocumentReference:yc,DocumentSnapshot:rg,Query:Su,QueryDocumentSnapshot:zh,QuerySnapshot:Nv,CollectionReference:ld,FieldPath:Ly,FieldValue:Nf,setLogLevel:function U_(o){!function Xi(o){$r.setLogLevel(o)}(o)},CACHE_SIZE_UNLIMITED:-1};!function h_(o){(function W_(o,e){o.INTERNAL.registerComponent(new Be.wA("firestore-compat",n=>{const a=n.getProvider("app-compat").getImmediate(),f=n.getProvider("firestore").getImmediate();return e(a,f)},"PUBLIC").setServiceProps(Object.assign({},q_)))})(o,(e,n)=>new c_(e,n,new l_)),o.registerVersion("@firebase/firestore-compat","0.3.3")}(Ce.Z);var K_=V(7579),Y_=V(6451),qh=V(5363),Wh=V(3900),By=V(3151),Z_=V(590),f_=V(576);function p_(o,e){return(0,f_.m)(e)?(0,Wh.w)(()=>o,e):(0,Wh.w)(()=>o)}var Ov=V(9468),g_=V(6217),$y=V(9260);const Vy=new c.OlP("angularfire2.auth.use-emulator"),Uy=new c.OlP("angularfire2.auth.settings"),m_=new c.OlP("angularfire2.auth.tenant-id"),v_=new c.OlP("angularfire2.auth.langugage-code"),y_=new c.OlP("angularfire2.auth.use-device-language"),kv=new c.OlP("angularfire.auth.persistence"),__=(o,e,n,a,f,v,w,R)=>(0,je.cc)(`${o.name}.auth`,"AngularFireAuth",o.name,()=>{const W=e.runOutsideAngular(()=>o.auth());if(n&&W.useEmulator(...n),a&&(W.tenantId=a),W.languageCode=f,v&&W.useDeviceLanguage(),w)for(const[Q,Ee]of Object.entries(w))W.settings[Q]=Ee;return R&&W.setPersistence(R),W},[n,a,f,v,w,R]);let Hy=(()=>{class o{constructor(n,a,f,v,w,R,W,Q,Ee,et,Ft,tn){const dn=new K_.x,Gn=(0,_e.of)(void 0).pipe((0,qh.Q)(w.outsideAngular),(0,Wh.w)(()=>v.runOutsideAngular(()=>Promise.resolve().then(V.bind(V,407)))),(0,he.U)(()=>(0,je.on)(n,v,a)),(0,he.U)(hr=>__(hr,v,R,Q,Ee,et,W,Ft)),(0,By.d)({bufferSize:1,refCount:!1}));if((0,Et.PM)(f))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,_e.of)(null);else{Gn.pipe((0,Z_.P)()).subscribe();const hs=Gn.pipe((0,Wh.w)(Ni=>Ni.getRedirectResult().then(Di=>Di,()=>null)),ke.iC,(0,By.d)({bufferSize:1,refCount:!1})),Rs=Gn.pipe((0,Wh.w)(Ni=>new G.y(Di=>({unsubscribe:v.runOutsideAngular(()=>Ni.onAuthStateChanged(Vi=>Di.next(Vi),Vi=>Di.error(Vi),()=>Di.complete()))})))),qi=Gn.pipe((0,Wh.w)(Ni=>new G.y(Di=>({unsubscribe:v.runOutsideAngular(()=>Ni.onIdTokenChanged(Vi=>Di.next(Vi),Vi=>Di.error(Vi),()=>Di.complete()))}))));this.authState=hs.pipe(p_(Rs),(0,Ov.R)(w.outsideAngular),(0,qh.Q)(w.insideAngular)),this.user=hs.pipe(p_(qi),(0,Ov.R)(w.outsideAngular),(0,qh.Q)(w.insideAngular)),this.idToken=this.user.pipe((0,Wh.w)(Ni=>Ni?(0,Ae.D)(Ni.getIdToken()):(0,_e.of)(null))),this.idTokenResult=this.user.pipe((0,Wh.w)(Ni=>Ni?(0,Ae.D)(Ni.getIdTokenResult()):(0,_e.of)(null))),this.credential=(0,Y_.T)(hs,dn,this.authState.pipe((0,We.h)(Ni=>!Ni))).pipe((0,he.U)(Ni=>null!=Ni&&Ni.user?Ni:null),(0,Ov.R)(w.outsideAngular),(0,qh.Q)(w.insideAngular))}return(0,je.pX)(this,Gn,v,{spy:{apply:(hr,hs,Rs)=>{(hr.startsWith("signIn")||hr.startsWith("createUser"))&&Rs.then(qi=>dn.next(qi))}}})}}return o.\u0275fac=function(n){return new(n||o)(c.LFG(je.Dh),c.LFG(je.xv,8),c.LFG(c.Lbi),c.LFG(c.R0b),c.LFG(ke.HU),c.LFG(Vy,8),c.LFG(Uy,8),c.LFG(m_,8),c.LFG(v_,8),c.LFG(y_,8),c.LFG(kv,8),c.LFG(g_.nm,8))},o.\u0275prov=c.Yz7({token:o,factory:o.\u0275fac,providedIn:"any"}),o})();function E_(o,e){return function Q_(o,e=J.z){return new G.y(n=>{let a;return null!=e?e.schedule(()=>{a=o.onSnapshot({includeMetadataChanges:!0},n)}):a=o.onSnapshot({includeMetadataChanges:!0},n),()=>{null!=a&&a()}})}(o,e)}function jy(o,e){return E_(o,e).pipe((0,he.U)(n=>({payload:n,type:"query"})))}function Fv(o,e){return jy(o,e).pipe((0,ve.O)(void 0),we(),(0,he.U)(([n,a])=>{const f=a.payload.docChanges(),v=f.map(w=>({type:w.type,payload:w}));return n&&JSON.stringify(n.payload.metadata)!==JSON.stringify(a.payload.metadata)&&a.payload.docs.forEach((w,R)=>{const W=f.find(Ee=>Ee.doc.ref.isEqual(w.ref)),Q=null==n?void 0:n.payload.docs.find(Ee=>Ee.ref.isEqual(w.ref));W&&JSON.stringify(W.doc.metadata)===JSON.stringify(w.metadata)||!W&&Q&&JSON.stringify(Q.metadata)===JSON.stringify(w.metadata)||v.push({type:"modified",payload:{oldIndex:R,newIndex:R,type:"modified",doc:w}})}),v}))}function w_(o,e,n){return Fv(o,n).pipe((0,me.R)((a,f)=>function e0(o,e,n){return e.forEach(a=>{n.indexOf(a.type)>-1&&(o=function I_(o,e){switch(e.type){case"added":if(!o[e.newIndex]||!o[e.newIndex].doc.ref.isEqual(e.doc.ref))return Lv(o,e.newIndex,0,e);break;case"modified":if(null==o[e.oldIndex]||o[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const n=o.slice();return n.splice(e.oldIndex,1),n.splice(e.newIndex,0,e),n}return Lv(o,e.newIndex,1,e)}break;case"removed":if(o[e.oldIndex]&&o[e.oldIndex].doc.ref.isEqual(e.doc.ref))return Lv(o,e.oldIndex,1)}return o}(o,a))}),o}(a,f.map(v=>v.payload),e),[]),(0,Re.x)(),(0,he.U)(a=>a.map(f=>({type:f.type,payload:f}))))}function Lv(o,e,n,...a){const f=o.slice();return f.splice(e,n,...a),f}function Gy(o){return(!o||0===o.length)&&(o=["added","removed","modified"]),o}class C_{constructor(e,n,a){this.ref=e,this.query=n,this.afs=a}stateChanges(e){let n=Fv(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(n=n.pipe((0,he.U)(a=>a.filter(f=>e.indexOf(f.type)>-1)))),n.pipe((0,ve.O)(void 0),we(),(0,We.h)(([a,f])=>f.length>0||!a),(0,he.U)(([a,f])=>f),ke.iC)}auditTrail(e){return this.stateChanges(e).pipe((0,me.R)((n,a)=>[...n,...a],[]))}snapshotChanges(e){const n=Gy(e);return w_(this.query,n,this.afs.schedulers.outsideAngular).pipe(ke.iC)}valueChanges(e={}){return jy(this.query,this.afs.schedulers.outsideAngular).pipe((0,he.U)(n=>n.payload.docs.map(a=>e.idField?Object.assign(Object.assign({},a.data()),{[e.idField]:a.id}):a.data())),ke.iC)}get(e){return(0,Ae.D)(this.query.get(e)).pipe(ke.iC)}add(e){return this.ref.add(e)}doc(e){return new Bv(this.ref.doc(e),this.afs)}}class Bv{constructor(e,n){this.ref=e,this.afs=n}set(e,n){return this.ref.set(e,n)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,n){const a=this.ref.collection(e),{ref:f,query:v}=Wy(a,n);return new C_(f,v,this.afs)}snapshotChanges(){return function J_(o,e){return E_(o,e).pipe((0,ve.O)(void 0),we(),(0,he.U)(([n,a])=>a.exists?null!=n&&n.exists?{payload:a,type:"modified"}:{payload:a,type:"added"}:{payload:a,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(ke.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,he.U)(({payload:n})=>e.idField?Object.assign(Object.assign({},n.data()),{[e.idField]:n.id}):n.data()))}get(e){return(0,Ae.D)(this.ref.get(e)).pipe(ke.iC)}}class b_{constructor(e,n){this.query=e,this.afs=n}stateChanges(e){return e&&0!==e.length?Fv(this.query,this.afs.schedulers.outsideAngular).pipe((0,he.U)(n=>n.filter(a=>e.indexOf(a.type)>-1)),(0,We.h)(n=>n.length>0),ke.iC):Fv(this.query,this.afs.schedulers.outsideAngular).pipe(ke.iC)}auditTrail(e){return this.stateChanges(e).pipe((0,me.R)((n,a)=>[...n,...a],[]))}snapshotChanges(e){const n=Gy(e);return w_(this.query,n,this.afs.schedulers.outsideAngular).pipe(ke.iC)}valueChanges(e={}){return jy(this.query,this.afs.schedulers.outsideAngular).pipe((0,he.U)(a=>a.payload.docs.map(f=>e.idField?Object.assign({[e.idField]:f.id},f.data()):f.data())),ke.iC)}get(e){return(0,Ae.D)(this.query.get(e)).pipe(ke.iC)}}const D_=new c.OlP("angularfire2.enableFirestorePersistence"),S_=new c.OlP("angularfire2.firestore.persistenceSettings"),zy=new c.OlP("angularfire2.firestore.settings"),qy=new c.OlP("angularfire2.firestore.use-emulator");function Wy(o,e=(n=>n)){return{query:e(o),ref:o}}let $v=(()=>{class o{constructor(n,a,f,v,w,R,W,Q,Ee,et,Ft,tn,dn,Gn,hr,hs,Rs){this.schedulers=W;const qi=(0,je.on)(n,R,a),Ni=Ee;et&&__(qi,R,Ft,dn,Gn,hr,tn,hs),[this.firestore,this.persistenceEnabled$]=(0,je.cc)(`${qi.name}.firestore`,"AngularFirestore",qi.name,()=>{const Di=R.runOutsideAngular(()=>qi.firestore());if(v&&Di.settings(v),Ni&&Di.useEmulator(...Ni),f&&!(0,Et.PM)(w)){const Vi=()=>{try{return(0,Ae.D)(Di.enablePersistence(Q||void 0).then(()=>!0,()=>!1))}catch(fa){return typeof console<"u"&&console.warn(fa),(0,_e.of)(!1)}};return[Di,R.runOutsideAngular(Vi)]}return[Di,(0,_e.of)(!1)]},[v,Ni,f])}collection(n,a){let f;f="string"==typeof n?this.firestore.collection(n):n;const{ref:v,query:w}=Wy(f,a),R=this.schedulers.ngZone.run(()=>v);return new C_(R,w,this)}collectionGroup(n,a){const f=a||(w=>w),v=this.firestore.collectionGroup(n);return new b_(f(v),this)}doc(n){let a;a="string"==typeof n?this.firestore.doc(n):n;const f=this.schedulers.ngZone.run(()=>a);return new Bv(f,this)}createId(){return this.firestore.collection("_").doc().id}}return o.\u0275fac=function(n){return new(n||o)(c.LFG(je.Dh),c.LFG(je.xv,8),c.LFG(D_,8),c.LFG(zy,8),c.LFG(c.Lbi),c.LFG(c.R0b),c.LFG(ke.HU),c.LFG(S_,8),c.LFG(qy,8),c.LFG(Hy,8),c.LFG(Vy,8),c.LFG(Uy,8),c.LFG(m_,8),c.LFG(v_,8),c.LFG(y_,8),c.LFG(kv,8),c.LFG(g_.nm,8))},o.\u0275prov=c.Yz7({token:o,factory:o.\u0275fac,providedIn:"any"}),o})(),t0=(()=>{class o{constructor(){$y.Z.registerVersion("angularfire",ke.q4.full,"fst-compat")}static enablePersistence(n){return{ngModule:o,providers:[{provide:D_,useValue:!0},{provide:S_,useValue:n}]}}}return o.\u0275fac=function(n){return new(n||o)},o.\u0275mod=c.oAB({type:o}),o.\u0275inj=c.cJS({providers:[$v]}),o})()},2228:(Jt,it,V)=>{"use strict";V.d(it,{Qv:()=>Se,l4:()=>Et});var c=V(4650),J=V(9646),G=V(8996),Ae=V(5363),_e=V(3900),ke=V(4004),ve=V(3151),Pe=V(2122),Ne=V(2011),we=V(6217),he=V(9260);const Re=new c.OlP("angularfire2.functions.origin"),We=new c.OlP("angularfire2.functions.region"),je=new c.OlP("angularfire2.functions.use-emulator");let Et=(()=>{class Ce{constructor(He,Be,Je,Qe,Ve,Ge,te,Ze){const le=te,ye=(0,J.of)(void 0).pipe((0,Ae.Q)(Qe.outsideAngular),(0,_e.w)(()=>V.e(818).then(V.bind(V,818))),(0,ke.U)(()=>(0,Ne.on)(He,Je,Be)),(0,ke.U)(xe=>(0,Ne.cc)(`${xe.name}.functions.${Ve||Ge}`,"AngularFireFunctions",xe.name,()=>{let Me;if(Ve&&Ge)throw new Error("REGION and ORIGIN can't be used at the same time.");return Me=xe.functions(Ve||Ge||void 0),le&&Me.useEmulator(...le),Me},[Ve,Ge,le])),(0,ve.d)({bufferSize:1,refCount:!1}));return this.httpsCallable=(xe,Me)=>Xe=>(0,G.D)(ye).pipe((0,Ae.Q)(Qe.insideAngular),(0,_e.w)(Bt=>Bt.httpsCallable(xe,Me)(Xe)),(0,ke.U)(Bt=>Bt.data)),(0,Ne.pX)(this,ye,Je)}}return Ce.\u0275fac=function(He){return new(He||Ce)(c.LFG(Ne.Dh),c.LFG(Ne.xv,8),c.LFG(c.R0b),c.LFG(Pe.HU),c.LFG(We,8),c.LFG(Re,8),c.LFG(je,8),c.LFG(we.nm,8))},Ce.\u0275prov=c.Yz7({token:Ce,factory:Ce.\u0275fac,providedIn:"any"}),Ce})(),Se=(()=>{class Ce{constructor(){he.Z.registerVersion("angularfire",Pe.q4.full,"fn-compat")}}return Ce.\u0275fac=function(He){return new(He||Ce)},Ce.\u0275mod=c.oAB({type:Ce}),Ce.\u0275inj=c.cJS({providers:[Et]}),Ce})()},2011:(Jt,it,V)=>{"use strict";V.d(it,{Dh:()=>Pe,GT:()=>ke,cc:()=>We,hO:()=>Re,on:()=>we,pX:()=>_e,xv:()=>Ne});var c=V(4650),J=V(9260),G=V(2122);Jt=V.hmd(Jt);const Ae=["ngOnDestroy"],_e=(Ce,fe,He,Be={})=>new Proxy(Ce,{get:(Je,Qe)=>He.runOutsideAngular(()=>{var Ve;if(Ce[Qe])return!(null===(Ve=null==Be?void 0:Be.spy)||void 0===Ve)&&Ve.get&&Be.spy.get(Qe,Ce[Qe]),Ce[Qe];if(Ae.indexOf(Qe)>-1)return()=>{};const Ge=fe.toPromise().then(te=>{const Ze=te&&te[Qe];return"function"==typeof Ze?Ze.bind(te):Ze&&Ze.then?Ze.then(le=>He.run(()=>le)):He.run(()=>Ze)});return new Proxy(()=>{},{get:(te,Ze)=>Ge[Ze],apply:(te,Ze,le)=>Ge.then(ye=>{var xe;const Me=ye&&ye(...le);return!(null===(xe=null==Be?void 0:Be.spy)||void 0===xe)&&xe.apply&&Be.spy.apply(Qe,le,Me),Me})})})}),ke=(Ce,fe)=>{fe.forEach(He=>{Object.getOwnPropertyNames(He.prototype||He).forEach(Be=>{Object.defineProperty(Ce.prototype,Be,Object.getOwnPropertyDescriptor(He.prototype||He,Be))})})};class ve{constructor(fe){return fe}}const Pe=new c.OlP("angularfire2.app.options"),Ne=new c.OlP("angularfire2.app.name");function we(Ce,fe,He){const Je="object"==typeof He&&He||{};Je.name=Je.name||"string"==typeof He&&He||"[DEFAULT]";const Ve=J.Z.apps.filter(Ge=>Ge&&Ge.name===Je.name)[0]||fe.runOutsideAngular(()=>J.Z.initializeApp(Ce,Je));try{JSON.stringify(Ce)!==JSON.stringify(Ve.options)&&he("error",`${Ve.name} Firebase App already initialized with different options${Jt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(Ge){}return new ve(Ve)}const he=(Ce,...fe)=>{(0,c.X6Q)()&&typeof console<"u"&&console[Ce](...fe)},me={provide:ve,useFactory:we,deps:[Pe,c.R0b,[new c.FiY,Ne]]};let Re=(()=>{class Ce{constructor(He){J.Z.registerVersion("angularfire",G.q4.full,"core"),J.Z.registerVersion("angularfire",G.q4.full,"app-compat"),J.Z.registerVersion("angular",c.q4F.full,He.toString())}static initializeApp(He,Be){return{ngModule:Ce,providers:[{provide:Pe,useValue:He},{provide:Ne,useValue:Be}]}}}return Ce.\u0275fac=function(He){return new(He||Ce)(c.LFG(c.Lbi))},Ce.\u0275mod=c.oAB({type:Ce}),Ce.\u0275inj=c.cJS({providers:[me]}),Ce})();function We(Ce,fe,He,Be,Je){const[,Qe,Ve]=globalThis.\u0275AngularfireInstanceCache.find(Ge=>Ge[0]===Ce)||[];if(Qe)return function je(Ce,fe){try{return Ce.toString()===fe.toString()}catch(He){return Ce===fe}}(Je,Ve)||(Se("error",`${fe} was already initialized on the ${He} Firebase App with different settings.${Et?" You may need to reload as Firebase is not HMR aware.":""}`),Se("warn",{is:Je,was:Ve})),Qe;{const Ge=Be();return globalThis.\u0275AngularfireInstanceCache.push([Ce,Ge,Je]),Ge}}const Et=!!Jt.hot,Se=(Ce,...fe)=>{(0,c.X6Q)()&&typeof console<"u"&&console[Ce](...fe)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},2122:(Jt,it,V)=>{"use strict";V.d(it,{q4:()=>M,iC:()=>dl,HU:()=>Ls,vb:()=>Ci,JM:()=>Er});var c=V(4650),J=V(259),G=V(5861),Ae=V(9681),_e=V(2090),ke=V(4859),ve=V(1877),Pe=V(8766);const Ne="@firebase/installations",me="w:0.6.3",Re="FIS_v2",fe=new _e.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function He(U){return U instanceof _e.ZR&&U.code.includes("request-failed")}function Be({projectId:U}){return`https://firebaseinstallations.googleapis.com/v1/projects/${U}/installations`}function Je(U){return{token:U.token,requestStatus:2,expiresIn:ye(U.expiresIn),creationTime:Date.now()}}function Qe(U,q){return Ve.apply(this,arguments)}function Ve(){return(Ve=(0,G.Z)(function*(U,q){const Ye=(yield q.json()).error;return fe.create("request-failed",{requestName:U,serverCode:Ye.code,serverMessage:Ye.message,serverStatus:Ye.status})})).apply(this,arguments)}function Ge({apiKey:U}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":U})}function te(U,{refreshToken:q}){const ue=Ge(U);return ue.append("Authorization",function xe(U){return`${Re} ${U}`}(q)),ue}function Ze(U){return le.apply(this,arguments)}function le(){return(le=(0,G.Z)(function*(U){const q=yield U();return q.status>=500&&q.status<600?U():q})).apply(this,arguments)}function ye(U){return Number(U.replace("s","000"))}function Me(U,q){return Xe.apply(this,arguments)}function Xe(){return(Xe=(0,G.Z)(function*({appConfig:U,heartbeatServiceProvider:q},{fid:ue}){const Ye=Be(U),Dt=Ge(U),Lt=q.getImmediate({optional:!0});if(Lt){const lr=yield Lt.getHeartbeatsHeader();lr&&Dt.append("x-firebase-client",lr)}const Kn={method:"POST",headers:Dt,body:JSON.stringify({fid:ue,authVersion:Re,appId:U.appId,sdkVersion:me})},dr=yield Ze(()=>fetch(Ye,Kn));if(dr.ok){const lr=yield dr.json();return{fid:lr.fid||ue,registrationStatus:2,refreshToken:lr.refreshToken,authToken:Je(lr.authToken)}}throw yield Qe("Create Installation",dr)})).apply(this,arguments)}function Bt(U){return new Promise(q=>{setTimeout(q,U)})}const Rt=/^[cdef][\w-]{21}$/;function ft(){try{const U=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(U),U[0]=112+U[0]%16;const ue=function Ot(U){return function on(U){return btoa(String.fromCharCode(...U)).replace(/\+/g,"-").replace(/\//g,"_")}(U).substr(0,22)}(U);return Rt.test(ue)?ue:""}catch(U){return""}}function pt(U){return`${U.appName}!${U.appId}`}const wt=new Map;function st(U,q){const ue=pt(U);en(ue,q),function Nn(U,q){const ue=function Wn(){return!sr&&"BroadcastChannel"in self&&(sr=new BroadcastChannel("[Firebase] FID Change"),sr.onmessage=U=>{en(U.data.key,U.data.fid)}),sr}();ue&&ue.postMessage({key:U,fid:q}),function or(){0===wt.size&&sr&&(sr.close(),sr=null)}()}(ue,q)}function en(U,q){const ue=wt.get(U);if(ue)for(const Ye of ue)Ye(q)}let sr=null;const Vr="firebase-installations-store";let Dn=null;function ai(){return Dn||(Dn=(0,Pe.X3)("firebase-installations-database",1,{upgrade:(U,q)=>{0===q&&U.createObjectStore(Vr)}})),Dn}function Wt(U,q){return Ur.apply(this,arguments)}function Ur(){return(Ur=(0,G.Z)(function*(U,q){const ue=pt(U),Dt=(yield ai()).transaction(Vr,"readwrite"),Lt=Dt.objectStore(Vr),cn=yield Lt.get(ue);return yield Lt.put(q,ue),yield Dt.done,(!cn||cn.fid!==q.fid)&&st(U,q.fid),q})).apply(this,arguments)}function hn(U){return ui.apply(this,arguments)}function ui(){return(ui=(0,G.Z)(function*(U){const q=pt(U),Ye=(yield ai()).transaction(Vr,"readwrite");yield Ye.objectStore(Vr).delete(q),yield Ye.done})).apply(this,arguments)}function gr(U,q){return vr.apply(this,arguments)}function vr(){return(vr=(0,G.Z)(function*(U,q){const ue=pt(U),Dt=(yield ai()).transaction(Vr,"readwrite"),Lt=Dt.objectStore(Vr),cn=yield Lt.get(ue),Kn=q(cn);return void 0===Kn?yield Lt.delete(ue):yield Lt.put(Kn,ue),yield Dt.done,Kn&&(!cn||cn.fid!==Kn.fid)&&st(U,Kn.fid),Kn})).apply(this,arguments)}function Si(U){return Oi.apply(this,arguments)}function Oi(){return(Oi=(0,G.Z)(function*(U){let q;const ue=yield gr(U.appConfig,Ye=>{const Dt=xn(Ye),Lt=On(U,Dt);return q=Lt.registrationPromise,Lt.installationEntry});return""===ue.fid?{installationEntry:yield q}:{installationEntry:ue,registrationPromise:q}})).apply(this,arguments)}function xn(U){return xi(U||{fid:ft(),registrationStatus:0})}function On(U,q){if(0===q.registrationStatus){if(!navigator.onLine)return{installationEntry:q,registrationPromise:Promise.reject(fe.create("app-offline"))};const ue={fid:q.fid,registrationStatus:1,registrationTime:Date.now()},Ye=function fn(U,q){return zn.apply(this,arguments)}(U,ue);return{installationEntry:ue,registrationPromise:Ye}}return 1===q.registrationStatus?{installationEntry:q,registrationPromise:_r(U)}:{installationEntry:q}}function zn(){return(zn=(0,G.Z)(function*(U,q){try{const ue=yield Me(U,q);return Wt(U.appConfig,ue)}catch(ue){throw He(ue)&&409===ue.customData.serverCode?yield hn(U.appConfig):yield Wt(U.appConfig,{fid:q.fid,registrationStatus:0}),ue}})).apply(this,arguments)}function _r(U){return wr.apply(this,arguments)}function wr(){return(wr=(0,G.Z)(function*(U){let q=yield Nr(U.appConfig);for(;1===q.registrationStatus;)yield Bt(100),q=yield Nr(U.appConfig);if(0===q.registrationStatus){const{installationEntry:ue,registrationPromise:Ye}=yield Si(U);return Ye||ue}return q})).apply(this,arguments)}function Nr(U){return gr(U,q=>{if(!q)throw fe.create("installation-not-found");return xi(q)})}function xi(U){return function ki(U){return 1===U.registrationStatus&&U.registrationTime+1e4<Date.now()}(U)?{fid:U.fid,registrationStatus:0}:U}function Rr(U,q){return is.apply(this,arguments)}function is(){return(is=(0,G.Z)(function*({appConfig:U,heartbeatServiceProvider:q},ue){const Ye=ar(U,ue),Dt=te(U,ue),Lt=q.getImmediate({optional:!0});if(Lt){const lr=yield Lt.getHeartbeatsHeader();lr&&Dt.append("x-firebase-client",lr)}const Kn={method:"POST",headers:Dt,body:JSON.stringify({installation:{sdkVersion:me,appId:U.appId}})},dr=yield Ze(()=>fetch(Ye,Kn));if(dr.ok)return Je(yield dr.json());throw yield Qe("Generate Auth Token",dr)})).apply(this,arguments)}function ar(U,{fid:q}){return`${Be(U)}/${q}/authTokens:generate`}function li(U){return fr.apply(this,arguments)}function fr(){return(fr=(0,G.Z)(function*(U,q=!1){let ue;const Ye=yield gr(U.appConfig,Lt=>{if(!xt(Lt))throw fe.create("not-registered");const cn=Lt.authToken;if(!q&&ge(cn))return Lt;if(1===cn.requestStatus)return ue=sn(U,q),Lt;{if(!navigator.onLine)throw fe.create("app-offline");const Kn=ze(Lt);return ue=Fe(U,Kn),Kn}});return ue?yield ue:Ye.authToken})).apply(this,arguments)}function sn(U,q){return qt.apply(this,arguments)}function qt(){return(qt=(0,G.Z)(function*(U,q){let ue=yield gt(U.appConfig);for(;1===ue.authToken.requestStatus;)yield Bt(100),ue=yield gt(U.appConfig);const Ye=ue.authToken;return 0===Ye.requestStatus?li(U,q):Ye})).apply(this,arguments)}function gt(U){return gr(U,q=>{if(!xt(q))throw fe.create("not-registered");return function At(U){return 1===U.requestStatus&&U.requestTime+1e4<Date.now()}(q.authToken)?Object.assign(Object.assign({},q),{authToken:{requestStatus:0}}):q})}function Fe(U,q){return Ke.apply(this,arguments)}function Ke(){return(Ke=(0,G.Z)(function*(U,q){try{const ue=yield Rr(U,q),Ye=Object.assign(Object.assign({},q),{authToken:ue});return yield Wt(U.appConfig,Ye),ue}catch(ue){if(!He(ue)||401!==ue.customData.serverCode&&404!==ue.customData.serverCode){const Ye=Object.assign(Object.assign({},q),{authToken:{requestStatus:0}});yield Wt(U.appConfig,Ye)}else yield hn(U.appConfig);throw ue}})).apply(this,arguments)}function xt(U){return void 0!==U&&2===U.registrationStatus}function ge(U){return 2===U.requestStatus&&!function De(U){const q=Date.now();return q<U.creationTime||U.creationTime+U.expiresIn<q+36e5}(U)}function ze(U){const q={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},U),{authToken:q})}function ln(){return(ln=(0,G.Z)(function*(U){const q=U,{installationEntry:ue,registrationPromise:Ye}=yield Si(q);return Ye?Ye.catch(console.error):li(q).catch(console.error),ue.fid})).apply(this,arguments)}function Ht(){return(Ht=(0,G.Z)(function*(U,q=!1){const ue=U;return yield Tr(ue),(yield li(ue,q)).token})).apply(this,arguments)}function Tr(U){return pn.apply(this,arguments)}function pn(){return(pn=(0,G.Z)(function*(U){const{registrationPromise:q}=yield Si(U);q&&(yield q)})).apply(this,arguments)}function Zr(U){return fe.create("missing-app-config-values",{valueName:U})}const wi="installations",xr=U=>{const q=U.getProvider("app").getImmediate(),ue=function Yr(U){if(!U||!U.options)throw Zr("App Configuration");if(!U.name)throw Zr("App Name");const q=["projectId","apiKey","appId"];for(const ue of q)if(!U.options[ue])throw Zr(ue);return{appName:U.name,projectId:U.options.projectId,apiKey:U.options.apiKey,appId:U.options.appId}}(q);return{app:q,appConfig:ue,heartbeatServiceProvider:(0,Ae._getProvider)(q,"heartbeat"),_delete:()=>Promise.resolve()}},Ps=U=>{const q=U.getProvider("app").getImmediate(),ue=(0,Ae._getProvider)(q,wi).getImmediate();return{getId:()=>function ct(U){return ln.apply(this,arguments)}(ue),getToken:Dt=>function $n(U){return Ht.apply(this,arguments)}(ue,Dt)}};(function ss(){(0,Ae._registerComponent)(new ke.wA(wi,xr,"PUBLIC")),(0,Ae._registerComponent)(new ke.wA("installations-internal",Ps,"PRIVATE"))})(),(0,Ae.registerVersion)(Ne,"0.6.3"),(0,Ae.registerVersion)(Ne,"0.6.3","esm2017");const ti="@firebase/remote-config",ci=new _e.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Vn{constructor(q,ue,Ye,Dt){this.client=q,this.storage=ue,this.storageCache=Ye,this.logger=Dt}isCachedDataFresh(q,ue){if(!ue)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const Ye=Date.now()-ue,Dt=Ye<=q;return this.logger.debug(`Config fetch cache check. Cache age millis: ${Ye}. Cache max age millis (minimumFetchIntervalMillis setting): ${q}. Is cache hit: ${Dt}.`),Dt}fetch(q){var ue=this;return(0,G.Z)(function*(){const[Ye,Dt]=yield Promise.all([ue.storage.getLastSuccessfulFetchTimestampMillis(),ue.storage.getLastSuccessfulFetchResponse()]);if(Dt&&ue.isCachedDataFresh(q.cacheMaxAgeMillis,Ye))return Dt;q.eTag=Dt&&Dt.eTag;const Lt=yield ue.client.fetch(q),cn=[ue.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===Lt.status&&cn.push(ue.storage.setLastSuccessfulFetchResponse(Lt)),yield Promise.all(cn),Lt})()}}function kn(U=navigator){return U.languages&&U.languages[0]||U.language}class rr{constructor(q,ue,Ye,Dt,Lt,cn){this.firebaseInstallations=q,this.sdkVersion=ue,this.namespace=Ye,this.projectId=Dt,this.apiKey=Lt,this.appId=cn}fetch(q){var ue=this;return(0,G.Z)(function*(){const[Ye,Dt]=yield Promise.all([ue.firebaseInstallations.getId(),ue.firebaseInstallations.getToken()]),cn=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${ue.projectId}/namespaces/${ue.namespace}:fetch?key=${ue.apiKey}`,Kn={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":q.eTag||"*"},dr={sdk_version:ue.sdkVersion,app_instance_id:Ye,app_instance_id_token:Dt,app_id:ue.appId,language_code:kn()},lr={method:"POST",headers:Kn,body:JSON.stringify(dr)},Qr=fetch(cn,lr),Bn=new Promise((ua,ro)=>{q.signal.addEventListener(()=>{const fu=new Error("The operation was aborted.");fu.name="AbortError",ro(fu)})});let ii;try{yield Promise.race([Qr,Bn]),ii=yield Qr}catch(ua){let ro="fetch-client-network";throw"AbortError"===(null==ua?void 0:ua.name)&&(ro="fetch-timeout"),ci.create(ro,{originalErrorMessage:null==ua?void 0:ua.message})}let Ss=ii.status;const Ou=ii.headers.get("ETag")||void 0;let hu,aa;if(200===ii.status){let ua;try{ua=yield ii.json()}catch(ro){throw ci.create("fetch-client-parse",{originalErrorMessage:null==ro?void 0:ro.message})}hu=ua.entries,aa=ua.state}if("INSTANCE_STATE_UNSPECIFIED"===aa?Ss=500:"NO_CHANGE"===aa?Ss=304:("NO_TEMPLATE"===aa||"EMPTY_CONFIG"===aa)&&(hu={}),304!==Ss&&200!==Ss)throw ci.create("fetch-status",{httpStatus:Ss});return{status:Ss,eTag:Ou,config:hu}})()}}class ut{constructor(q,ue){this.client=q,this.storage=ue}fetch(q){var ue=this;return(0,G.Z)(function*(){const Ye=(yield ue.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return ue.attemptFetch(q,Ye)})()}attemptFetch(q,{throttleEndTimeMillis:ue,backoffCount:Ye}){var Dt=this;return(0,G.Z)(function*(){yield function Hr(U,q){return new Promise((ue,Ye)=>{const Dt=Math.max(q-Date.now(),0),Lt=setTimeout(ue,Dt);U.addEventListener(()=>{clearTimeout(Lt),Ye(ci.create("fetch-throttle",{throttleEndTimeMillis:q}))})})}(q.signal,ue);try{const Lt=yield Dt.client.fetch(q);return yield Dt.storage.deleteThrottleMetadata(),Lt}catch(Lt){if(!function nt(U){if(!(U instanceof _e.ZR&&U.customData))return!1;const q=Number(U.customData.httpStatus);return 429===q||500===q||503===q||504===q}(Lt))throw Lt;const cn={throttleEndTimeMillis:Date.now()+(0,_e.$s)(Ye),backoffCount:Ye+1};return yield Dt.storage.setThrottleMetadata(cn),Dt.attemptFetch(q,cn)}})()}}class un{constructor(q,ue,Ye,Dt,Lt){this.app=q,this._client=ue,this._storageCache=Ye,this._storage=Dt,this._logger=Lt,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function In(U,q){const ue=U.target.error||void 0;return ci.create(q,{originalErrorMessage:ue&&(null==ue?void 0:ue.message)})}const Xn="app_namespace_store";class ir{constructor(q,ue,Ye,Dt=function vi(){return new Promise((U,q)=>{try{const ue=indexedDB.open("firebase_remote_config",1);ue.onerror=Ye=>{q(In(Ye,"storage-open"))},ue.onsuccess=Ye=>{U(Ye.target.result)},ue.onupgradeneeded=Ye=>{0===Ye.oldVersion&&Ye.target.result.createObjectStore(Xn,{keyPath:"compositeKey"})}}catch(ue){q(ci.create("storage-open",{originalErrorMessage:null==ue?void 0:ue.message}))}})}()){this.appId=q,this.appName=ue,this.namespace=Ye,this.openDbPromise=Dt}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(q){return this.set("last_fetch_status",q)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(q){return this.set("last_successful_fetch_timestamp_millis",q)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(q){return this.set("last_successful_fetch_response",q)}getActiveConfig(){return this.get("active_config")}setActiveConfig(q){return this.set("active_config",q)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(q){return this.set("active_config_etag",q)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(q){return this.set("throttle_metadata",q)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(q){var ue=this;return(0,G.Z)(function*(){const Ye=yield ue.openDbPromise;return new Promise((Dt,Lt)=>{const Kn=Ye.transaction([Xn],"readonly").objectStore(Xn),dr=ue.createCompositeKey(q);try{const lr=Kn.get(dr);lr.onerror=Qr=>{Lt(In(Qr,"storage-get"))},lr.onsuccess=Qr=>{const Bn=Qr.target.result;Dt(Bn?Bn.value:void 0)}}catch(lr){Lt(ci.create("storage-get",{originalErrorMessage:null==lr?void 0:lr.message}))}})})()}set(q,ue){var Ye=this;return(0,G.Z)(function*(){const Dt=yield Ye.openDbPromise;return new Promise((Lt,cn)=>{const dr=Dt.transaction([Xn],"readwrite").objectStore(Xn),lr=Ye.createCompositeKey(q);try{const Qr=dr.put({compositeKey:lr,value:ue});Qr.onerror=Bn=>{cn(In(Bn,"storage-set"))},Qr.onsuccess=()=>{Lt()}}catch(Qr){cn(ci.create("storage-set",{originalErrorMessage:null==Qr?void 0:Qr.message}))}})})()}delete(q){var ue=this;return(0,G.Z)(function*(){const Ye=yield ue.openDbPromise;return new Promise((Dt,Lt)=>{const Kn=Ye.transaction([Xn],"readwrite").objectStore(Xn),dr=ue.createCompositeKey(q);try{const lr=Kn.delete(dr);lr.onerror=Qr=>{Lt(In(Qr,"storage-delete"))},lr.onsuccess=()=>{Dt()}}catch(lr){Lt(ci.create("storage-delete",{originalErrorMessage:null==lr?void 0:lr.message}))}})})()}createCompositeKey(q){return[this.appId,this.appName,this.namespace,q].join()}}class gn{constructor(q){this.storage=q}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var q=this;return(0,G.Z)(function*(){const ue=q.storage.getLastFetchStatus(),Ye=q.storage.getLastSuccessfulFetchTimestampMillis(),Dt=q.storage.getActiveConfig(),Lt=yield ue;Lt&&(q.lastFetchStatus=Lt);const cn=yield Ye;cn&&(q.lastSuccessfulFetchTimestampMillis=cn);const Kn=yield Dt;Kn&&(q.activeConfig=Kn)})()}setLastFetchStatus(q){return this.lastFetchStatus=q,this.storage.setLastFetchStatus(q)}setLastSuccessfulFetchTimestampMillis(q){return this.lastSuccessfulFetchTimestampMillis=q,this.storage.setLastSuccessfulFetchTimestampMillis(q)}setActiveConfig(q){return this.activeConfig=q,this.storage.setActiveConfig(q)}}function Ir(){return Wi.apply(this,arguments)}function Wi(){return(Wi=(0,G.Z)(function*(){if(!(0,_e.hl)())return!1;try{return yield(0,_e.eu)()}catch(U){return!1}})).apply(this,arguments)}!function Vs(){(0,Ae._registerComponent)(new ke.wA("remote-config",function U(q,{instanceIdentifier:ue}){const Ye=q.getProvider("app").getImmediate(),Dt=q.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw ci.create("registration-window");if(!(0,_e.hl)())throw ci.create("indexed-db-unavailable");const{projectId:Lt,apiKey:cn,appId:Kn}=Ye.options;if(!Lt)throw ci.create("registration-project-id");if(!cn)throw ci.create("registration-api-key");if(!Kn)throw ci.create("registration-app-id");const dr=new ir(Kn,Ye.name,ue=ue||"firebase"),lr=new gn(dr),Qr=new ve.Yd(ti);Qr.logLevel=ve.in.ERROR;const Bn=new rr(Dt,Ae.SDK_VERSION,ue,Lt,cn,Kn),ii=new ut(Bn,dr),Ss=new Vn(ii,dr,lr,Qr),Ou=new un(Ye,Ss,lr,dr,Qr);return function Ie(U){const q=(0,_e.m9)(U);q._initializePromise||(q._initializePromise=q._storageCache.loadFromStorage().then(()=>{q._isInitializationComplete=!0}))}(Ou),Ou},"PUBLIC").setMultipleInstances(!0)),(0,Ae.registerVersion)(ti,"0.4.3"),(0,Ae.registerVersion)(ti,"0.4.3","esm2017")}();const Mo="/firebase-messaging-sw.js",Ns="/firebase-cloud-messaging-push-scope",Mi="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Xs="google.c.a.c_id",Pt="google.c.a.c_l",ms="google.c.a.ts",uo="google.c.a.e";var Ro=(()=>{return(U=Ro||(Ro={})).PUSH_RECEIVED="push-received",U.NOTIFICATION_CLICKED="notification-clicked",Ro;var U})();function xs(U){const q=new Uint8Array(U);return btoa(String.fromCharCode(...q)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function na(U){const ue=(U+"=".repeat((4-U.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),Ye=atob(ue),Dt=new Uint8Array(Ye.length);for(let Lt=0;Lt<Ye.length;++Lt)Dt[Lt]=Ye.charCodeAt(Lt);return Dt}const ra="fcm_token_details_db",us="fcm_token_object_Store";function Ki(U){return co.apply(this,arguments)}function co(){return co=(0,G.Z)(function*(U){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(Lt=>Lt.name).includes(ra))return null;let q=null;return(yield(0,Pe.X3)(ra,5,{upgrade:(Ye=(0,G.Z)(function*(Dt,Lt,cn,Kn){var dr;if(Lt<2||!Dt.objectStoreNames.contains(us))return;const lr=Kn.objectStore(us),Qr=yield lr.index("fcmSenderId").get(U);if(yield lr.clear(),Qr)if(2===Lt){const Bn=Qr;if(!Bn.auth||!Bn.p256dh||!Bn.endpoint)return;q={token:Bn.fcmToken,createTime:null!==(dr=Bn.createTime)&&void 0!==dr?dr:Date.now(),subscriptionOptions:{auth:Bn.auth,p256dh:Bn.p256dh,endpoint:Bn.endpoint,swScope:Bn.swScope,vapidKey:"string"==typeof Bn.vapidKey?Bn.vapidKey:xs(Bn.vapidKey)}}}else if(3===Lt){const Bn=Qr;q={token:Bn.fcmToken,createTime:Bn.createTime,subscriptionOptions:{auth:xs(Bn.auth),p256dh:xs(Bn.p256dh),endpoint:Bn.endpoint,swScope:Bn.swScope,vapidKey:xs(Bn.vapidKey)}}}else if(4===Lt){const Bn=Qr;q={token:Bn.fcmToken,createTime:Bn.createTime,subscriptionOptions:{auth:xs(Bn.auth),p256dh:xs(Bn.p256dh),endpoint:Bn.endpoint,swScope:Bn.swScope,vapidKey:xs(Bn.vapidKey)}}}}),function(Lt,cn,Kn,dr){return Ye.apply(this,arguments)})})).close(),yield(0,Pe.Lj)(ra),yield(0,Pe.Lj)("fcm_vapid_details_db"),yield(0,Pe.Lj)("undefined"),$o(q)?q:null;var Ye}),co.apply(this,arguments)}function $o(U){if(!U||!U.subscriptionOptions)return!1;const{subscriptionOptions:q}=U;return"number"==typeof U.createTime&&U.createTime>0&&"string"==typeof U.token&&U.token.length>0&&"string"==typeof q.auth&&q.auth.length>0&&"string"==typeof q.p256dh&&q.p256dh.length>0&&"string"==typeof q.endpoint&&q.endpoint.length>0&&"string"==typeof q.swScope&&q.swScope.length>0&&"string"==typeof q.vapidKey&&q.vapidKey.length>0}const Us="firebase-messaging-store";let Ct=null;function Ue(){return Ct||(Ct=(0,Pe.X3)("firebase-messaging-database",1,{upgrade:(U,q)=>{0===q&&U.createObjectStore(Us)}})),Ct}function ga(U){return Vo.apply(this,arguments)}function Vo(){return(Vo=(0,G.Z)(function*(U){const q=zs(U),Ye=yield(yield Ue()).transaction(Us).objectStore(Us).get(q);if(Ye)return Ye;{const Dt=yield Ki(U.appConfig.senderId);if(Dt)return yield Qs(U,Dt),Dt}})).apply(this,arguments)}function Qs(U,q){return Uo.apply(this,arguments)}function Uo(){return(Uo=(0,G.Z)(function*(U,q){const ue=zs(U),Dt=(yield Ue()).transaction(Us,"readwrite");return yield Dt.objectStore(Us).put(q,ue),yield Dt.done,q})).apply(this,arguments)}function Ho(U){return ma.apply(this,arguments)}function ma(){return(ma=(0,G.Z)(function*(U){const q=zs(U),Ye=(yield Ue()).transaction(Us,"readwrite");yield Ye.objectStore(Us).delete(q),yield Ye.done})).apply(this,arguments)}function zs({appConfig:U}){return U.appId}const di=new _e.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Js(U,q){return Bi.apply(this,arguments)}function Bi(){return(Bi=(0,G.Z)(function*(U,q){const ue=yield eo(U),Ye=to(q),Dt={method:"POST",headers:ue,body:JSON.stringify(Ye)};let Lt;try{Lt=yield(yield fetch(Eo(U.appConfig),Dt)).json()}catch(cn){throw di.create("token-subscribe-failed",{errorInfo:null==cn?void 0:cn.toString()})}if(Lt.error)throw di.create("token-subscribe-failed",{errorInfo:Lt.error.message});if(!Lt.token)throw di.create("token-subscribe-no-token");return Lt.token})).apply(this,arguments)}function qs(U,q){return jo.apply(this,arguments)}function jo(){return(jo=(0,G.Z)(function*(U,q){const ue=yield eo(U),Ye=to(q.subscriptionOptions),Dt={method:"PATCH",headers:ue,body:JSON.stringify(Ye)};let Lt;try{Lt=yield(yield fetch(`${Eo(U.appConfig)}/${q.token}`,Dt)).json()}catch(cn){throw di.create("token-update-failed",{errorInfo:null==cn?void 0:cn.toString()})}if(Lt.error)throw di.create("token-update-failed",{errorInfo:Lt.error.message});if(!Lt.token)throw di.create("token-update-no-token");return Lt.token})).apply(this,arguments)}function ns(U,q){return Go.apply(this,arguments)}function Go(){return(Go=(0,G.Z)(function*(U,q){const Ye={method:"DELETE",headers:yield eo(U)};try{const Lt=yield(yield fetch(`${Eo(U.appConfig)}/${q}`,Ye)).json();if(Lt.error)throw di.create("token-unsubscribe-failed",{errorInfo:Lt.error.message})}catch(Dt){throw di.create("token-unsubscribe-failed",{errorInfo:null==Dt?void 0:Dt.toString()})}})).apply(this,arguments)}function Eo({projectId:U}){return`https://fcmregistrations.googleapis.com/v1/projects/${U}/registrations`}function eo(U){return Yi.apply(this,arguments)}function Yi(){return(Yi=(0,G.Z)(function*({appConfig:U,installations:q}){const ue=yield q.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":U.apiKey,"x-goog-firebase-installations-auth":`FIS ${ue}`})})).apply(this,arguments)}function to({p256dh:U,auth:q,endpoint:ue,vapidKey:Ye}){const Dt={web:{endpoint:ue,auth:q,p256dh:U}};return Ye!==Mi&&(Dt.web.applicationPubKey=Ye),Dt}const ia=6048e5;function D(U){return K.apply(this,arguments)}function K(){return(K=(0,G.Z)(function*(U){const q=yield yr(U.swRegistration,U.vapidKey),ue={vapidKey:U.vapidKey,swScope:U.swRegistration.scope,endpoint:q.endpoint,auth:xs(q.getKey("auth")),p256dh:xs(q.getKey("p256dh"))},Ye=yield ga(U.firebaseDependencies);if(Ye){if(ri(Ye.subscriptionOptions,ue))return Date.now()>=Ye.createTime+ia?re(U,{token:Ye.token,createTime:Date.now(),subscriptionOptions:ue}):Ye.token;try{yield ns(U.firebaseDependencies,Ye.token)}catch(Dt){console.warn(Dt)}return Cn(U.firebaseDependencies,ue)}return Cn(U.firebaseDependencies,ue)})).apply(this,arguments)}function C(U){return H.apply(this,arguments)}function H(){return(H=(0,G.Z)(function*(U){const q=yield ga(U.firebaseDependencies);q&&(yield ns(U.firebaseDependencies,q.token),yield Ho(U.firebaseDependencies));const ue=yield U.swRegistration.pushManager.getSubscription();return!ue||ue.unsubscribe()})).apply(this,arguments)}function re(U,q){return Nt.apply(this,arguments)}function Nt(){return(Nt=(0,G.Z)(function*(U,q){try{const ue=yield qs(U.firebaseDependencies,q),Ye=Object.assign(Object.assign({},q),{token:ue,createTime:Date.now()});return yield Qs(U.firebaseDependencies,Ye),ue}catch(ue){throw yield C(U),ue}})).apply(this,arguments)}function Cn(U,q){return Fn.apply(this,arguments)}function Fn(){return(Fn=(0,G.Z)(function*(U,q){const Ye={token:yield Js(U,q),createTime:Date.now(),subscriptionOptions:q};return yield Qs(U,Ye),Ye.token})).apply(this,arguments)}function yr(U,q){return Br.apply(this,arguments)}function Br(){return(Br=(0,G.Z)(function*(U,q){return(yield U.pushManager.getSubscription())||U.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:na(q)})})).apply(this,arguments)}function ri(U,q){return q.vapidKey===U.vapidKey&&q.endpoint===U.endpoint&&q.auth===U.auth&&q.p256dh===U.p256dh}function ur(U){const q={from:U.from,collapseKey:U.collapse_key,messageId:U.fcmMessageId};return function os(U,q){if(!q.notification)return;U.notification={};const ue=q.notification.title;ue&&(U.notification.title=ue);const Ye=q.notification.body;Ye&&(U.notification.body=Ye);const Dt=q.notification.image;Dt&&(U.notification.image=Dt);const Lt=q.notification.icon;Lt&&(U.notification.icon=Lt)}(q,U),function L(U,q){!q.data||(U.data=q.data)}(q,U),function k(U,q){var ue,Ye,Dt,Lt,cn;if(!(q.fcmOptions||null!==(ue=q.notification)&&void 0!==ue&&ue.click_action))return;U.fcmOptions={};const Kn=null!==(Dt=null===(Ye=q.fcmOptions)||void 0===Ye?void 0:Ye.link)&&void 0!==Dt?Dt:null===(Lt=q.notification)||void 0===Lt?void 0:Lt.click_action;Kn&&(U.fcmOptions.link=Kn);const dr=null===(cn=q.fcmOptions)||void 0===cn?void 0:cn.analytics_label;dr&&(U.fcmOptions.analyticsLabel=dr)}(q,U),q}function F(U){return"object"==typeof U&&!!U&&Xs in U}function oe(U,q){const ue=[];for(let Ye=0;Ye<U.length;Ye++)ue.push(U.charAt(Ye)),Ye<q.length&&ue.push(q.charAt(Ye));return ue.join("")}function Ln(U){return di.create("missing-app-config-values",{valueName:U})}oe("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),oe("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Ri{constructor(q,ue,Ye){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const Dt=function Mt(U){if(!U||!U.options)throw Ln("App Configuration Object");if(!U.name)throw Ln("App Name");const q=["projectId","apiKey","appId","messagingSenderId"],{options:ue}=U;for(const Ye of q)if(!ue[Ye])throw Ln(Ye);return{appName:U.name,projectId:ue.projectId,apiKey:ue.apiKey,appId:ue.appId,senderId:ue.messagingSenderId}}(q);this.firebaseDependencies={app:q,appConfig:Dt,installations:ue,analyticsProvider:Ye}}_delete(){return Promise.resolve()}}function Zi(U){return Ws.apply(this,arguments)}function Ws(){return(Ws=(0,G.Z)(function*(U){try{U.swRegistration=yield navigator.serviceWorker.register(Mo,{scope:Ns}),U.swRegistration.update().catch(()=>{})}catch(q){throw di.create("failed-service-worker-registration",{browserErrorMessage:null==q?void 0:q.message})}})).apply(this,arguments)}function ks(U,q){return Po.apply(this,arguments)}function Po(){return(Po=(0,G.Z)(function*(U,q){if(!q&&!U.swRegistration&&(yield Zi(U)),q||!U.swRegistration){if(!(q instanceof ServiceWorkerRegistration))throw di.create("invalid-sw-registration");U.swRegistration=q}})).apply(this,arguments)}function Hs(U,q){return ho.apply(this,arguments)}function ho(){return(ho=(0,G.Z)(function*(U,q){q?U.vapidKey=q:U.vapidKey||(U.vapidKey=Mi)})).apply(this,arguments)}function vs(){return(vs=(0,G.Z)(function*(U,q){if(!navigator)throw di.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw di.create("permission-blocked");return yield Hs(U,null==q?void 0:q.vapidKey),yield ks(U,null==q?void 0:q.serviceWorkerRegistration),D(U)})).apply(this,arguments)}function sa(U,q,ue){return zo.apply(this,arguments)}function zo(){return(zo=(0,G.Z)(function*(U,q,ue){const Ye=fo(q);(yield U.firebaseDependencies.analyticsProvider.get()).logEvent(Ye,{message_id:ue[Xs],message_name:ue[Pt],message_time:ue[ms],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function fo(U){switch(U){case Ro.NOTIFICATION_CLICKED:return"notification_open";case Ro.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function rl(){return(rl=(0,G.Z)(function*(U,q){const ue=q.data;if(!ue.isFirebaseMessaging)return;U.onMessageHandler&&ue.messageType===Ro.PUSH_RECEIVED&&("function"==typeof U.onMessageHandler?U.onMessageHandler(ur(ue)):U.onMessageHandler.next(ur(ue)));const Ye=ue.data;F(Ye)&&"1"===Ye[uo]&&(yield sa(U,ue.messageType,Ye))})).apply(this,arguments)}const Ma="@firebase/messaging",Ks=U=>{const q=new Ri(U.getProvider("app").getImmediate(),U.getProvider("installations-internal").getImmediate(),U.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",ue=>function Tu(U,q){return rl.apply(this,arguments)}(q,ue)),q},as=U=>{const q=U.getProvider("messaging").getImmediate();return{getToken:Ye=>function zi(U,q){return vs.apply(this,arguments)}(q,Ye)}};function wo(){return Ys.apply(this,arguments)}function Ys(){return(Ys=(0,G.Z)(function*(){try{yield(0,_e.eu)()}catch(U){return!1}return typeof window<"u"&&(0,_e.hl)()&&(0,_e.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function po(){(0,Ae._registerComponent)(new ke.wA("messaging",Ks,"PUBLIC")),(0,Ae._registerComponent)(new ke.wA("messaging-internal",as,"PRIVATE")),(0,Ae.registerVersion)(Ma,"0.12.3"),(0,Ae.registerVersion)(Ma,"0.12.3","esm2017")}();const il="analytics",no="firebase_id",_a="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",qa="https://www.googletagmanager.com/gtag/js",ys=new ve.Yd("@firebase/analytics");function Xr(U){return Promise.all(U.map(q=>q.catch(ue=>ue)))}function Ui(U,q){const ue=document.createElement("script");ue.src=`${qa}?l=${U}&id=${q}`,ue.async=!0,document.head.appendChild(ue)}function X(U,q,ue,Ye,Dt,Lt){return B.apply(this,arguments)}function B(){return(B=(0,G.Z)(function*(U,q,ue,Ye,Dt,Lt){const cn=Ye[Dt];try{if(cn)yield q[cn];else{const dr=(yield Xr(ue)).find(lr=>lr.measurementId===Dt);dr&&(yield q[dr.appId])}}catch(Kn){ys.error(Kn)}U("config",Dt,Lt)})).apply(this,arguments)}function ie(U,q,ue,Ye,Dt){return qe.apply(this,arguments)}function qe(){return(qe=(0,G.Z)(function*(U,q,ue,Ye,Dt){try{let Lt=[];if(Dt&&Dt.send_to){let cn=Dt.send_to;Array.isArray(cn)||(cn=[cn]);const Kn=yield Xr(ue);for(const dr of cn){const lr=Kn.find(Bn=>Bn.measurementId===dr),Qr=lr&&q[lr.appId];if(!Qr){Lt=[];break}Lt.push(Qr)}}0===Lt.length&&(Lt=Object.values(q)),yield Promise.all(Lt),U("event",Ye,Dt||{})}catch(Lt){ys.error(Lt)}})).apply(this,arguments)}function qn(U){const q=window.document.getElementsByTagName("script");for(const ue of Object.values(q))if(ue.src&&ue.src.includes(qa)&&ue.src.includes(U))return ue;return null}const Cr=new _e.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),Qt=new class Xi{constructor(q={},ue=1e3){this.throttleMetadata=q,this.intervalMillis=ue}getThrottleMetadata(q){return this.throttleMetadata[q]}setThrottleMetadata(q,ue){this.throttleMetadata[q]=ue}deleteThrottleMetadata(q){delete this.throttleMetadata[q]}};function jr(U){return new Headers({Accept:"application/json","x-goog-api-key":U})}function Fs(U){return go.apply(this,arguments)}function go(){return(go=(0,G.Z)(function*(U){var q;const{appId:ue,apiKey:Ye}=U,Dt={method:"GET",headers:jr(Ye)},Lt=_a.replace("{app-id}",ue),cn=yield fetch(Lt,Dt);if(200!==cn.status&&304!==cn.status){let Kn="";try{const dr=yield cn.json();null!==(q=dr.error)&&void 0!==q&&q.message&&(Kn=dr.error.message)}catch(dr){}throw Cr.create("config-fetch-failed",{httpStatus:cn.status,responseMessage:Kn})}return cn.json()})).apply(this,arguments)}function mn(U){return jn.apply(this,arguments)}function jn(){return(jn=(0,G.Z)(function*(U,q=Qt,ue){const{appId:Ye,apiKey:Dt,measurementId:Lt}=U.options;if(!Ye)throw Cr.create("no-app-id");if(!Dt){if(Lt)return{measurementId:Lt,appId:Ye};throw Cr.create("no-api-key")}const cn=q.getThrottleMetadata(Ye)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Kn=new ls;return setTimeout((0,G.Z)(function*(){Kn.abort()}),void 0!==ue?ue:6e4),oa({appId:Ye,apiKey:Dt,measurementId:Lt},cn,Kn,q)})).apply(this,arguments)}function oa(U,q,ue){return bn.apply(this,arguments)}function bn(){return(bn=(0,G.Z)(function*(U,{throttleEndTimeMillis:q,backoffCount:ue},Ye,Dt=Qt){var Lt;const{appId:cn,measurementId:Kn}=U;try{yield Gt(Ye,q)}catch(dr){if(Kn)return ys.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Kn} provided in the "measurementId" field in the local Firebase config. [${null==dr?void 0:dr.message}]`),{appId:cn,measurementId:Kn};throw dr}try{const dr=yield Fs(U);return Dt.deleteThrottleMetadata(cn),dr}catch(dr){const lr=dr;if(!rn(lr)){if(Dt.deleteThrottleMetadata(cn),Kn)return ys.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Kn} provided in the "measurementId" field in the local Firebase config. [${null==lr?void 0:lr.message}]`),{appId:cn,measurementId:Kn};throw dr}const Qr=503===Number(null===(Lt=null==lr?void 0:lr.customData)||void 0===Lt?void 0:Lt.httpStatus)?(0,_e.$s)(ue,Dt.intervalMillis,30):(0,_e.$s)(ue,Dt.intervalMillis),Bn={throttleEndTimeMillis:Date.now()+Qr,backoffCount:ue+1};return Dt.setThrottleMetadata(cn,Bn),ys.debug(`Calling attemptFetch again in ${Qr} millis`),oa(U,Bn,Ye,Dt)}})).apply(this,arguments)}function Gt(U,q){return new Promise((ue,Ye)=>{const Dt=Math.max(q-Date.now(),0),Lt=setTimeout(ue,Dt);U.addEventListener(()=>{clearTimeout(Lt),Ye(Cr.create("fetch-throttle",{throttleEndTimeMillis:q}))})})}function rn(U){if(!(U instanceof _e.ZR&&U.customData))return!1;const q=Number(U.customData.httpStatus);return 429===q||500===q||503===q||504===q}class ls{constructor(){this.listeners=[]}addEventListener(q){this.listeners.push(q)}abort(){this.listeners.forEach(q=>q())}}let sl,Jn;function $a(){return($a=(0,G.Z)(function*(U,q,ue,Ye,Dt){if(Dt&&Dt.global)U("event",ue,Ye);else{const Lt=yield q;U("event",ue,Object.assign(Object.assign({},Ye),{send_to:Lt}))}})).apply(this,arguments)}function Va(U){Jn=U}function Wa(U){sl=U}function Qi(){return Yn.apply(this,arguments)}function Yn(){return(Yn=(0,G.Z)(function*(){if(!(0,_e.hl)())return ys.warn(Cr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,_e.eu)()}catch(U){return ys.warn(Cr.create("indexeddb-unavailable",{errorInfo:null==U?void 0:U.toString()}).message),!1}return!0})).apply(this,arguments)}function _i(){return(_i=(0,G.Z)(function*(U,q,ue,Ye,Dt,Lt,cn){var Kn;const dr=mn(U);dr.then(Ss=>{ue[Ss.measurementId]=Ss.appId,U.options.measurementId&&Ss.measurementId!==U.options.measurementId&&ys.warn(`The measurement ID in the local Firebase config (${U.options.measurementId}) does not match the measurement ID fetched from the server (${Ss.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Ss=>ys.error(Ss)),q.push(dr);const lr=Qi().then(Ss=>{if(Ss)return Ye.getId()}),[Qr,Bn]=yield Promise.all([dr,lr]);qn(Lt)||Ui(Lt,Qr.measurementId),Jn&&(Dt("consent","default",Jn),Va(void 0)),Dt("js",new Date);const ii=null!==(Kn=null==cn?void 0:cn.config)&&void 0!==Kn?Kn:{};return ii.origin="firebase",ii.update=!0,null!=Bn&&(ii[no]=Bn),Dt("config",Qr.measurementId,ii),sl&&(Dt("set",sl),Wa(void 0)),Qr.measurementId})).apply(this,arguments)}class dd{constructor(q){this.app=q}_delete(){return delete Hi[this.app.options.appId],Promise.resolve()}}let Hi={},Mn=[];const Ua={};let ul,Ds,Zs="dataLayer",_s=!1;function ll(U,q,ue){!function wc(){const U=[];if((0,_e.ru)()&&U.push("This is a browser extension environment."),(0,_e.zI)()||U.push("Cookies are not available."),U.length>0){const q=U.map((Ye,Dt)=>`(${Dt+1}) ${Ye}`).join(" "),ue=Cr.create("invalid-analytics-context",{errorInfo:q});ys.warn(ue.message)}}();const Ye=U.options.appId;if(!Ye)throw Cr.create("no-app-id");if(!U.options.apiKey){if(!U.options.measurementId)throw Cr.create("no-api-key");ys.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${U.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Hi[Ye])throw Cr.create("already-exists",{id:Ye});if(!_s){!function O(U){let q=[];Array.isArray(window[U])?q=window[U]:window[U]=q}(Zs);const{wrappedGtag:Lt,gtagCore:cn}=function Xt(U,q,ue,Ye,Dt){let Lt=function(...cn){window[Ye].push(arguments)};return window[Dt]&&"function"==typeof window[Dt]&&(Lt=window[Dt]),window[Dt]=function $t(U,q,ue,Ye){function Lt(){return(Lt=(0,G.Z)(function*(cn,Kn,dr){try{"event"===cn?yield ie(U,q,ue,Kn,dr):"config"===cn?yield X(U,q,ue,Ye,Kn,dr):"consent"===cn?U("consent","update",dr):U("set",Kn)}catch(lr){ys.error(lr)}})).apply(this,arguments)}return function Dt(cn,Kn,dr){return Lt.apply(this,arguments)}}(Lt,U,q,ue),{gtagCore:Lt,wrappedGtag:window[Dt]}}(Hi,Mn,Ua,Zs,"gtag");Ds=Lt,ul=cn,_s=!0}return Hi[Ye]=function mo(U,q,ue,Ye,Dt,Lt,cn){return _i.apply(this,arguments)}(U,Mn,Ua,q,ul,Zs,ue),new dd(U)}function Mu(){return Co.apply(this,arguments)}function Co(){return(Co=(0,G.Z)(function*(){if((0,_e.ru)()||!(0,_e.zI)()||!(0,_e.hl)())return!1;try{return yield(0,_e.eu)()}catch(U){return!1}})).apply(this,arguments)}const pi="@firebase/analytics";!function js(){(0,Ae._registerComponent)(new ke.wA(il,(q,{options:ue})=>ll(q.getProvider("app").getImmediate(),q.getProvider("installations-internal").getImmediate(),ue),"PUBLIC")),(0,Ae._registerComponent)(new ke.wA("analytics-internal",function U(q){try{const ue=q.getProvider(il).getImmediate();return{logEvent:(Ye,Dt,Lt)=>function bl(U,q,ue,Ye){U=(0,_e.m9)(U),function Cl(U,q,ue,Ye,Dt){return $a.apply(this,arguments)}(Ds,Hi[U.app.options.appId],q,ue,Ye).catch(Dt=>ys.error(Dt))}(ue,Ye,Dt,Lt)}}catch(ue){throw Cr.create("interop-component-reg-failed",{reason:ue})}},"PRIVATE")),(0,Ae.registerVersion)(pi,"0.9.3"),(0,Ae.registerVersion)(pi,"0.9.3","esm2017")}();var Ul=V(4408),Ya=V(7565);const So=new class Sl extends Ya.v{}(class Dl extends Ul.o{constructor(q,ue){super(q,ue),this.scheduler=q,this.work=ue}schedule(q,ue=0){return ue>0?super.schedule(q,ue):(this.delay=ue,this.state=q,this.scheduler.flush(this),this)}execute(q,ue){return ue>0||this.closed?super.execute(q,ue):this._execute(q,ue)}requestAsyncId(q,ue,Ye=0){return null!=Ye&&Ye>0||null==Ye&&this.delay>0?super.requestAsyncId(q,ue,Ye):(q.flush(this),0)}});var Ia=V(4986),lu=V(8505),Ai=V(9468),T=V(5363);const M=new c.GfV("7.5.0"),I="__angularfire_symbol__analyticsIsSupportedValue",N="__angularfire_symbol__analyticsIsSupported",j="__angularfire_symbol__remoteConfigIsSupportedValue",ne="__angularfire_symbol__remoteConfigIsSupported",ce="__angularfire_symbol__messagingIsSupportedValue",ot="__angularfire_symbol__messagingIsSupported";function Er(U,q,ue){if(q){if(1===q.length)return q[0];const Lt=q.filter(cn=>cn.app===ue);if(1===Lt.length)return Lt[0]}return ue.container.getProvider(U).getImmediate({optional:!0})}globalThis[N]||(globalThis[N]=Mu().then(U=>globalThis[I]=U).catch(()=>globalThis[I]=!1)),globalThis[ot]||(globalThis[ot]=wo().then(U=>globalThis[ce]=U).catch(()=>globalThis[ce]=!1)),globalThis[ne]||(globalThis[ne]=Ir().then(U=>globalThis[j]=U).catch(()=>globalThis[j]=!1));const Ci=(U,q)=>{const ue=q?[q]:(0,J.C6)(),Ye=[];return ue.forEach(Dt=>{Dt.container.getProvider(U).instances.forEach(cn=>{Ye.includes(cn)||Ye.push(cn)})}),Ye};function bi(){}class Es{constructor(q,ue=So){this.zone=q,this.delegate=ue}now(){return this.delegate.now()}schedule(q,ue,Ye){const Dt=this.zone;return this.delegate.schedule(function(cn){Dt.runGuarded(()=>{q.apply(this,[cn])})},ue,Ye)}}class cs{constructor(q){this.zone=q,this.task=null}call(q,ue){const Ye=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",bi,{},bi,bi)),ue.pipe((0,lu.b)({next:Ye,complete:Ye,error:Ye})).subscribe(q).add(Ye)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Ls=(()=>{class U{constructor(ue){this.ngZone=ue,this.outsideAngular=ue.runOutsideAngular(()=>new Es(Zone.current)),this.insideAngular=ue.run(()=>new Es(Zone.current,Ia.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return U.\u0275fac=function(ue){return new(ue||U)(c.LFG(c.R0b))},U.\u0275prov=c.Yz7({token:U,factory:U.\u0275fac,providedIn:"root"}),U})();function Ms(){const U=globalThis.\u0275AngularFireScheduler;if(!U)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return U}function dl(U){return Ms(),function du(U){return function(ue){return(ue=ue.lift(new cs(U.ngZone))).pipe((0,Ai.R)(U.outsideAngular),(0,T.Q)(U.insideAngular))}}(Ms())(U)}},2090:(Jt,it,V)=>{"use strict";V.d(it,{$s:()=>gt,BH:()=>Je,G6:()=>on,L:()=>Pe,LL:()=>wt,Pz:()=>Be,Sg:()=>Qe,UG:()=>te,US:()=>ke,ZB:()=>he,ZR:()=>pt,aH:()=>He,b$:()=>ye,eu:()=>bt,hl:()=>Rt,jU:()=>Ze,m9:()=>xt,ne:()=>Oi,pd:()=>vr,r3:()=>Mr,ru:()=>le,tV:()=>Ne,uI:()=>Ge,vZ:()=>Wt,w1:()=>Me,xO:()=>ui,xb:()=>Dn,z$:()=>Ve,zI:()=>ft,zd:()=>gr});const Ae=function(ge){const De=[];let ze=0;for(let At=0;At<ge.length;At++){let ct=ge.charCodeAt(At);ct<128?De[ze++]=ct:ct<2048?(De[ze++]=ct>>6|192,De[ze++]=63&ct|128):55296==(64512&ct)&&At+1<ge.length&&56320==(64512&ge.charCodeAt(At+1))?(ct=65536+((1023&ct)<<10)+(1023&ge.charCodeAt(++At)),De[ze++]=ct>>18|240,De[ze++]=ct>>12&63|128,De[ze++]=ct>>6&63|128,De[ze++]=63&ct|128):(De[ze++]=ct>>12|224,De[ze++]=ct>>6&63|128,De[ze++]=63&ct|128)}return De},ke={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(ge,De){if(!Array.isArray(ge))throw Error("encodeByteArray takes an array as a parameter");this.init_();const ze=De?this.byteToCharMapWebSafe_:this.byteToCharMap_,At=[];for(let ct=0;ct<ge.length;ct+=3){const ln=ge[ct],$n=ct+1<ge.length,Ht=$n?ge[ct+1]:0,Tr=ct+2<ge.length,pn=Tr?ge[ct+2]:0;let Te=(15&Ht)<<2|pn>>6,ht=63&pn;Tr||(ht=64,$n||(Te=64)),At.push(ze[ln>>2],ze[(3&ln)<<4|Ht>>4],ze[Te],ze[ht])}return At.join("")},encodeString(ge,De){return this.HAS_NATIVE_SUPPORT&&!De?btoa(ge):this.encodeByteArray(Ae(ge),De)},decodeString(ge,De){return this.HAS_NATIVE_SUPPORT&&!De?atob(ge):function(ge){const De=[];let ze=0,At=0;for(;ze<ge.length;){const ct=ge[ze++];if(ct<128)De[At++]=String.fromCharCode(ct);else if(ct>191&&ct<224){const ln=ge[ze++];De[At++]=String.fromCharCode((31&ct)<<6|63&ln)}else if(ct>239&&ct<365){const Tr=((7&ct)<<18|(63&ge[ze++])<<12|(63&ge[ze++])<<6|63&ge[ze++])-65536;De[At++]=String.fromCharCode(55296+(Tr>>10)),De[At++]=String.fromCharCode(56320+(1023&Tr))}else{const ln=ge[ze++],$n=ge[ze++];De[At++]=String.fromCharCode((15&ct)<<12|(63&ln)<<6|63&$n)}}return De.join("")}(this.decodeStringToByteArray(ge,De))},decodeStringToByteArray(ge,De){this.init_();const ze=De?this.charToByteMapWebSafe_:this.charToByteMap_,At=[];for(let ct=0;ct<ge.length;){const ln=ze[ge.charAt(ct++)],Ht=ct<ge.length?ze[ge.charAt(ct)]:0;++ct;const pn=ct<ge.length?ze[ge.charAt(ct)]:64;++ct;const Oe=ct<ge.length?ze[ge.charAt(ct)]:64;if(++ct,null==ln||null==Ht||null==pn||null==Oe)throw Error();At.push(ln<<2|Ht>>4),64!==pn&&(At.push(Ht<<4&240|pn>>2),64!==Oe&&At.push(pn<<6&192|Oe))}return At},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let ge=0;ge<this.ENCODED_VALS.length;ge++)this.byteToCharMap_[ge]=this.ENCODED_VALS.charAt(ge),this.charToByteMap_[this.byteToCharMap_[ge]]=ge,this.byteToCharMapWebSafe_[ge]=this.ENCODED_VALS_WEBSAFE.charAt(ge),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[ge]]=ge,ge>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(ge)]=ge,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(ge)]=ge)}}},Pe=function(ge){return function(ge){const De=Ae(ge);return ke.encodeByteArray(De,!0)}(ge).replace(/\./g,"")},Ne=function(ge){try{return ke.decodeString(ge,!0)}catch(De){console.error("base64Decode failed: ",De)}return null};function he(ge,De){if(!(De instanceof Object))return De;switch(De.constructor){case Date:return new Date(De.getTime());case Object:void 0===ge&&(ge={});break;case Array:ge=[];break;default:return De}for(const ze in De)!De.hasOwnProperty(ze)||!me(ze)||(ge[ze]=he(ge[ze],De[ze]));return ge}function me(ge){return"__proto__"!==ge}const Se=()=>{try{return function Re(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const ge=process.env.__FIREBASE_DEFAULTS__;return ge?JSON.parse(ge):void 0})()||(()=>{if(typeof document>"u")return;let ge;try{ge=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(ze){return}const De=ge&&Ne(ge[1]);return De&&JSON.parse(De)})()}catch(ge){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${ge}`)}},He=()=>{var ge;return null===(ge=Se())||void 0===ge?void 0:ge.config},Be=ge=>{var De;return null===(De=Se())||void 0===De?void 0:De[`_${ge}`]};class Je{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((De,ze)=>{this.resolve=De,this.reject=ze})}wrapCallback(De){return(ze,At)=>{ze?this.reject(ze):this.resolve(At),"function"==typeof De&&(this.promise.catch(()=>{}),1===De.length?De(ze):De(ze,At))}}}function Qe(ge,De){if(ge.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const At=De||"demo-project",ct=ge.iat||0,ln=ge.sub||ge.user_id;if(!ln)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const $n=Object.assign({iss:`https://securetoken.google.com/${At}`,aud:At,iat:ct,exp:ct+3600,auth_time:ct,sub:ln,user_id:ln,firebase:{sign_in_provider:"custom",identities:{}}},ge);return[Pe(JSON.stringify({alg:"none",type:"JWT"})),Pe(JSON.stringify($n)),""].join(".")}function Ve(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Ge(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ve())}function te(){var ge;const De=null===(ge=Se())||void 0===ge?void 0:ge.forceEnvironment;if("node"===De)return!0;if("browser"===De)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(ze){return!1}}function Ze(){return"object"==typeof self&&self.self===self}function le(){const ge="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof ge&&void 0!==ge.id}function ye(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Me(){const ge=Ve();return ge.indexOf("MSIE ")>=0||ge.indexOf("Trident/")>=0}function on(){return!te()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Rt(){try{return"object"==typeof indexedDB}catch(ge){return!1}}function bt(){return new Promise((ge,De)=>{try{let ze=!0;const At="validate-browser-context-for-indexeddb-analytics-module",ct=self.indexedDB.open(At);ct.onsuccess=()=>{ct.result.close(),ze||self.indexedDB.deleteDatabase(At),ge(!0)},ct.onupgradeneeded=()=>{ze=!1},ct.onerror=()=>{var ln;De((null===(ln=ct.error)||void 0===ln?void 0:ln.message)||"")}}catch(ze){De(ze)}})}function ft(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class pt extends Error{constructor(De,ze,At){super(ze),this.code=De,this.customData=At,this.name="FirebaseError",Object.setPrototypeOf(this,pt.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,wt.prototype.create)}}class wt{constructor(De,ze,At){this.service=De,this.serviceName=ze,this.errors=At}create(De,...ze){const At=ze[0]||{},ct=`${this.service}/${De}`,ln=this.errors[De],$n=ln?function st(ge,De){return ge.replace(nn,(ze,At)=>{const ct=De[At];return null!=ct?String(ct):`<${At}?>`})}(ln,At):"Error";return new pt(ct,`${this.serviceName}: ${$n} (${ct}).`,At)}}const nn=/\{\$([^}]+)}/g;function Mr(ge,De){return Object.prototype.hasOwnProperty.call(ge,De)}function Dn(ge){for(const De in ge)if(Object.prototype.hasOwnProperty.call(ge,De))return!1;return!0}function Wt(ge,De){if(ge===De)return!0;const ze=Object.keys(ge),At=Object.keys(De);for(const ct of ze){if(!At.includes(ct))return!1;const ln=ge[ct],$n=De[ct];if(Ur(ln)&&Ur($n)){if(!Wt(ln,$n))return!1}else if(ln!==$n)return!1}for(const ct of At)if(!ze.includes(ct))return!1;return!0}function Ur(ge){return null!==ge&&"object"==typeof ge}function ui(ge){const De=[];for(const[ze,At]of Object.entries(ge))Array.isArray(At)?At.forEach(ct=>{De.push(encodeURIComponent(ze)+"="+encodeURIComponent(ct))}):De.push(encodeURIComponent(ze)+"="+encodeURIComponent(At));return De.length?"&"+De.join("&"):""}function gr(ge){const De={};return ge.replace(/^\?/,"").split("&").forEach(At=>{if(At){const[ct,ln]=At.split("=");De[decodeURIComponent(ct)]=decodeURIComponent(ln)}}),De}function vr(ge){const De=ge.indexOf("?");if(!De)return"";const ze=ge.indexOf("#",De);return ge.substring(De,ze>0?ze:void 0)}function Oi(ge,De){const ze=new xn(ge,De);return ze.subscribe.bind(ze)}class xn{constructor(De,ze){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=ze,this.task.then(()=>{De(this)}).catch(At=>{this.error(At)})}next(De){this.forEachObserver(ze=>{ze.next(De)})}error(De){this.forEachObserver(ze=>{ze.error(De)}),this.close(De)}complete(){this.forEachObserver(De=>{De.complete()}),this.close()}subscribe(De,ze,At){let ct;if(void 0===De&&void 0===ze&&void 0===At)throw new Error("Missing Observer.");ct=function fn(ge,De){if("object"!=typeof ge||null===ge)return!1;for(const ze of De)if(ze in ge&&"function"==typeof ge[ze])return!0;return!1}(De,["next","error","complete"])?De:{next:De,error:ze,complete:At},void 0===ct.next&&(ct.next=zn),void 0===ct.error&&(ct.error=zn),void 0===ct.complete&&(ct.complete=zn);const ln=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?ct.error(this.finalError):ct.complete()}catch($n){}}),this.observers.push(ct),ln}unsubscribeOne(De){void 0===this.observers||void 0===this.observers[De]||(delete this.observers[De],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(De){if(!this.finalized)for(let ze=0;ze<this.observers.length;ze++)this.sendOne(ze,De)}sendOne(De,ze){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[De])try{ze(this.observers[De])}catch(At){typeof console<"u"&&console.error&&console.error(At)}})}close(De){this.finalized||(this.finalized=!0,void 0!==De&&(this.finalError=De),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function zn(){}function gt(ge,De=1e3,ze=2){const At=De*Math.pow(ze,ge),ct=Math.round(.5*At*(Math.random()-.5)*2);return Math.min(144e5,At+ct)}function xt(ge){return ge&&ge._delegate?ge._delegate:ge}},603:(Jt,it,V)=>{"use strict";V.d(it,{Br:()=>Uo,We:()=>Ur,eh:()=>hn,dr:()=>ui,fn:()=>xn,gZ:()=>On,YG:()=>fn,Sm:()=>zn,wI:()=>ar,W2:()=>li,IJ:()=>qt,W4:()=>gt,zq:()=>Fe,fr:()=>Ke,jY:()=>xt,gu:()=>De,pK:()=>ln,Ie:()=>$n,Q$:()=>Te,q_:()=>ht,z0:()=>Tn,ki:()=>Ue,d8:()=>ga,jP:()=>xs,Nd:()=>Jr,t9:()=>Fr,n0:()=>Li,CK:()=>mi,yW:()=>be,wd:()=>zt,sr:()=>vn,Pc:()=>ia,r4:()=>Eo,YI:()=>Ki,QI:()=>or,j9:()=>cr});var c=V(4650),J=V(433),G=V(655),Ae=V(4968),_e=V(7579),ke=V(1135),ve=V(5892),me=(V(181),V(6439),V(7838),V(1898),V(5179)),Re=V(5730),We=V(5820),je=V(1843),Se=(V(6369),V(3539)),He=(V(3457),V(4349),V(1308)),Ve=V(9300),Ge=V(3900),te=V(1884),Ze=V(6895);const ye=me.i,Xe=["*"];function bt(D,K){if(1&D&&(c.TgZ(0,"div",1),c.GkF(1,2),c.qZA()),2&D){const C=c.oxw();c.xp6(1),c.Q6J("ngTemplateOutlet",C.template)}}function ft(D,K){if(1&D&&c.GkF(0,1),2&D){const C=c.oxw();c.Q6J("ngTemplateOutlet",C.template)}}const Ot=D=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(D):"function"==typeof requestAnimationFrame?requestAnimationFrame(D):setTimeout(D),pt=D=>!!D.resolveComponentFactory;let wt=(()=>{class D{constructor(C,H){this.injector=C,this.el=H,this.onChange=()=>{},this.onTouched=()=>{}}writeValue(C){this.el.nativeElement.value=this.lastValue=null==C?"":C,st(this.el)}handleChangeEvent(C,H){C===this.el.nativeElement&&(H!==this.lastValue&&(this.lastValue=H,this.onChange(H)),st(this.el))}_handleBlurEvent(C){C===this.el.nativeElement&&(this.onTouched(),st(this.el))}registerOnChange(C){this.onChange=C}registerOnTouched(C){this.onTouched=C}setDisabledState(C){this.el.nativeElement.disabled=C}ngOnDestroy(){this.statusChanges&&this.statusChanges.unsubscribe()}ngAfterViewInit(){let C;try{C=this.injector.get(J.a5)}catch(re){}if(!C)return;C.statusChanges&&(this.statusChanges=C.statusChanges.subscribe(()=>st(this.el)));const H=C.control;H&&["markAsTouched","markAllAsTouched","markAsUntouched","markAsDirty","markAsPristine"].forEach(Nt=>{if(typeof H[Nt]<"u"){const Cn=H[Nt].bind(H);H[Nt]=(...Fn)=>{Cn(...Fn),st(this.el)}}})}}return D.\u0275fac=function(C){return new(C||D)(c.Y36(c.zs3),c.Y36(c.SBq))},D.\u0275dir=c.lG2({type:D,hostBindings:function(C,H){1&C&&c.NdJ("ionBlur",function(Nt){return H._handleBlurEvent(Nt.target)})}}),D})();const st=D=>{Ot(()=>{const K=D.nativeElement,C=null!=K.value&&K.value.toString().length>0,H=nn(K);Kt(K,H);const re=K.closest("ion-item");re&&Kt(re,C?[...H,"item-has-value"]:H)})},nn=D=>{const K=D.classList,C=[];for(let H=0;H<K.length;H++){const re=K.item(H);null!==re&&en(re,"ng-")&&C.push(`ion-${re.substring(3)}`)}return C},Kt=(D,K)=>{const C=D.classList;C.remove("ion-valid","ion-invalid","ion-touched","ion-untouched","ion-dirty","ion-pristine"),C.add(...K)},en=(D,K)=>D.substring(0,K.length)===K;let or=(()=>{class D extends wt{constructor(C,H){super(C,H)}_handleChangeEvent(C){this.handleChangeEvent(C,C.value)}}return D.\u0275fac=function(C){return new(C||D)(c.Y36(c.zs3),c.Y36(c.SBq))},D.\u0275dir=c.lG2({type:D,selectors:[["ion-range"],["ion-select"],["ion-radio-group"],["ion-segment"],["ion-datetime"]],hostBindings:function(C,H){1&C&&c.NdJ("ionChange",function(Nt){return H._handleChangeEvent(Nt.target)})},features:[c._Bn([{provide:J.JU,useExisting:D,multi:!0}]),c.qOj]}),D})(),cr=(()=>{class D extends wt{constructor(C,H){super(C,H)}_handleInputEvent(C){this.handleChangeEvent(C,C.value)}}return D.\u0275fac=function(C){return new(C||D)(c.Y36(c.zs3),c.Y36(c.SBq))},D.\u0275dir=c.lG2({type:D,selectors:[["ion-input",3,"type","number"],["ion-textarea"],["ion-searchbar"]],hostBindings:function(C,H){1&C&&c.NdJ("ionChange",function(Nt){return H._handleInputEvent(Nt.target)})},features:[c._Bn([{provide:J.JU,useExisting:D,multi:!0}]),c.qOj]}),D})();const Mr=(D,K)=>{const C=D.prototype;K.forEach(H=>{Object.defineProperty(C,H,{get(){return this.el[H]},set(re){this.z.runOutsideAngular(()=>this.el[H]=re)}})})},Vr=(D,K)=>{const C=D.prototype;K.forEach(H=>{C[H]=function(){const re=arguments;return this.z.runOutsideAngular(()=>this.el[H].apply(this.el,re))}})},Dn=(D,K,C)=>{C.forEach(H=>D[H]=(0,Ae.R)(K,H))};function Wt(D){return function(C){const{defineCustomElementFn:H,inputs:re,methods:Nt}=D;return void 0!==H&&H(),re&&Mr(C,re),Nt&&Vr(C,Nt),C}}let Ur=(()=>{let D=class{constructor(C,H,re){this.z=re,C.detach(),this.el=H.nativeElement}};return D.\u0275fac=function(C){return new(C||D)(c.Y36(c.sBO),c.Y36(c.SBq),c.Y36(c.R0b))},D.\u0275cmp=c.Xpm({type:D,selectors:[["ion-accordion"]],inputs:{disabled:"disabled",mode:"mode",readonly:"readonly",toggleIcon:"toggleIcon",toggleIconSlot:"toggleIconSlot",value:"value"},ngContentSelectors:Xe,decls:1,vars:0,template:function(C,H){1&C&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),D=(0,G.gn)([Wt({defineCustomElementFn:void 0,inputs:["disabled","mode","readonly","toggleIcon","toggleIconSlot","value"]})],D),D})(),hn=(()=>{let D=class{constructor(C,H,re){this.z=re,C.detach(),this.el=H.nativeElement,Dn(this,this.el,["ionChange"])}};return D.\u0275fac=function(C){return new(C||D)(c.Y36(c.sBO),c.Y36(c.SBq),c.Y36(c.R0b))},D.\u0275cmp=c.Xpm({type:D,selectors:[["ion-accordion-group"]],inputs:{animated:"animated",disabled:"disabled",expand:"expand",mode:"mode",multiple:"multiple",readonly:"readonly",value:"value"},ngContentSelectors:Xe,decls:1,vars:0,template:function(C,H){1&C&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),D=(0,G.gn)([Wt({defineCustomElementFn:void 0,inputs:["animated","disabled","expand","mode","multiple","readonly","value"]})],D),D})(),ui=(()=>{let D=class{constructor(C,H,re){this.z=re,C.detach(),this.el=H.nativeElement}};return D.\u0275fac=function(C){return new(C||D)(c.Y36(c.sBO),c.Y36(c.SBq),c.Y36(c.R0b))},D.\u0275cmp=c.Xpm({type:D,selectors:[["ion-app"]],ngContentSelectors:Xe,decls:1,vars:0,template:function(C,H){1&C&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),D=(0,G.gn)([Wt({defineCustomElementFn:void 0})],D),D})(),xn=(()=>{let D=class{constructor(C,H,re){this.z=re,C.detach(),this.el=H.nativeElement,Dn(this,this.el,["ionFocus","ionBlur"])}};return D.\u0275fac=function(C){return new(C||D)(c.Y36(c.sBO),c.Y36(c.SBq),c.Y36(c.R0b))},D.\u0275cmp=c.Xpm({type:D,selectors:[["ion-breadcrumb"]],inputs:{active:"active",color:"color",disabled:"disabled",download:"download",href:"href",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",separator:"separator",target:"target"},ngContentSelectors:Xe,decls:1,vars:0,template:function(C,H){1&C&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),D=(0,G.gn)([Wt({defineCustomElementFn:void 0,inputs:["active","color","disabled","download","href","mode","rel","routerAnimation","routerDirection","separator","target"]})],D),D})(),On=(()=>{let D=class{constructor(C,H,re){this.z=re,C.detach(),this.el=H.nativeElement,Dn(this,this.el,["ionCollapsedClick"])}};return D.\u0275fac=function(C){return new(C||D)(c.Y36(c.sBO),c.Y36(c.SBq),c.Y36(c.R0b))},D.\u0275cmp=c.Xpm({type:D,selectors:[["ion-breadcrumbs"]],inputs:{color:"color",itemsAfterCollapse:"itemsAfterCollapse",itemsBeforeCollapse:"itemsBeforeCollapse",maxItems:"maxItems",mode:"mode"},ngContentSelectors:Xe,decls:1,vars:0,template:function(C,H){1&C&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),D=(0,G.gn)([Wt({defineCustomElementFn:void 0,inputs:["color","itemsAfterCollapse","itemsBeforeCollapse","maxItems","mode"]})],D),D})(),fn=(()=>{let D=class{constructor(C,H,re){this.z=re,C.detach(),this.el=H.nativeElement,Dn(this,this.el,["ionFocus","ionBlur"])}};return D.\u0275fac=function(C){return new(C||D)(c.Y36(c.sBO),c.Y36(c.SBq),c.Y36(c.R0b))},D.\u0275cmp=c.Xpm({type:D,selectors:[["ion-button"]],inputs:{buttonType:"buttonType",color:"color",disabled:"disabled",download:"download",expand:"expand",fill:"fill",form:"form",href:"href",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",shape:"shape",size:"size",strong:"strong",target:"target",type:"type"},ngContentSelectors:Xe,decls:1,vars:0,template:function(C,H){1&C&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),D=(0,G.gn)([Wt({defineCustomElementFn:void 0,inputs:["buttonType","color","disabled","download","expand","fill","form","href","mode","rel","routerAnimation","routerDirection","shape","size","strong","target","type"]})],D),D})(),zn=(()=>{let D=class{constructor(C,H,re){this.z=re,C.detach(),this.el=H.nativeElement}};return D.\u0275fac=function(C){return new(C||D)(c.Y36(c.sBO),c.Y36(c.SBq),c.Y36(c.R0b))},D.\u0275cmp=c.Xpm({type:D,selectors:[["ion-buttons"]],inputs:{collapse:"collapse"},ngContentSelectors:Xe,decls:1,vars:0,template:function(C,H){1&C&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),D=(0,G.gn)([Wt({defineCustomElementFn:void 0,inputs:["collapse"]})],D),D})(),ar=(()=>{let D=class{constructor(C,H,re){this.z=re,C.detach(),this.el=H.nativeElement}};return D.\u0275fac=function(C){return new(C||D)(c.Y36(c.sBO),c.Y36(c.SBq),c.Y36(c.R0b))},D.\u0275cmp=c.Xpm({type:D,selectors:[["ion-col"]],inputs:{offset:"offset",offsetLg:"offsetLg",offsetMd:"offsetMd",offsetSm:"offsetSm",offsetXl:"offsetXl",offsetXs:"offsetXs",pull:"pull",pullLg:"pullLg",pullMd:"pullMd",pullSm:"pullSm",pullXl:"pullXl",pullXs:"pullXs",push:"push",pushLg:"pushLg",pushMd:"pushMd",pushSm:"pushSm",pushXl:"pushXl",pushXs:"pushXs",size:"size",sizeLg:"sizeLg",sizeMd:"sizeMd",sizeSm:"sizeSm",sizeXl:"sizeXl",sizeXs:"sizeXs"},ngContentSelectors:Xe,decls:1,vars:0,template:function(C,H){1&C&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),D=(0,G.gn)([Wt({defineCustomElementFn:void 0,inputs:["offset","offsetLg","offsetMd","offsetSm","offsetXl","offsetXs","pull","pullLg","pullMd","pullSm","pullXl","pullXs","push","pushLg","pushMd","pushSm","pushXl","pushXs","size","sizeLg","sizeMd","sizeSm","sizeXl","sizeXs"]})],D),D})(),li=(()=>{let D=class{constructor(C,H,re){this.z=re,C.detach(),this.el=H.nativeElement,Dn(this,this.el,["ionScrollStart","ionScroll","ionScrollEnd"])}};return D.\u0275fac=function(C){return new(C||D)(c.Y36(c.sBO),c.Y36(c.SBq),c.Y36(c.R0b))},D.\u0275cmp=c.Xpm({type:D,selectors:[["ion-content"]],inputs:{color:"color",forceOverscroll:"forceOverscroll",fullscreen:"fullscreen",scrollEvents:"scrollEvents",scrollX:"scrollX",scrollY:"scrollY"},ngContentSelectors:Xe,decls:1,vars:0,template:function(C,H){1&C&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),D=(0,G.gn)([Wt({defineCustomElementFn:void 0,inputs:["color","forceOverscroll","fullscreen","scrollEvents","scrollX","scrollY"],methods:["getScrollElement","scrollToTop","scrollToBottom","scrollByPoint","scrollToPoint"]})],D),D})(),qt=(()=>{let D=class{constructor(C,H,re){this.z=re,C.detach(),this.el=H.nativeElement}};return D.\u0275fac=function(C){return new(C||D)(c.Y36(c.sBO),c.Y36(c.SBq),c.Y36(c.R0b))},D.\u0275cmp=c.Xpm({type:D,selectors:[["ion-fab"]],inputs:{activated:"activated",edge:"edge",horizontal:"horizontal",vertical:"vertical"},ngContentSelectors:Xe,decls:1,vars:0,template:function(C,H){1&C&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),D=(0,G.gn)([Wt({defineCustomElementFn:void 0,inputs:["activated","edge","horizontal","vertical"],methods:["close"]})],D),D})(),gt=(()=>{let D=class{constructor(C,H,re){this.z=re,C.detach(),this.el=H.nativeElement,Dn(this,this.el,["ionFocus","ionBlur"])}};return D.\u0275fac=function(C){return new(C||D)(c.Y36(c.sBO),c.Y36(c.SBq),c.Y36(c.R0b))},D.\u0275cmp=c.Xpm({type:D,selectors:[["ion-fab-button"]],inputs:{activated:"activated",closeIcon:"closeIcon",color:"color",disabled:"disabled",download:"download",href:"href",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",show:"show",size:"size",target:"target",translucent:"translucent",type:"type"},ngContentSelectors:Xe,decls:1,vars:0,template:function(C,H){1&C&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),D=(0,G.gn)([Wt({defineCustomElementFn:void 0,inputs:["activated","closeIcon","color","disabled","download","href","mode","rel","routerAnimation","routerDirection","show","size","target","translucent","type"]})],D),D})(),Fe=(()=>{let D=class{constructor(C,H,re){this.z=re,C.detach(),this.el=H.nativeElement}};return D.\u0275fac=function(C){return new(C||D)(c.Y36(c.sBO),c.Y36(c.SBq),c.Y36(c.R0b))},D.\u0275cmp=c.Xpm({type:D,selectors:[["ion-fab-list"]],inputs:{activated:"activated",side:"side"},ngContentSelectors:Xe,decls:1,vars:0,template:function(C,H){1&C&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),D=(0,G.gn)([Wt({defineCustomElementFn:void 0,inputs:["activated","side"]})],D),D})(),Ke=(()=>{let D=class{constructor(C,H,re){this.z=re,C.detach(),this.el=H.nativeElement}};return D.\u0275fac=function(C){return new(C||D)(c.Y36(c.sBO),c.Y36(c.SBq),c.Y36(c.R0b))},D.\u0275cmp=c.Xpm({type:D,selectors:[["ion-footer"]],inputs:{collapse:"collapse",mode:"mode",translucent:"translucent"},ngContentSelectors:Xe,decls:1,vars:0,template:function(C,H){1&C&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),D=(0,G.gn)([Wt({defineCustomElementFn:void 0,inputs:["collapse","mode","translucent"]})],D),D})(),xt=(()=>{let D=class{constructor(C,H,re){this.z=re,C.detach(),this.el=H.nativeElement}};return D.\u0275fac=function(C){return new(C||D)(c.Y36(c.sBO),c.Y36(c.SBq),c.Y36(c.R0b))},D.\u0275cmp=c.Xpm({type:D,selectors:[["ion-grid"]],inputs:{fixed:"fixed"},ngContentSelectors:Xe,decls:1,vars:0,template:function(C,H){1&C&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),D=(0,G.gn)([Wt({defineCustomElementFn:void 0,inputs:["fixed"]})],D),D})(),De=(()=>{let D=class{constructor(C,H,re){this.z=re,C.detach(),this.el=H.nativeElement}};return D.\u0275fac=function(C){return new(C||D)(c.Y36(c.sBO),c.Y36(c.SBq),c.Y36(c.R0b))},D.\u0275cmp=c.Xpm({type:D,selectors:[["ion-icon"]],inputs:{color:"color",flipRtl:"flipRtl",icon:"icon",ios:"ios",lazy:"lazy",md:"md",mode:"mode",name:"name",sanitize:"sanitize",size:"size",src:"src"},ngContentSelectors:Xe,decls:1,vars:0,template:function(C,H){1&C&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),D=(0,G.gn)([Wt({defineCustomElementFn:void 0,inputs:["color","flipRtl","icon","ios","lazy","md","mode","name","sanitize","size","src"]})],D),D})(),ln=(()=>{let D=class{constructor(C,H,re){this.z=re,C.detach(),this.el=H.nativeElement,Dn(this,this.el,["ionInput","ionChange","ionBlur","ionFocus"])}};return D.\u0275fac=function(C){return new(C||D)(c.Y36(c.sBO),c.Y36(c.SBq),c.Y36(c.R0b))},D.\u0275cmp=c.Xpm({type:D,selectors:[["ion-input"]],inputs:{accept:"accept",autocapitalize:"autocapitalize",autocomplete:"autocomplete",autocorrect:"autocorrect",autofocus:"autofocus",clearInput:"clearInput",clearOnEdit:"clearOnEdit",color:"color",debounce:"debounce",disabled:"disabled",enterkeyhint:"enterkeyhint",inputmode:"inputmode",max:"max",maxlength:"maxlength",min:"min",minlength:"minlength",mode:"mode",multiple:"multiple",name:"name",pattern:"pattern",placeholder:"placeholder",readonly:"readonly",required:"required",size:"size",spellcheck:"spellcheck",step:"step",type:"type",value:"value"},ngContentSelectors:Xe,decls:1,vars:0,template:function(C,H){1&C&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),D=(0,G.gn)([Wt({defineCustomElementFn:void 0,inputs:["accept","autocapitalize","autocomplete","autocorrect","autofocus","clearInput","clearOnEdit","color","debounce","disabled","enterkeyhint","inputmode","max","maxlength","min","minlength","mode","multiple","name","pattern","placeholder","readonly","required","size","spellcheck","step","type","value"],methods:["setFocus","getInputElement"]})],D),D})(),$n=(()=>{let D=class{constructor(C,H,re){this.z=re,C.detach(),this.el=H.nativeElement}};return D.\u0275fac=function(C){return new(C||D)(c.Y36(c.sBO),c.Y36(c.SBq),c.Y36(c.R0b))},D.\u0275cmp=c.Xpm({type:D,selectors:[["ion-item"]],inputs:{button:"button",color:"color",counter:"counter",counterFormatter:"counterFormatter",detail:"detail",detailIcon:"detailIcon",disabled:"disabled",download:"download",fill:"fill",href:"href",lines:"lines",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",shape:"shape",target:"target",type:"type"},ngContentSelectors:Xe,decls:1,vars:0,template:function(C,H){1&C&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),D=(0,G.gn)([Wt({defineCustomElementFn:void 0,inputs:["button","color","counter","counterFormatter","detail","detailIcon","disabled","download","fill","href","lines","mode","rel","routerAnimation","routerDirection","shape","target","type"]})],D),D})(),Te=(()=>{let D=class{constructor(C,H,re){this.z=re,C.detach(),this.el=H.nativeElement}};return D.\u0275fac=function(C){return new(C||D)(c.Y36(c.sBO),c.Y36(c.SBq),c.Y36(c.R0b))},D.\u0275cmp=c.Xpm({type:D,selectors:[["ion-label"]],inputs:{color:"color",mode:"mode",position:"position"},ngContentSelectors:Xe,decls:1,vars:0,template:function(C,H){1&C&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),D=(0,G.gn)([Wt({defineCustomElementFn:void 0,inputs:["color","mode","position"]})],D),D})(),ht=(()=>{let D=class{constructor(C,H,re){this.z=re,C.detach(),this.el=H.nativeElement}};return D.\u0275fac=function(C){return new(C||D)(c.Y36(c.sBO),c.Y36(c.SBq),c.Y36(c.R0b))},D.\u0275cmp=c.Xpm({type:D,selectors:[["ion-list"]],inputs:{inset:"inset",lines:"lines",mode:"mode"},ngContentSelectors:Xe,decls:1,vars:0,template:function(C,H){1&C&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),D=(0,G.gn)([Wt({defineCustomElementFn:void 0,inputs:["inset","lines","mode"],methods:["closeSlidingItems"]})],D),D})(),Tn=(()=>{let D=class{constructor(C,H,re){this.z=re,C.detach(),this.el=H.nativeElement,Dn(this,this.el,["ionWillOpen","ionWillClose","ionDidOpen","ionDidClose"])}};return D.\u0275fac=function(C){return new(C||D)(c.Y36(c.sBO),c.Y36(c.SBq),c.Y36(c.R0b))},D.\u0275cmp=c.Xpm({type:D,selectors:[["ion-menu"]],inputs:{contentId:"contentId",disabled:"disabled",maxEdgeStart:"maxEdgeStart",menuId:"menuId",side:"side",swipeGesture:"swipeGesture",type:"type"},ngContentSelectors:Xe,decls:1,vars:0,template:function(C,H){1&C&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),D=(0,G.gn)([Wt({defineCustomElementFn:void 0,inputs:["contentId","disabled","maxEdgeStart","menuId","side","swipeGesture","type"],methods:["isOpen","isActive","open","close","toggle","setOpen"]})],D),D})(),Jr=(()=>{let D=class{constructor(C,H,re){this.z=re,C.detach(),this.el=H.nativeElement}};return D.\u0275fac=function(C){return new(C||D)(c.Y36(c.sBO),c.Y36(c.SBq),c.Y36(c.R0b))},D.\u0275cmp=c.Xpm({type:D,selectors:[["ion-row"]],ngContentSelectors:Xe,decls:1,vars:0,template:function(C,H){1&C&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),D=(0,G.gn)([Wt({defineCustomElementFn:void 0})],D),D})(),Fr=(()=>{let D=class{constructor(C,H,re){this.z=re,C.detach(),this.el=H.nativeElement,Dn(this,this.el,["ionChange","ionCancel","ionDismiss","ionFocus","ionBlur"])}};return D.\u0275fac=function(C){return new(C||D)(c.Y36(c.sBO),c.Y36(c.SBq),c.Y36(c.R0b))},D.\u0275cmp=c.Xpm({type:D,selectors:[["ion-select"]],inputs:{cancelText:"cancelText",compareWith:"compareWith",disabled:"disabled",interface:"interface",interfaceOptions:"interfaceOptions",mode:"mode",multiple:"multiple",name:"name",okText:"okText",placeholder:"placeholder",selectedText:"selectedText",value:"value"},ngContentSelectors:Xe,decls:1,vars:0,template:function(C,H){1&C&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),D=(0,G.gn)([Wt({defineCustomElementFn:void 0,inputs:["cancelText","compareWith","disabled","interface","interfaceOptions","mode","multiple","name","okText","placeholder","selectedText","value"],methods:["open"]})],D),D})(),Li=(()=>{let D=class{constructor(C,H,re){this.z=re,C.detach(),this.el=H.nativeElement}};return D.\u0275fac=function(C){return new(C||D)(c.Y36(c.sBO),c.Y36(c.SBq),c.Y36(c.R0b))},D.\u0275cmp=c.Xpm({type:D,selectors:[["ion-select-option"]],inputs:{disabled:"disabled",value:"value"},ngContentSelectors:Xe,decls:1,vars:0,template:function(C,H){1&C&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),D=(0,G.gn)([Wt({defineCustomElementFn:void 0,inputs:["disabled","value"]})],D),D})(),mi=(()=>{let D=class{constructor(C,H,re){this.z=re,C.detach(),this.el=H.nativeElement}};return D.\u0275fac=function(C){return new(C||D)(c.Y36(c.sBO),c.Y36(c.SBq),c.Y36(c.R0b))},D.\u0275cmp=c.Xpm({type:D,selectors:[["ion-skeleton-text"]],inputs:{animated:"animated"},ngContentSelectors:Xe,decls:1,vars:0,template:function(C,H){1&C&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),D=(0,G.gn)([Wt({defineCustomElementFn:void 0,inputs:["animated"]})],D),D})(),be=(()=>{let D=class{constructor(C,H,re){this.z=re,C.detach(),this.el=H.nativeElement}};return D.\u0275fac=function(C){return new(C||D)(c.Y36(c.sBO),c.Y36(c.SBq),c.Y36(c.R0b))},D.\u0275cmp=c.Xpm({type:D,selectors:[["ion-text"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:Xe,decls:1,vars:0,template:function(C,H){1&C&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),D=(0,G.gn)([Wt({defineCustomElementFn:void 0,inputs:["color","mode"]})],D),D})(),zt=(()=>{let D=class{constructor(C,H,re){this.z=re,C.detach(),this.el=H.nativeElement}};return D.\u0275fac=function(C){return new(C||D)(c.Y36(c.sBO),c.Y36(c.SBq),c.Y36(c.R0b))},D.\u0275cmp=c.Xpm({type:D,selectors:[["ion-title"]],inputs:{color:"color",size:"size"},ngContentSelectors:Xe,decls:1,vars:0,template:function(C,H){1&C&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),D=(0,G.gn)([Wt({defineCustomElementFn:void 0,inputs:["color","size"]})],D),D})(),vn=(()=>{let D=class{constructor(C,H,re){this.z=re,C.detach(),this.el=H.nativeElement}};return D.\u0275fac=function(C){return new(C||D)(c.Y36(c.sBO),c.Y36(c.SBq),c.Y36(c.R0b))},D.\u0275cmp=c.Xpm({type:D,selectors:[["ion-toolbar"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:Xe,decls:1,vars:0,template:function(C,H){1&C&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),D=(0,G.gn)([Wt({defineCustomElementFn:void 0,inputs:["color","mode"]})],D),D})();class Vn{constructor(K={}){this.data=K}get(K){return this.data[K]}}let kn=(()=>{class D{constructor(C,H){this.zone=C,this.appRef=H}create(C,H,re,Nt){return new rr(C,H,re,this.appRef,this.zone,Nt)}}return D.\u0275fac=function(C){return new(C||D)(c.LFG(c.R0b),c.LFG(c.z2F))},D.\u0275prov=c.Yz7({token:D,factory:D.\u0275fac}),D})();class rr{constructor(K,C,H,re,Nt,Cn){this.resolverOrInjector=K,this.injector=C,this.location=H,this.appRef=re,this.zone=Nt,this.elementReferenceKey=Cn,this.elRefMap=new WeakMap,this.elEventsMap=new WeakMap}attachViewToDom(K,C,H,re){return this.zone.run(()=>new Promise(Nt=>{const Cn=Object.assign({},H);void 0!==this.elementReferenceKey&&(Cn[this.elementReferenceKey]=K),Nt(Hr(this.zone,this.resolverOrInjector,this.injector,this.location,this.appRef,this.elRefMap,this.elEventsMap,K,C,Cn,re))}))}removeViewFromDom(K,C){return this.zone.run(()=>new Promise(H=>{const re=this.elRefMap.get(C);if(re){re.destroy(),this.elRefMap.delete(C);const Nt=this.elEventsMap.get(C);Nt&&(Nt(),this.elEventsMap.delete(C))}H()}))}}const Hr=(D,K,C,H,re,Nt,Cn,Fn,yr,Br,ri)=>{let ur;const os=c.zs3.create({providers:Zt(Br),parent:C});if(K&&pt(K)){const oe=K.resolveComponentFactory(yr);ur=H?H.createComponent(oe,H.length,os):oe.create(os)}else{if(!H)return null;ur=H.createComponent(yr,{index:H.indexOf,injector:os,environmentInjector:K})}const L=ur.instance,k=ur.location.nativeElement;if(Br&&Object.assign(L,Br),ri)for(const oe of ri)k.classList.add(oe);const F=ut(D,L,k);return Fn.appendChild(k),H||re.attachView(ur.hostView),ur.changeDetectorRef.reattach(),Nt.set(k,ur),Cn.set(k,F),k},nt=[je.L,je.a,je.b,je.c,je.d],ut=(D,K,C)=>D.run(()=>{const H=nt.filter(re=>"function"==typeof K[re]).map(re=>{const Nt=Cn=>K[re](Cn.detail);return C.addEventListener(re,Nt),()=>C.removeEventListener(re,Nt)});return()=>H.forEach(re=>re())}),It=new c.OlP("NavParamsToken"),Zt=D=>[{provide:It,useValue:D},{provide:Vn,useFactory:un,deps:[It]}],un=D=>new Vn(D),Xn=(D,K)=>((D=D.filter(C=>C.stackId!==K.stackId)).push(K),D),vi=(D,K)=>{const C=D.createUrlTree(["."],{relativeTo:K});return D.serializeUrl(C)},gn=(D,K)=>{if(!D)return;const C=Vs(K);for(let H=0;H<C.length;H++){if(H>=D.length)return C[H];if(C[H]!==D[H])return}},Vs=D=>D.split("/").map(K=>K.trim()).filter(K=>""!==K),Ti=D=>{D&&(D.ref.destroy(),D.unlistenEvents())};class es{constructor(K,C,H,re,Nt,Cn){this.containerEl=C,this.router=H,this.navCtrl=re,this.zone=Nt,this.location=Cn,this.views=[],this.skipTransition=!1,this.nextId=0,this.tabsPrefix=void 0!==K?Vs(K):void 0}createView(K,C){var H;const re=vi(this.router,C),Nt=null===(H=null==K?void 0:K.location)||void 0===H?void 0:H.nativeElement,Cn=ut(this.zone,K.instance,Nt);return{id:this.nextId++,stackId:gn(this.tabsPrefix,re),unlistenEvents:Cn,element:Nt,ref:K,url:re}}getExistingView(K){const C=vi(this.router,K),H=this.views.find(re=>re.url===C);return H&&H.ref.changeDetectorRef.reattach(),H}setActive(K){var C,H;const re=this.navCtrl.consumeTransition();let{direction:Nt,animation:Cn,animationBuilder:Fn}=re;const yr=this.activeView,Br=((D,K)=>!K||D.stackId!==K.stackId)(K,yr);Br&&(Nt="back",Cn=void 0);const ri=this.views.slice();let ur;const os=this.router;os.getCurrentNavigation?ur=os.getCurrentNavigation():!(null===(C=os.navigations)||void 0===C)&&C.value&&(ur=os.navigations.value),null!==(H=null==ur?void 0:ur.extras)&&void 0!==H&&H.replaceUrl&&this.views.length>0&&this.views.splice(-1,1);const L=this.views.includes(K),k=this.insertView(K,Nt);L||K.ref.changeDetectorRef.detectChanges();const F=K.animationBuilder;return void 0===Fn&&"back"===Nt&&!Br&&void 0!==F&&(Fn=F),yr&&(yr.animationBuilder=Fn),this.zone.runOutsideAngular(()=>this.wait(()=>(yr&&yr.ref.changeDetectorRef.detach(),K.ref.changeDetectorRef.reattach(),this.transition(K,yr,Cn,this.canGoBack(1),!1,Fn).then(()=>Ir(K,k,ri,this.location,this.zone)).then(()=>({enteringView:K,direction:Nt,animation:Cn,tabSwitch:Br})))))}canGoBack(K,C=this.getActiveStackId()){return this.getStack(C).length>K}pop(K,C=this.getActiveStackId()){return this.zone.run(()=>{var H,re;const Nt=this.getStack(C);if(Nt.length<=K)return Promise.resolve(!1);const Cn=Nt[Nt.length-K-1];let Fn=Cn.url;const yr=Cn.savedData;if(yr){const ri=yr.get("primary");null!==(re=null===(H=null==ri?void 0:ri.route)||void 0===H?void 0:H._routerState)&&void 0!==re&&re.snapshot.url&&(Fn=ri.route._routerState.snapshot.url)}const{animationBuilder:Br}=this.navCtrl.consumeTransition();return this.navCtrl.navigateBack(Fn,Object.assign(Object.assign({},Cn.savedExtras),{animation:Br})).then(()=>!0)})}startBackTransition(){const K=this.activeView;if(K){const C=this.getStack(K.stackId),H=C[C.length-2],re=H.animationBuilder;return this.wait(()=>this.transition(H,K,"back",this.canGoBack(2),!0,re))}return Promise.resolve()}endBackTransition(K){K?(this.skipTransition=!0,this.pop(1)):this.activeView&&Wi(this.activeView,this.views,this.views,this.location,this.zone)}getLastUrl(K){const C=this.getStack(K);return C.length>0?C[C.length-1]:void 0}getRootUrl(K){const C=this.getStack(K);return C.length>0?C[0]:void 0}getActiveStackId(){return this.activeView?this.activeView.stackId:void 0}hasRunningTask(){return void 0!==this.runningTask}destroy(){this.containerEl=void 0,this.views.forEach(Ti),this.activeView=void 0,this.views=[]}getStack(K){return this.views.filter(C=>C.stackId===K)}insertView(K,C){return this.activeView=K,this.views=((D,K,C)=>"root"===C?Xn(D,K):"forward"===C?((D,K)=>(D.indexOf(K)>=0?D=D.filter(H=>H.stackId!==K.stackId||H.id<=K.id):D.push(K),D))(D,K):((D,K)=>D.indexOf(K)>=0?D.filter(H=>H.stackId!==K.stackId||H.id<=K.id):Xn(D,K))(D,K))(this.views,K,C),this.views.slice()}transition(K,C,H,re,Nt,Cn){if(this.skipTransition)return this.skipTransition=!1,Promise.resolve(!1);if(C===K)return Promise.resolve(!1);const Fn=K?K.element:void 0,yr=C?C.element:void 0,Br=this.containerEl;return Fn&&Fn!==yr&&(Fn.classList.add("ion-page"),Fn.classList.add("ion-page-invisible"),Fn.parentElement!==Br&&Br.appendChild(Fn),Br.commit)?Br.commit(Fn,yr,{deepWait:!0,duration:void 0===H?0:void 0,direction:H,showGoBack:re,progressAnimation:Nt,animationBuilder:Cn}):Promise.resolve(!1)}wait(K){return(0,G.mG)(this,void 0,void 0,function*(){void 0!==this.runningTask&&(yield this.runningTask,this.runningTask=void 0);const C=this.runningTask=K();return C.finally(()=>this.runningTask=void 0),C})}}const Ir=(D,K,C,H,re)=>"function"==typeof requestAnimationFrame?new Promise(Nt=>{requestAnimationFrame(()=>{Wi(D,K,C,H,re),Nt()})}):Promise.resolve(),Wi=(D,K,C,H,re)=>{re.run(()=>C.filter(Nt=>!K.includes(Nt)).forEach(Ti)),K.forEach(Nt=>{const Fn=H.path().split("?")[0].split("#")[0];if(Nt!==D&&Nt.url!==Fn){const yr=Nt.element;yr.setAttribute("aria-hidden","true"),yr.classList.add("ion-page-hidden"),Nt.ref.changeDetectorRef.detach()}})};let Mo=(()=>{class D{get(C,H){const re=Mi();return re?re.get(C,H):null}getBoolean(C,H){const re=Mi();return!!re&&re.getBoolean(C,H)}getNumber(C,H){const re=Mi();return re?re.getNumber(C,H):0}}return D.\u0275fac=function(C){return new(C||D)},D.\u0275prov=c.Yz7({token:D,factory:D.\u0275fac,providedIn:"root"}),D})();const Ns=new c.OlP("USERCONFIG"),Mi=()=>{if(typeof window<"u"){const D=window.Ionic;if(null!=D&&D.config)return D.config}return null};let Os=(()=>{class D{constructor(C,H){this.doc=C,this.backButton=new _e.x,this.keyboardDidShow=new _e.x,this.keyboardDidHide=new _e.x,this.pause=new _e.x,this.resume=new _e.x,this.resize=new _e.x,H.run(()=>{var re;let Nt;this.win=C.defaultView,this.backButton.subscribeWithPriority=function(Cn,Fn){return this.subscribe(yr=>yr.register(Cn,Br=>H.run(()=>Fn(Br))))},Pt(this.pause,C,"pause"),Pt(this.resume,C,"resume"),Pt(this.backButton,C,"ionBackButton"),Pt(this.resize,this.win,"resize"),Pt(this.keyboardDidShow,this.win,"ionKeyboardDidShow"),Pt(this.keyboardDidHide,this.win,"ionKeyboardDidHide"),this._readyPromise=new Promise(Cn=>{Nt=Cn}),null!==(re=this.win)&&void 0!==re&&re.cordova?C.addEventListener("deviceready",()=>{Nt("cordova")},{once:!0}):Nt("dom")})}is(C){return(0,me.a)(this.win,C)}platforms(){return(0,me.g)(this.win)}ready(){return this._readyPromise}get isRTL(){return"rtl"===this.doc.dir}getQueryParam(C){return Xs(this.win.location.href,C)}isLandscape(){return!this.isPortrait()}isPortrait(){var C,H;return null===(H=(C=this.win).matchMedia)||void 0===H?void 0:H.call(C,"(orientation: portrait)").matches}testUserAgent(C){const H=this.win.navigator;return!!((null==H?void 0:H.userAgent)&&H.userAgent.indexOf(C)>=0)}url(){return this.win.location.href}width(){return this.win.innerWidth}height(){return this.win.innerHeight}}return D.\u0275fac=function(C){return new(C||D)(c.LFG(Ze.K0),c.LFG(c.R0b))},D.\u0275prov=c.Yz7({token:D,factory:D.\u0275fac,providedIn:"root"}),D})();const Xs=(D,K)=>{K=K.replace(/[[\]\\]/g,"\\$&");const H=new RegExp("[\\?&]"+K+"=([^&#]*)").exec(D);return H?decodeURIComponent(H[1].replace(/\+/g," ")):null},Pt=(D,K,C)=>{K&&K.addEventListener(C,H=>{D.next(null!=H?H.detail:void 0)})};let ms=(()=>{class D{constructor(C,H,re,Nt){this.location=H,this.serializer=re,this.router=Nt,this.direction=lo,this.animated=Ro,this.guessDirection="forward",this.lastNavId=-1,Nt&&Nt.events.subscribe(Cn=>{if(Cn instanceof ve.OD){const Fn=Cn.restoredState?Cn.restoredState.navigationId:Cn.id;this.guessDirection=Fn<this.lastNavId?"back":"forward",this.guessAnimation=Cn.restoredState?void 0:this.guessDirection,this.lastNavId="forward"===this.guessDirection?Cn.id:Fn}}),C.backButton.subscribeWithPriority(0,Cn=>{this.pop(),Cn()})}navigateForward(C,H={}){return this.setDirection("forward",H.animated,H.animationDirection,H.animation),this.navigate(C,H)}navigateBack(C,H={}){return this.setDirection("back",H.animated,H.animationDirection,H.animation),this.navigate(C,H)}navigateRoot(C,H={}){return this.setDirection("root",H.animated,H.animationDirection,H.animation),this.navigate(C,H)}back(C={animated:!0,animationDirection:"back"}){return this.setDirection("back",C.animated,C.animationDirection,C.animation),this.location.back()}pop(){return(0,G.mG)(this,void 0,void 0,function*(){let C=this.topOutlet;for(;C&&!(yield C.pop());)C=C.parentOutlet})}setDirection(C,H,re,Nt){this.direction=C,this.animated=uo(C,H,re),this.animationBuilder=Nt}setTopOutlet(C){this.topOutlet=C}consumeTransition(){let H,C="root";const re=this.animationBuilder;return"auto"===this.direction?(C=this.guessDirection,H=this.guessAnimation):(H=this.animated,C=this.direction),this.direction=lo,this.animated=Ro,this.animationBuilder=void 0,{direction:C,animation:H,animationBuilder:re}}navigate(C,H){if(Array.isArray(C))return this.router.navigate(C,H);{const re=this.serializer.parse(C.toString());return void 0!==H.queryParams&&(re.queryParams=Object.assign({},H.queryParams)),void 0!==H.fragment&&(re.fragment=H.fragment),this.router.navigateByUrl(re,H)}}}return D.\u0275fac=function(C){return new(C||D)(c.LFG(Os),c.LFG(Ze.Ye),c.LFG(ve.Hx),c.LFG(ve.F0,8))},D.\u0275prov=c.Yz7({token:D,factory:D.\u0275fac,providedIn:"root"}),D})();const uo=(D,K,C)=>{if(!1!==K){if(void 0!==C)return C;if("forward"===D||"back"===D)return D;if("root"===D&&!0===K)return"forward"}},lo="auto",Ro=void 0;let xs=(()=>{class D{constructor(C,H,re,Nt,Cn,Fn,yr,Br,ri,ur,os,L,k){this.parentContexts=C,this.location=H,this.config=Cn,this.navCtrl=Fn,this.componentFactoryResolver=yr,this.parentOutlet=k,this.activated=null,this.activatedView=null,this._activatedRoute=null,this.proxyMap=new WeakMap,this.currentActivatedRoute$=new ke.X(null),this.stackEvents=new c.vpe,this.activateEvents=new c.vpe,this.deactivateEvents=new c.vpe,this.nativeEl=ri.nativeElement,this.name=re||ve.eC,this.tabsPrefix="true"===Nt?vi(ur,L):void 0,this.stackCtrl=new es(this.tabsPrefix,this.nativeEl,ur,Fn,os,Br),C.onChildOutletCreated(this.name,this)}set animation(C){this.nativeEl.animation=C}set animated(C){this.nativeEl.animated=C}set swipeGesture(C){this._swipeGesture=C,this.nativeEl.swipeHandler=C?{canStart:()=>this.stackCtrl.canGoBack(1)&&!this.stackCtrl.hasRunningTask(),onStart:()=>this.stackCtrl.startBackTransition(),onEnd:H=>this.stackCtrl.endBackTransition(H)}:void 0}ngOnDestroy(){this.stackCtrl.destroy()}getContext(){return this.parentContexts.getContext(this.name)}ngOnInit(){if(!this.activated){const C=this.getContext();null!=C&&C.route&&this.activateWith(C.route,C.resolver||null)}new Promise(C=>(0,Re.c)(this.nativeEl,C)).then(()=>{void 0===this._swipeGesture&&(this.swipeGesture=this.config.getBoolean("swipeBackEnabled","ios"===this.nativeEl.mode))})}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){throw new Error("incompatible reuse strategy")}attach(C,H){throw new Error("incompatible reuse strategy")}deactivate(){if(this.activated){if(this.activatedView){const H=this.getContext();this.activatedView.savedData=new Map(H.children.contexts);const re=this.activatedView.savedData.get("primary");if(re&&H.route&&(re.route=Object.assign({},H.route)),this.activatedView.savedExtras={},H.route){const Nt=H.route.snapshot;this.activatedView.savedExtras.queryParams=Nt.queryParams,this.activatedView.savedExtras.fragment=Nt.fragment}}const C=this.component;this.activatedView=null,this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(C)}}activateWith(C,H){var re;if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=C;let Nt,Cn=this.stackCtrl.getExistingView(C);if(Cn){Nt=this.activated=Cn.ref;const Fn=Cn.savedData;Fn&&(this.getContext().children.contexts=Fn),this.updateActivatedRouteProxy(Nt.instance,C)}else{const Fn=C._futureSnapshot;if(null==Fn.routeConfig.component&&null==this.environmentInjector)return void console.warn('[Ionic Warning]: You must supply an environmentInjector to use standalone components with routing:\n\nIn your component class, add:\n\n   import { EnvironmentInjector } from \'@angular/core\';\n   constructor(public environmentInjector: EnvironmentInjector) {}\n\nIn your router outlet template, add:\n\n   <ion-router-outlet [environmentInjector]="environmentInjector"></ion-router-outlet>\n\nAlternatively, if you are routing within ion-tabs:\n\n   <ion-tabs [environmentInjector]="environmentInjector"></ion-tabs>');const yr=this.parentContexts.getOrCreateContext(this.name).children,Br=new ke.X(null),ri=this.createActivatedRouteProxy(Br,C),ur=new na(ri,yr,this.location.injector),os=null!==(re=Fn.routeConfig.component)&&void 0!==re?re:Fn.component;if((H=H||this.componentFactoryResolver)&&pt(H)){const L=H.resolveComponentFactory(os);Nt=this.activated=this.location.createComponent(L,this.location.length,ur)}else Nt=this.activated=this.location.createComponent(os,{index:this.location.length,injector:ur,environmentInjector:null!=H?H:this.environmentInjector});Br.next(Nt.instance),Cn=this.stackCtrl.createView(this.activated,C),this.proxyMap.set(Nt.instance,ri),this.currentActivatedRoute$.next({component:Nt.instance,activatedRoute:C})}this.activatedView=Cn,this.navCtrl.setTopOutlet(this),this.stackCtrl.setActive(Cn).then(Fn=>{this.activateEvents.emit(Nt.instance),this.stackEvents.emit(Fn)})}canGoBack(C=1,H){return this.stackCtrl.canGoBack(C,H)}pop(C=1,H){return this.stackCtrl.pop(C,H)}getLastUrl(C){const H=this.stackCtrl.getLastUrl(C);return H?H.url:void 0}getLastRouteView(C){return this.stackCtrl.getLastUrl(C)}getRootView(C){return this.stackCtrl.getRootUrl(C)}getActiveStackId(){return this.stackCtrl.getActiveStackId()}createActivatedRouteProxy(C,H){const re=new ve.gz;return re._futureSnapshot=H._futureSnapshot,re._routerState=H._routerState,re.snapshot=H.snapshot,re.outlet=H.outlet,re.component=H.component,re._paramMap=this.proxyObservable(C,"paramMap"),re._queryParamMap=this.proxyObservable(C,"queryParamMap"),re.url=this.proxyObservable(C,"url"),re.params=this.proxyObservable(C,"params"),re.queryParams=this.proxyObservable(C,"queryParams"),re.fragment=this.proxyObservable(C,"fragment"),re.data=this.proxyObservable(C,"data"),re}proxyObservable(C,H){return C.pipe((0,Ve.h)(re=>!!re),(0,Ge.w)(re=>this.currentActivatedRoute$.pipe((0,Ve.h)(Nt=>null!==Nt&&Nt.component===re),(0,Ge.w)(Nt=>Nt&&Nt.activatedRoute[H]),(0,te.x)())))}updateActivatedRouteProxy(C,H){const re=this.proxyMap.get(C);if(!re)throw new Error("Could not find activated route proxy for view");re._futureSnapshot=H._futureSnapshot,re._routerState=H._routerState,re.snapshot=H.snapshot,re.outlet=H.outlet,re.component=H.component,this.currentActivatedRoute$.next({component:C,activatedRoute:H})}}return D.\u0275fac=function(C){return new(C||D)(c.Y36(ve.y6),c.Y36(c.s_b),c.$8M("name"),c.$8M("tabs"),c.Y36(Mo),c.Y36(ms),c.Y36(c._Vd,8),c.Y36(Ze.Ye),c.Y36(c.SBq),c.Y36(ve.F0),c.Y36(c.R0b),c.Y36(ve.gz),c.Y36(D,12))},D.\u0275dir=c.lG2({type:D,selectors:[["ion-router-outlet"]],inputs:{animated:"animated",animation:"animation",mode:"mode",swipeGesture:"swipeGesture",environmentInjector:"environmentInjector"},outputs:{stackEvents:"stackEvents",activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),D})();class na{constructor(K,C,H){this.route=K,this.childContexts=C,this.parent=H}get(K,C){return K===ve.gz?this.route:K===ve.y6?this.childContexts:this.parent.get(K,C)}}let Ki=(()=>{class D{constructor(C,H,re,Nt,Cn){this.locationStrategy=C,this.navCtrl=H,this.elementRef=re,this.router=Nt,this.routerLink=Cn,this.routerDirection="forward"}ngOnInit(){this.updateTargetUrlAndHref()}ngOnChanges(){this.updateTargetUrlAndHref()}updateTargetUrlAndHref(){var C;if(null!==(C=this.routerLink)&&void 0!==C&&C.urlTree){const H=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.routerLink.urlTree));this.elementRef.nativeElement.href=H}}onClick(C){this.navCtrl.setDirection(this.routerDirection,void 0,void 0,this.routerAnimation),C.preventDefault()}}return D.\u0275fac=function(C){return new(C||D)(c.Y36(Ze.S$),c.Y36(ms),c.Y36(c.SBq),c.Y36(ve.F0),c.Y36(ve.rH,8))},D.\u0275dir=c.lG2({type:D,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(C,H){1&C&&c.NdJ("click",function(Nt){return H.onClick(Nt)})},inputs:{routerDirection:"routerDirection",routerAnimation:"routerAnimation"},features:[c.TTD]}),D})(),Ue=(()=>{let D=class{constructor(C,H,re){this.z=re,this.isCmpOpen=!1,this.el=H.nativeElement,this.el.addEventListener("willPresent",()=>{this.isCmpOpen=!0,C.detectChanges()}),this.el.addEventListener("didDismiss",()=>{this.isCmpOpen=!1,C.detectChanges()}),Dn(this,this.el,["ionModalDidPresent","ionModalWillPresent","ionModalWillDismiss","ionModalDidDismiss","ionBreakpointDidChange","didPresent","willPresent","willDismiss","didDismiss"])}};return D.\u0275fac=function(C){return new(C||D)(c.Y36(c.sBO),c.Y36(c.SBq),c.Y36(c.R0b))},D.\u0275cmp=c.Xpm({type:D,selectors:[["ion-modal"]],contentQueries:function(C,H,re){if(1&C&&c.Suo(re,c.Rgc,5),2&C){let Nt;c.iGM(Nt=c.CRH())&&(H.template=Nt.first)}},inputs:{animated:"animated",keepContentsMounted:"keepContentsMounted",backdropBreakpoint:"backdropBreakpoint",backdropDismiss:"backdropDismiss",breakpoints:"breakpoints",canDismiss:"canDismiss",cssClass:"cssClass",enterAnimation:"enterAnimation",event:"event",handle:"handle",handleBehavior:"handleBehavior",initialBreakpoint:"initialBreakpoint",isOpen:"isOpen",keyboardClose:"keyboardClose",leaveAnimation:"leaveAnimation",mode:"mode",presentingElement:"presentingElement",showBackdrop:"showBackdrop",swipeToClose:"swipeToClose",translucent:"translucent",trigger:"trigger"},decls:1,vars:1,consts:[["class","ion-delegate-host ion-page",4,"ngIf"],[1,"ion-delegate-host","ion-page"],[3,"ngTemplateOutlet"]],template:function(C,H){1&C&&c.YNc(0,bt,2,1,"div",0),2&C&&c.Q6J("ngIf",H.isCmpOpen||H.keepContentsMounted)},dependencies:[Ze.O5,Ze.tP],encapsulation:2,changeDetection:0}),D=(0,G.gn)([Wt({inputs:["animated","keepContentsMounted","backdropBreakpoint","backdropDismiss","breakpoints","canDismiss","cssClass","enterAnimation","event","handle","handleBehavior","initialBreakpoint","isOpen","keyboardClose","leaveAnimation","mode","presentingElement","showBackdrop","swipeToClose","translucent","trigger"],methods:["present","dismiss","onDidDismiss","onWillDismiss","setCurrentBreakpoint","getCurrentBreakpoint"]})],D),D})(),ga=(()=>{let D=class{constructor(C,H,re){this.z=re,this.isCmpOpen=!1,this.el=H.nativeElement,this.el.addEventListener("ionMount",()=>{this.isCmpOpen=!0,C.detectChanges()}),this.el.addEventListener("didDismiss",()=>{this.isCmpOpen=!1,C.detectChanges()}),Dn(this,this.el,["ionPopoverDidPresent","ionPopoverWillPresent","ionPopoverWillDismiss","ionPopoverDidDismiss","didPresent","willPresent","willDismiss","didDismiss"])}};return D.\u0275fac=function(C){return new(C||D)(c.Y36(c.sBO),c.Y36(c.SBq),c.Y36(c.R0b))},D.\u0275cmp=c.Xpm({type:D,selectors:[["ion-popover"]],contentQueries:function(C,H,re){if(1&C&&c.Suo(re,c.Rgc,5),2&C){let Nt;c.iGM(Nt=c.CRH())&&(H.template=Nt.first)}},inputs:{alignment:"alignment",animated:"animated",arrow:"arrow",keepContentsMounted:"keepContentsMounted",backdropDismiss:"backdropDismiss",cssClass:"cssClass",dismissOnSelect:"dismissOnSelect",enterAnimation:"enterAnimation",event:"event",isOpen:"isOpen",keyboardClose:"keyboardClose",leaveAnimation:"leaveAnimation",mode:"mode",showBackdrop:"showBackdrop",translucent:"translucent",trigger:"trigger",triggerAction:"triggerAction",reference:"reference",size:"size",side:"side"},decls:1,vars:1,consts:[[3,"ngTemplateOutlet",4,"ngIf"],[3,"ngTemplateOutlet"]],template:function(C,H){1&C&&c.YNc(0,ft,1,1,"ng-container",0),2&C&&c.Q6J("ngIf",H.isCmpOpen||H.keepContentsMounted)},dependencies:[Ze.O5,Ze.tP],encapsulation:2,changeDetection:0}),D=(0,G.gn)([Wt({inputs:["alignment","animated","arrow","keepContentsMounted","backdropDismiss","cssClass","dismissOnSelect","enterAnimation","event","isOpen","keyboardClose","leaveAnimation","mode","showBackdrop","translucent","trigger","triggerAction","reference","size","side"],methods:["present","dismiss","onDidDismiss","onWillDismiss"]})],D),D})();class Vo{constructor(K){this.ctrl=K}create(K){return this.ctrl.create(K||{})}dismiss(K,C,H){return this.ctrl.dismiss(K,C,H)}getTop(){return this.ctrl.getTop()}}let Uo=(()=>{class D extends Vo{constructor(){super(Se.a)}}return D.\u0275fac=function(C){return new(C||D)},D.\u0275prov=c.Yz7({token:D,factory:D.\u0275fac,providedIn:"root"}),D})();class Gi{}let di=(()=>{class D extends Vo{constructor(C,H,re,Nt){super(Se.m),this.angularDelegate=C,this.resolver=H,this.injector=re,this.environmentInjector=Nt}create(C){var H;return super.create(Object.assign(Object.assign({},C),{delegate:this.angularDelegate.create(null!==(H=this.resolver)&&void 0!==H?H:this.environmentInjector,this.injector,void 0,"modal")}))}}return D.\u0275fac=function(C){return new(C||D)(c.LFG(kn),c.LFG(c._Vd),c.LFG(c.zs3),c.LFG(Gi,8))},D.\u0275prov=c.Yz7({token:D,factory:D.\u0275fac}),D})(),Js=(()=>{class D extends Vo{constructor(C,H,re,Nt){super(Se.c),this.angularDelegate=C,this.resolver=H,this.injector=re,this.environmentInjector=Nt}create(C){var H;return super.create(Object.assign(Object.assign({},C),{delegate:this.angularDelegate.create(null!==(H=this.resolver)&&void 0!==H?H:this.environmentInjector,this.injector,void 0,"popover")}))}}return D.\u0275fac=function(C){return new(C||D)(c.LFG(kn),c.LFG(c._Vd),c.LFG(c.zs3),c.LFG(Gi,8))},D.\u0275prov=c.Yz7({token:D,factory:D.\u0275fac}),D})();class Eo{shouldDetach(K){return!1}shouldAttach(K){return!1}store(K,C){}retrieve(K){return null}shouldReuseRoute(K,C){if(K.routeConfig!==C.routeConfig)return!1;const H=K.params,re=C.params,Nt=Object.keys(H),Cn=Object.keys(re);if(Nt.length!==Cn.length)return!1;for(const Fn of Nt)if(re[Fn]!==H[Fn])return!1;return!0}}const eo=(D,K,C)=>()=>{if(K.defaultView&&typeof window<"u"){(0,We.s)(Object.assign(Object.assign({},D),{_zoneGate:Nt=>C.run(Nt)}));const re="__zone_symbol__addEventListener"in K.body?"__zone_symbol__addEventListener":"addEventListener";return function le(){var D=[];if(typeof window<"u"){var K=window;(!K.customElements||K.Element&&(!K.Element.prototype.closest||!K.Element.prototype.matches||!K.Element.prototype.remove||!K.Element.prototype.getRootNode))&&D.push(V.e(6748).then(V.t.bind(V,723,23))),("function"!=typeof Object.assign||!Object.entries||!Array.prototype.find||!Array.prototype.includes||!String.prototype.startsWith||!String.prototype.endsWith||K.NodeList&&!K.NodeList.prototype.forEach||!K.fetch||!function(){try{var H=new URL("b","http://a");return H.pathname="c%20d","http://a/c%20d"===H.href&&H.searchParams}catch(re){return!1}}()||typeof WeakMap>"u")&&D.push(V.e(2214).then(V.t.bind(V,4144,23)))}return Promise.all(D)}().then(()=>((D,K)=>typeof window>"u"?Promise.resolve():(0,He.p)().then(()=>(ye(),(0,He.b)(JSON.parse('[["ion-menu_3",[[33,"ion-menu-button",{"color":[513],"disabled":[4],"menu":[1],"autoHide":[4,"auto-hide"],"type":[1],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]],[33,"ion-menu",{"contentId":[513,"content-id"],"menuId":[513,"menu-id"],"type":[1025],"disabled":[1028],"side":[513],"swipeGesture":[4,"swipe-gesture"],"maxEdgeStart":[2,"max-edge-start"],"isPaneVisible":[32],"isEndSide":[32],"isOpen":[64],"isActive":[64],"open":[64],"close":[64],"toggle":[64],"setOpen":[64]},[[16,"ionSplitPaneVisible","onSplitPaneChanged"],[2,"click","onBackdropClick"],[0,"keydown","onKeydown"]]],[1,"ion-menu-toggle",{"menu":[1],"autoHide":[4,"auto-hide"],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]]]],["ion-fab_3",[[33,"ion-fab-button",{"color":[513],"activated":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1],"show":[4],"translucent":[4],"type":[1],"size":[1],"closeIcon":[1,"close-icon"]}],[1,"ion-fab",{"horizontal":[1],"vertical":[1],"edge":[4],"activated":[1028],"close":[64],"toggle":[64]}],[1,"ion-fab-list",{"activated":[4],"side":[1]}]]],["ion-refresher_2",[[0,"ion-refresher-content",{"pullingIcon":[1025,"pulling-icon"],"pullingText":[1,"pulling-text"],"refreshingSpinner":[1025,"refreshing-spinner"],"refreshingText":[1,"refreshing-text"]}],[32,"ion-refresher",{"pullMin":[2,"pull-min"],"pullMax":[2,"pull-max"],"closeDuration":[1,"close-duration"],"snapbackDuration":[1,"snapback-duration"],"pullFactor":[2,"pull-factor"],"disabled":[4],"nativeRefresher":[32],"state":[32],"complete":[64],"cancel":[64],"getProgress":[64]}]]],["ion-back-button",[[33,"ion-back-button",{"color":[513],"defaultHref":[1025,"default-href"],"disabled":[516],"icon":[1],"text":[1],"type":[1],"routerAnimation":[16]}]]],["ion-toast",[[33,"ion-toast",{"overlayIndex":[2,"overlay-index"],"color":[513],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"duration":[2],"header":[1],"layout":[1],"message":[1],"keyboardClose":[4,"keyboard-close"],"position":[1],"buttons":[16],"translucent":[4],"animated":[4],"icon":[1],"htmlAttributes":[16],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-card_5",[[33,"ion-card",{"color":[513],"button":[4],"type":[1],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}],[32,"ion-card-content"],[33,"ion-card-header",{"color":[513],"translucent":[4]}],[33,"ion-card-subtitle",{"color":[513]}],[33,"ion-card-title",{"color":[513]}]]],["ion-item-option_3",[[33,"ion-item-option",{"color":[513],"disabled":[4],"download":[1],"expandable":[4],"href":[1],"rel":[1],"target":[1],"type":[1]}],[32,"ion-item-options",{"side":[1],"fireSwipeEvent":[64]}],[0,"ion-item-sliding",{"disabled":[4],"state":[32],"getOpenAmount":[64],"getSlidingRatio":[64],"open":[64],"close":[64],"closeOpened":[64]}]]],["ion-accordion_2",[[49,"ion-accordion",{"value":[1],"disabled":[4],"readonly":[4],"toggleIcon":[1,"toggle-icon"],"toggleIconSlot":[1,"toggle-icon-slot"],"state":[32],"isNext":[32],"isPrevious":[32]}],[33,"ion-accordion-group",{"animated":[4],"multiple":[4],"value":[1025],"disabled":[4],"readonly":[4],"expand":[1],"requestAccordionToggle":[64],"getAccordions":[64]},[[0,"keydown","onKeydown"]]]]],["ion-breadcrumb_2",[[33,"ion-breadcrumb",{"collapsed":[4],"last":[4],"showCollapsedIndicator":[4,"show-collapsed-indicator"],"color":[1],"active":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"separator":[4],"target":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}],[33,"ion-breadcrumbs",{"color":[1],"maxItems":[2,"max-items"],"itemsBeforeCollapse":[2,"items-before-collapse"],"itemsAfterCollapse":[2,"items-after-collapse"],"collapsed":[32],"activeChanged":[32]},[[0,"collapsedClick","onCollapsedClick"]]]]],["ion-infinite-scroll_2",[[32,"ion-infinite-scroll-content",{"loadingSpinner":[1025,"loading-spinner"],"loadingText":[1,"loading-text"]}],[0,"ion-infinite-scroll",{"threshold":[1],"disabled":[4],"position":[1],"isLoading":[32],"complete":[64]}]]],["ion-reorder_2",[[33,"ion-reorder",null,[[2,"click","onClick"]]],[0,"ion-reorder-group",{"disabled":[4],"state":[32],"complete":[64]}]]],["ion-segment_2",[[33,"ion-segment-button",{"disabled":[4],"layout":[1],"type":[1],"value":[1],"checked":[32],"setFocus":[64]}],[33,"ion-segment",{"color":[513],"disabled":[4],"scrollable":[4],"swipeGesture":[4,"swipe-gesture"],"value":[1025],"selectOnFocus":[4,"select-on-focus"],"activated":[32]},[[0,"keydown","onKeyDown"]]]]],["ion-tab-bar_2",[[33,"ion-tab-button",{"disabled":[4],"download":[1],"href":[1],"rel":[1],"layout":[1025],"selected":[1028],"tab":[1],"target":[1]},[[8,"ionTabBarChanged","onTabBarChanged"]]],[33,"ion-tab-bar",{"color":[513],"selectedTab":[1,"selected-tab"],"translucent":[4],"keyboardVisible":[32]}]]],["ion-chip",[[1,"ion-chip",{"color":[513],"outline":[4],"disabled":[4]}]]],["ion-datetime-button",[[33,"ion-datetime-button",{"color":[513],"disabled":[516],"datetime":[1],"datetimePresentation":[32],"dateText":[32],"timeText":[32],"datetimeActive":[32],"selectedButton":[32]}]]],["ion-input",[[34,"ion-input",{"fireFocusEvents":[4,"fire-focus-events"],"color":[513],"accept":[1],"autocapitalize":[1],"autocomplete":[1],"autocorrect":[1],"autofocus":[4],"clearInput":[4,"clear-input"],"clearOnEdit":[4,"clear-on-edit"],"debounce":[2],"disabled":[4],"enterkeyhint":[1],"inputmode":[1],"max":[8],"maxlength":[2],"min":[8],"minlength":[2],"multiple":[4],"name":[1],"pattern":[1],"placeholder":[1],"readonly":[4],"required":[4],"spellcheck":[4],"step":[1],"size":[2],"type":[1],"value":[1032],"hasFocus":[32],"setFocus":[64],"setBlur":[64],"getInputElement":[64]}]]],["ion-searchbar",[[34,"ion-searchbar",{"color":[513],"animated":[4],"autocomplete":[1],"autocorrect":[1],"cancelButtonIcon":[1,"cancel-button-icon"],"cancelButtonText":[1,"cancel-button-text"],"clearIcon":[1,"clear-icon"],"debounce":[2],"disabled":[4],"inputmode":[1],"enterkeyhint":[1],"placeholder":[1],"searchIcon":[1,"search-icon"],"showCancelButton":[1,"show-cancel-button"],"showClearButton":[1,"show-clear-button"],"spellcheck":[4],"type":[1],"value":[1025],"focused":[32],"noAnimate":[32],"setFocus":[64],"getInputElement":[64]}]]],["ion-toggle",[[33,"ion-toggle",{"color":[513],"name":[1],"checked":[1028],"disabled":[4],"value":[1],"enableOnOffLabels":[4,"enable-on-off-labels"],"activated":[32]}]]],["ion-avatar_3",[[33,"ion-avatar"],[33,"ion-badge",{"color":[513]}],[1,"ion-thumbnail"]]],["ion-textarea",[[34,"ion-textarea",{"fireFocusEvents":[4,"fire-focus-events"],"color":[513],"autocapitalize":[1],"autofocus":[4],"clearOnEdit":[1028,"clear-on-edit"],"debounce":[2],"disabled":[4],"inputmode":[1],"enterkeyhint":[1],"maxlength":[2],"minlength":[2],"name":[1],"placeholder":[1],"readonly":[4],"required":[4],"spellcheck":[4],"cols":[2],"rows":[2],"wrap":[1],"autoGrow":[516,"auto-grow"],"value":[1025],"hasFocus":[32],"setFocus":[64],"setBlur":[64],"getInputElement":[64]}]]],["ion-backdrop",[[33,"ion-backdrop",{"visible":[4],"tappable":[4],"stopPropagation":[4,"stop-propagation"]},[[2,"click","onMouseDown"]]]]],["ion-loading",[[34,"ion-loading",{"overlayIndex":[2,"overlay-index"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"message":[1],"cssClass":[1,"css-class"],"duration":[2],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"spinner":[1025],"translucent":[4],"animated":[4],"htmlAttributes":[16],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-modal",[[33,"ion-modal",{"hasController":[4,"has-controller"],"overlayIndex":[2,"overlay-index"],"delegate":[16],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"breakpoints":[16],"initialBreakpoint":[2,"initial-breakpoint"],"backdropBreakpoint":[2,"backdrop-breakpoint"],"handle":[4],"handleBehavior":[1,"handle-behavior"],"component":[1],"componentProps":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"animated":[4],"swipeToClose":[4,"swipe-to-close"],"presentingElement":[16],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"keepContentsMounted":[4,"keep-contents-mounted"],"canDismiss":[4,"can-dismiss"],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"setCurrentBreakpoint":[64],"getCurrentBreakpoint":[64]}]]],["ion-route_4",[[0,"ion-route",{"url":[1],"component":[1],"componentProps":[16],"beforeLeave":[16],"beforeEnter":[16]}],[0,"ion-route-redirect",{"from":[1],"to":[1]}],[0,"ion-router",{"root":[1],"useHash":[4,"use-hash"],"canTransition":[64],"push":[64],"back":[64],"printDebug":[64],"navChanged":[64]},[[8,"popstate","onPopState"],[4,"ionBackButton","onBackButton"]]],[1,"ion-router-link",{"color":[513],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}]]],["ion-col_3",[[1,"ion-col",{"offset":[1],"offsetXs":[1,"offset-xs"],"offsetSm":[1,"offset-sm"],"offsetMd":[1,"offset-md"],"offsetLg":[1,"offset-lg"],"offsetXl":[1,"offset-xl"],"pull":[1],"pullXs":[1,"pull-xs"],"pullSm":[1,"pull-sm"],"pullMd":[1,"pull-md"],"pullLg":[1,"pull-lg"],"pullXl":[1,"pull-xl"],"push":[1],"pushXs":[1,"push-xs"],"pushSm":[1,"push-sm"],"pushMd":[1,"push-md"],"pushLg":[1,"push-lg"],"pushXl":[1,"push-xl"],"size":[1],"sizeXs":[1,"size-xs"],"sizeSm":[1,"size-sm"],"sizeMd":[1,"size-md"],"sizeLg":[1,"size-lg"],"sizeXl":[1,"size-xl"]},[[9,"resize","onResize"]]],[1,"ion-grid",{"fixed":[4]}],[1,"ion-row"]]],["ion-nav_2",[[1,"ion-nav",{"delegate":[16],"swipeGesture":[1028,"swipe-gesture"],"animated":[4],"animation":[16],"rootParams":[16],"root":[1],"push":[64],"insert":[64],"insertPages":[64],"pop":[64],"popTo":[64],"popToRoot":[64],"removeIndex":[64],"setRoot":[64],"setPages":[64],"setRouteId":[64],"getRouteId":[64],"getActive":[64],"getByIndex":[64],"canGoBack":[64],"getPrevious":[64]}],[0,"ion-nav-link",{"component":[1],"componentProps":[16],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}]]],["ion-slide_2",[[0,"ion-slide"],[36,"ion-slides",{"options":[8],"pager":[4],"scrollbar":[4],"update":[64],"updateAutoHeight":[64],"slideTo":[64],"slideNext":[64],"slidePrev":[64],"getActiveIndex":[64],"getPreviousIndex":[64],"length":[64],"isEnd":[64],"isBeginning":[64],"startAutoplay":[64],"stopAutoplay":[64],"lockSwipeToNext":[64],"lockSwipeToPrev":[64],"lockSwipes":[64],"getSwiper":[64]}]]],["ion-tab_2",[[1,"ion-tab",{"active":[1028],"delegate":[16],"tab":[1],"component":[1],"setActive":[64]}],[1,"ion-tabs",{"useRouter":[1028,"use-router"],"selectedTab":[32],"select":[64],"getTab":[64],"getSelected":[64],"setRouteId":[64],"getRouteId":[64]}]]],["ion-img",[[1,"ion-img",{"alt":[1],"src":[1],"loadSrc":[32],"loadError":[32]}]]],["ion-progress-bar",[[33,"ion-progress-bar",{"type":[1],"reversed":[4],"value":[2],"buffer":[2],"color":[513]}]]],["ion-range",[[33,"ion-range",{"color":[513],"debounce":[2],"name":[1],"dualKnobs":[4,"dual-knobs"],"min":[2],"max":[2],"pin":[4],"pinFormatter":[16],"snaps":[4],"step":[2],"ticks":[4],"activeBarStart":[1026,"active-bar-start"],"disabled":[4],"value":[1026],"ratioA":[32],"ratioB":[32],"pressedKnob":[32]}]]],["ion-split-pane",[[33,"ion-split-pane",{"contentId":[513,"content-id"],"disabled":[4],"when":[8],"visible":[32]}]]],["ion-text",[[1,"ion-text",{"color":[513]}]]],["ion-virtual-scroll",[[0,"ion-virtual-scroll",{"approxItemHeight":[2,"approx-item-height"],"approxHeaderHeight":[2,"approx-header-height"],"approxFooterHeight":[2,"approx-footer-height"],"headerFn":[16],"footerFn":[16],"items":[16],"itemHeight":[16],"headerHeight":[16],"footerHeight":[16],"renderItem":[16],"renderHeader":[16],"renderFooter":[16],"nodeRender":[16],"domRender":[16],"totalHeight":[32],"positionForItem":[64],"checkRange":[64],"checkEnd":[64]},[[9,"resize","onResize"]]]]],["ion-picker-column-internal",[[33,"ion-picker-column-internal",{"items":[16],"value":[1032],"color":[513],"numericInput":[4,"numeric-input"],"isActive":[32],"scrollActiveItemIntoView":[64],"setValue":[64]}]]],["ion-picker-internal",[[33,"ion-picker-internal",{"exitInputMode":[64]},[[1,"touchstart","preventTouchStartPropagation"]]]]],["ion-radio_2",[[33,"ion-radio",{"color":[513],"name":[1],"disabled":[4],"value":[8],"checked":[32],"buttonTabindex":[32],"setFocus":[64],"setButtonTabindex":[64]}],[0,"ion-radio-group",{"allowEmptySelection":[4,"allow-empty-selection"],"name":[1],"value":[1032]},[[4,"keydown","onKeydown"]]]]],["ion-ripple-effect",[[1,"ion-ripple-effect",{"type":[1],"addRipple":[64]}]]],["ion-button_2",[[33,"ion-button",{"color":[513],"buttonType":[1025,"button-type"],"disabled":[516],"expand":[513],"fill":[1537],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"download":[1],"href":[1],"rel":[1],"shape":[513],"size":[513],"strong":[4],"target":[1],"type":[1],"form":[1]}],[1,"ion-icon",{"mode":[1025],"color":[1],"ios":[1],"md":[1],"flipRtl":[4,"flip-rtl"],"name":[513],"src":[1],"icon":[8],"size":[1],"lazy":[4],"sanitize":[4],"svgContent":[32],"isVisible":[32],"ariaLabel":[32]}]]],["ion-datetime_3",[[33,"ion-datetime",{"color":[1],"name":[1],"disabled":[4],"readonly":[4],"isDateEnabled":[16],"min":[1025],"max":[1025],"presentation":[1],"cancelText":[1,"cancel-text"],"doneText":[1,"done-text"],"clearText":[1,"clear-text"],"yearValues":[8,"year-values"],"monthValues":[8,"month-values"],"dayValues":[8,"day-values"],"hourValues":[8,"hour-values"],"minuteValues":[8,"minute-values"],"locale":[1],"firstDayOfWeek":[2,"first-day-of-week"],"titleSelectedDatesFormatter":[16],"multiple":[4],"highlightedDates":[16],"value":[1025],"showDefaultTitle":[4,"show-default-title"],"showDefaultButtons":[4,"show-default-buttons"],"showClearButton":[4,"show-clear-button"],"showDefaultTimeLabel":[4,"show-default-time-label"],"hourCycle":[1,"hour-cycle"],"size":[1],"preferWheel":[4,"prefer-wheel"],"showMonthAndYear":[32],"activeParts":[32],"workingParts":[32],"isPresented":[32],"isTimePopoverOpen":[32],"confirm":[64],"reset":[64],"cancel":[64]}],[34,"ion-picker",{"overlayIndex":[2,"overlay-index"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"columns":[16],"cssClass":[1,"css-class"],"duration":[2],"showBackdrop":[4,"show-backdrop"],"backdropDismiss":[4,"backdrop-dismiss"],"animated":[4],"htmlAttributes":[16],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"getColumn":[64]}],[32,"ion-picker-column",{"col":[16]}]]],["ion-action-sheet",[[34,"ion-action-sheet",{"overlayIndex":[2,"overlay-index"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"header":[1],"subHeader":[1,"sub-header"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-alert",[[34,"ion-alert",{"overlayIndex":[2,"overlay-index"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"header":[1],"subHeader":[1,"sub-header"],"message":[1],"buttons":[16],"inputs":[1040],"backdropDismiss":[4,"backdrop-dismiss"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},[[4,"keydown","onKeydown"]]]]],["ion-popover",[[33,"ion-popover",{"hasController":[4,"has-controller"],"delegate":[16],"overlayIndex":[2,"overlay-index"],"enterAnimation":[16],"leaveAnimation":[16],"component":[1],"componentProps":[16],"keyboardClose":[4,"keyboard-close"],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"event":[8],"showBackdrop":[4,"show-backdrop"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"triggerAction":[1,"trigger-action"],"trigger":[1],"size":[1],"dismissOnSelect":[4,"dismiss-on-select"],"reference":[1],"side":[1],"alignment":[1025],"arrow":[4],"isOpen":[4,"is-open"],"keyboardEvents":[4,"keyboard-events"],"keepContentsMounted":[4,"keep-contents-mounted"],"presented":[32],"presentFromTrigger":[64],"present":[64],"dismiss":[64],"getParentPopover":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-checkbox",[[33,"ion-checkbox",{"color":[513],"name":[1],"checked":[1028],"indeterminate":[1028],"disabled":[4],"value":[8]}]]],["ion-select_3",[[33,"ion-select",{"disabled":[4],"cancelText":[1,"cancel-text"],"okText":[1,"ok-text"],"placeholder":[1],"name":[1],"selectedText":[1,"selected-text"],"multiple":[4],"interface":[1],"interfaceOptions":[8,"interface-options"],"compareWith":[1,"compare-with"],"value":[1032],"isExpanded":[32],"open":[64]}],[1,"ion-select-option",{"disabled":[4],"value":[8]}],[34,"ion-select-popover",{"header":[1],"subHeader":[1,"sub-header"],"message":[1],"multiple":[4],"options":[16]},[[0,"ionChange","onSelect"]]]]],["ion-app_8",[[0,"ion-app",{"setFocus":[64]}],[1,"ion-content",{"color":[513],"fullscreen":[4],"forceOverscroll":[1028,"force-overscroll"],"scrollX":[4,"scroll-x"],"scrollY":[4,"scroll-y"],"scrollEvents":[4,"scroll-events"],"getScrollElement":[64],"getBackgroundElement":[64],"scrollToTop":[64],"scrollToBottom":[64],"scrollByPoint":[64],"scrollToPoint":[64]},[[8,"appload","onAppLoad"],[9,"resize","onResize"]]],[36,"ion-footer",{"collapse":[1],"translucent":[4],"keyboardVisible":[32]}],[36,"ion-header",{"collapse":[1],"translucent":[4]}],[1,"ion-router-outlet",{"mode":[1025],"delegate":[16],"animated":[4],"animation":[16],"swipeHandler":[16],"commit":[64],"setRouteId":[64],"getRouteId":[64]}],[33,"ion-title",{"color":[513],"size":[1]}],[33,"ion-toolbar",{"color":[513]},[[0,"ionStyle","childrenStyle"]]],[34,"ion-buttons",{"collapse":[4]}]]],["ion-spinner",[[1,"ion-spinner",{"color":[513],"duration":[2],"name":[1],"paused":[4]}]]],["ion-item_8",[[33,"ion-item-divider",{"color":[513],"sticky":[4]}],[32,"ion-item-group"],[1,"ion-skeleton-text",{"animated":[4]}],[32,"ion-list",{"lines":[1],"inset":[4],"closeSlidingItems":[64]}],[33,"ion-list-header",{"color":[513],"lines":[1]}],[49,"ion-item",{"color":[513],"button":[4],"detail":[4],"detailIcon":[1,"detail-icon"],"disabled":[4],"download":[1],"fill":[1],"shape":[1],"href":[1],"rel":[1],"lines":[1],"counter":[4],"routerAnimation":[16],"routerDirection":[1,"router-direction"],"target":[1],"type":[1],"counterFormatter":[16],"multipleInputs":[32],"focusable":[32],"counterString":[32]},[[0,"ionChange","handleIonChange"],[0,"ionColor","labelColorChanged"],[0,"ionStyle","itemStyle"]]],[34,"ion-label",{"color":[513],"position":[1],"noAnimate":[32]}],[33,"ion-note",{"color":[513]}]]]]'),K))))(0,{exclude:["ion-tabs","ion-tab"],syncQueue:!0,raf:Ot,jmp:Nt=>C.runOutsideAngular(Nt),ael(Nt,Cn,Fn,yr){Nt[re](Cn,Fn,yr)},rel(Nt,Cn,Fn,yr){Nt.removeEventListener(Cn,Fn,yr)}}))}};let ia=(()=>{class D{static forRoot(C){return{ngModule:D,providers:[{provide:Ns,useValue:C},{provide:c.ip1,useFactory:eo,multi:!0,deps:[Ns,Ze.K0,c.R0b]}]}}}return D.\u0275fac=function(C){return new(C||D)},D.\u0275mod=c.oAB({type:D}),D.\u0275inj=c.cJS({providers:[kn,di,Js],imports:[[Ze.ez]]}),D})()},181:(Jt,it,V)=>{"use strict";V.d(it,{c:()=>Et});var c=V(5730),J=V(3457);let G;const _e=Se=>Se.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),ke=Se=>{if(void 0===G){const fe=void 0!==Se.style.webkitAnimationName;G=void 0===Se.style.animationName&&fe?"-webkit-":""}return G},ve=(Se,Ce,fe)=>{const He=Ce.startsWith("animation")?ke(Se):"";Se.style.setProperty(He+Ce,fe)},Pe=(Se,Ce)=>{const fe=Ce.startsWith("animation")?ke(Se):"";Se.style.removeProperty(fe+Ce)},he=[],je=(Se=[],Ce)=>{if(void 0!==Ce){const fe=Array.isArray(Ce)?Ce:[Ce];return[...Se,...fe]}return Se},Et=Se=>{let Ce,fe,He,Be,Je,Qe,le,bt,ft,Ot,pt,Kt,en,Ve=[],Ge=[],te=[],Ze=!1,ye={},xe=[],Me=[],Xe={},Bt=0,on=!1,Rt=!1,wt=!0,st=!1,nn=!0,Nn=!1;const sr=Se,Wn=[],or=[],cr=[],Mr=[],Vr=[],Dn=[],ai=[],Wt=[],Ur=[],hn=[],ui="function"==typeof AnimationEffect||void 0!==J.w&&"function"==typeof J.w.AnimationEffect,gr="function"==typeof Element&&"function"==typeof Element.prototype.animate&&ui,Si=()=>hn,zn=(be,rt)=>((null!=rt&&rt.oneTimeCallback?or:Wn).push({c:be,o:rt}),en),wr=()=>{if(gr)hn.forEach(be=>{be.cancel()}),hn.length=0;else{const be=cr.slice();(0,c.r)(()=>{be.forEach(rt=>{Pe(rt,"animation-name"),Pe(rt,"animation-duration"),Pe(rt,"animation-timing-function"),Pe(rt,"animation-iteration-count"),Pe(rt,"animation-delay"),Pe(rt,"animation-play-state"),Pe(rt,"animation-fill-mode"),Pe(rt,"animation-direction")})})}},Nr=()=>{Vr.forEach(be=>{null!=be&&be.parentNode&&be.parentNode.removeChild(be)}),Vr.length=0},xt=()=>void 0!==Je?Je:le?le.getFill():"both",ge=()=>void 0!==ft?ft:void 0!==Qe?Qe:le?le.getDirection():"normal",De=()=>on?"linear":void 0!==He?He:le?le.getEasing():"linear",ze=()=>Rt?0:void 0!==Ot?Ot:void 0!==fe?fe:le?le.getDuration():0,At=()=>void 0!==Be?Be:le?le.getIterations():1,ct=()=>void 0!==pt?pt:void 0!==Ce?Ce:le?le.getDelay():0,wi=()=>{0!==Bt&&(Bt--,0===Bt&&((()=>{tr(),Wt.forEach(jt=>jt()),Ur.forEach(jt=>jt());const be=wt?1:0,rt=xe,St=Me,zt=Xe;cr.forEach(jt=>{const vn=jt.classList;rt.forEach(Vn=>vn.add(Vn)),St.forEach(Vn=>vn.remove(Vn));for(const Vn in zt)zt.hasOwnProperty(Vn)&&ve(jt,Vn,zt[Vn])}),Wn.forEach(jt=>jt.c(be,en)),or.forEach(jt=>jt.c(be,en)),or.length=0,nn=!0,wt&&(st=!0),wt=!0})(),le&&le.animationFinish()))},ei=(be=!0)=>{Nr();const rt=(Se=>(Se.forEach(Ce=>{for(const fe in Ce)if(Ce.hasOwnProperty(fe)){const He=Ce[fe];if("easing"===fe)Ce["animation-timing-function"]=He,delete Ce[fe];else{const Be=_e(fe);Be!==fe&&(Ce[Be]=He,delete Ce[fe])}}}),Se))(Ve);cr.forEach(St=>{if(rt.length>0){const zt=((Se=[])=>Se.map(Ce=>{const fe=Ce.offset,He=[];for(const Be in Ce)Ce.hasOwnProperty(Be)&&"offset"!==Be&&He.push(`${Be}: ${Ce[Be]};`);return`${100*fe}% { ${He.join(" ")} }`}).join(" "))(rt);Kt=void 0!==Se?Se:(Se=>{let Ce=he.indexOf(Se);return Ce<0&&(Ce=he.push(Se)-1),`ion-animation-${Ce}`})(zt);const jt=((Se,Ce,fe)=>{var He;const Be=(Se=>{const Ce=void 0!==Se.getRootNode?Se.getRootNode():Se;return Ce.head||Ce})(fe),Je=ke(fe),Qe=Be.querySelector("#"+Se);if(Qe)return Qe;const Ve=(null!==(He=fe.ownerDocument)&&void 0!==He?He:document).createElement("style");return Ve.id=Se,Ve.textContent=`@${Je}keyframes ${Se} { ${Ce} } @${Je}keyframes ${Se}-alt { ${Ce} }`,Be.appendChild(Ve),Ve})(Kt,zt,St);Vr.push(jt),ve(St,"animation-duration",`${ze()}ms`),ve(St,"animation-timing-function",De()),ve(St,"animation-delay",`${ct()}ms`),ve(St,"animation-fill-mode",xt()),ve(St,"animation-direction",ge());const vn=At()===1/0?"infinite":At().toString();ve(St,"animation-iteration-count",vn),ve(St,"animation-play-state","paused"),be&&ve(St,"animation-name",`${jt.id}-alt`),(0,c.r)(()=>{ve(St,"animation-name",jt.id||null)})}})},Ps=(be=!0)=>{(()=>{Dn.forEach(zt=>zt()),ai.forEach(zt=>zt());const be=Ge,rt=te,St=ye;cr.forEach(zt=>{const jt=zt.classList;be.forEach(vn=>jt.add(vn)),rt.forEach(vn=>jt.remove(vn));for(const vn in St)St.hasOwnProperty(vn)&&ve(zt,vn,St[vn])})})(),Ve.length>0&&(gr?(cr.forEach(be=>{const rt=be.animate(Ve,{id:sr,delay:ct(),duration:ze(),easing:De(),iterations:At(),fill:xt(),direction:ge()});rt.pause(),hn.push(rt)}),hn.length>0&&(hn[0].onfinish=()=>{wi()})):ei(be)),Ze=!0},ss=be=>{if(be=Math.min(Math.max(be,0),.9999),gr)hn.forEach(rt=>{rt.currentTime=rt.effect.getComputedTiming().delay+ze()*be,rt.pause()});else{const rt=`-${ze()*be}ms`;cr.forEach(St=>{Ve.length>0&&(ve(St,"animation-delay",rt),ve(St,"animation-play-state","paused"))})}},ti=be=>{hn.forEach(rt=>{rt.effect.updateTiming({delay:ct(),duration:ze(),easing:De(),iterations:At(),fill:xt(),direction:ge()})}),void 0!==be&&ss(be)},ps=(be=!0,rt)=>{(0,c.r)(()=>{cr.forEach(St=>{ve(St,"animation-name",Kt||null),ve(St,"animation-duration",`${ze()}ms`),ve(St,"animation-timing-function",De()),ve(St,"animation-delay",void 0!==rt?`-${rt*ze()}ms`:`${ct()}ms`),ve(St,"animation-fill-mode",xt()||null),ve(St,"animation-direction",ge()||null);const zt=At()===1/0?"infinite":At().toString();ve(St,"animation-iteration-count",zt),be&&ve(St,"animation-name",`${Kt}-alt`),(0,c.r)(()=>{ve(St,"animation-name",Kt||null)})})})},mr=(be=!1,rt=!0,St)=>(be&&Mr.forEach(zt=>{zt.update(be,rt,St)}),gr?ti(St):ps(rt,St),en),Jr=()=>{Ze&&(gr?hn.forEach(be=>{be.pause()}):cr.forEach(be=>{ve(be,"animation-play-state","paused")}),Nn=!0)},An=()=>{bt=void 0,wi()},tr=()=>{bt&&clearTimeout(bt)},se=be=>new Promise(rt=>{null!=be&&be.sync&&(Rt=!0,zn(()=>Rt=!1,{oneTimeCallback:!0})),Ze||Ps(),st&&(gr?(ss(0),ti()):ps(),st=!1),nn&&(Bt=Mr.length+1,nn=!1),zn(()=>rt(),{oneTimeCallback:!0}),Mr.forEach(St=>{St.play()}),gr?(hn.forEach(be=>{be.play()}),(0===Ve.length||0===cr.length)&&wi()):(()=>{if(tr(),(0,c.r)(()=>{cr.forEach(be=>{Ve.length>0&&ve(be,"animation-play-state","running")})}),0===Ve.length||0===cr.length)wi();else{const be=ct()||0,rt=ze()||0,St=At()||1;isFinite(St)&&(bt=setTimeout(An,be+rt*St+100)),((Se,Ce)=>{let fe;const He={passive:!0},Je=Qe=>{Se===Qe.target&&(fe&&fe(),tr(),(0,c.r)(()=>{cr.forEach(be=>{Pe(be,"animation-duration"),Pe(be,"animation-delay"),Pe(be,"animation-play-state")}),(0,c.r)(wi)}))};Se&&(Se.addEventListener("webkitAnimationEnd",Je,He),Se.addEventListener("animationend",Je,He),fe=()=>{Se.removeEventListener("webkitAnimationEnd",Je,He),Se.removeEventListener("animationend",Je,He)})})(cr[0])}})(),Nn=!1}),at=(be,rt)=>{const St=Ve[0];return void 0===St||void 0!==St.offset&&0!==St.offset?Ve=[{offset:0,[be]:rt},...Ve]:St[be]=rt,en};return en={parentAnimation:le,elements:cr,childAnimations:Mr,id:sr,animationFinish:wi,from:at,to:(be,rt)=>{const St=Ve[Ve.length-1];return void 0===St||void 0!==St.offset&&1!==St.offset?Ve=[...Ve,{offset:1,[be]:rt}]:St[be]=rt,en},fromTo:(be,rt,St)=>at(be,rt).to(be,St),parent:be=>(le=be,en),play:se,pause:()=>(Mr.forEach(be=>{be.pause()}),Jr(),en),stop:()=>{Mr.forEach(be=>{be.stop()}),Ze&&(wr(),Ze=!1),on=!1,Rt=!1,nn=!0,ft=void 0,Ot=void 0,pt=void 0,Bt=0,st=!1,wt=!0,Nn=!1},destroy:be=>(Mr.forEach(rt=>{rt.destroy(be)}),(be=>{wr(),be&&Nr()})(be),cr.length=0,Mr.length=0,Ve.length=0,Wn.length=0,or.length=0,Ze=!1,nn=!0,en),keyframes:be=>{const rt=Ve!==be;return Ve=be,rt&&(be=>{gr?Si().forEach(rt=>{if(rt.effect.setKeyframes)rt.effect.setKeyframes(be);else{const St=new KeyframeEffect(rt.effect.target,be,rt.effect.getTiming());rt.effect=St}}):ei()})(Ve),en},addAnimation:be=>{if(null!=be)if(Array.isArray(be))for(const rt of be)rt.parent(en),Mr.push(rt);else be.parent(en),Mr.push(be);return en},addElement:be=>{if(null!=be)if(1===be.nodeType)cr.push(be);else if(be.length>=0)for(let rt=0;rt<be.length;rt++)cr.push(be[rt]);else console.error("Invalid addElement value");return en},update:mr,fill:be=>(Je=be,mr(!0),en),direction:be=>(Qe=be,mr(!0),en),iterations:be=>(Be=be,mr(!0),en),duration:be=>(!gr&&0===be&&(be=1),fe=be,mr(!0),en),easing:be=>(He=be,mr(!0),en),delay:be=>(Ce=be,mr(!0),en),getWebAnimations:Si,getKeyframes:()=>Ve,getFill:xt,getDirection:ge,getDelay:ct,getIterations:At,getEasing:De,getDuration:ze,afterAddRead:be=>(Wt.push(be),en),afterAddWrite:be=>(Ur.push(be),en),afterClearStyles:(be=[])=>{for(const rt of be)Xe[rt]="";return en},afterStyles:(be={})=>(Xe=be,en),afterRemoveClass:be=>(Me=je(Me,be),en),afterAddClass:be=>(xe=je(xe,be),en),beforeAddRead:be=>(Dn.push(be),en),beforeAddWrite:be=>(ai.push(be),en),beforeClearStyles:(be=[])=>{for(const rt of be)ye[rt]="";return en},beforeStyles:(be={})=>(ye=be,en),beforeRemoveClass:be=>(te=je(te,be),en),beforeAddClass:be=>(Ge=je(Ge,be),en),onFinish:zn,isRunning:()=>0!==Bt&&!Nn,progressStart:(be=!1,rt)=>(Mr.forEach(St=>{St.progressStart(be,rt)}),Jr(),on=be,Ze||Ps(),mr(!1,!0,rt),en),progressStep:be=>(Mr.forEach(rt=>{rt.progressStep(be)}),ss(be),en),progressEnd:(be,rt,St)=>(on=!1,Mr.forEach(zt=>{zt.progressEnd(be,rt,St)}),void 0!==St&&(Ot=St),st=!1,wt=!0,0===be?(ft="reverse"===ge()?"normal":"reverse","reverse"===ft&&(wt=!1),gr?(mr(),ss(1-rt)):(pt=(1-rt)*ze()*-1,mr(!1,!1))):1===be&&(gr?(mr(),ss(rt)):(pt=rt*ze()*-1,mr(!1,!1))),void 0!==be&&(zn(()=>{Ot=void 0,ft=void 0,pt=void 0},{oneTimeCallback:!0}),le||se()),en)}}},5820:(Jt,it,V)=>{"use strict";V.d(it,{E:()=>we,a:()=>c,s:()=>Pe});const c=he=>{try{if(he instanceof ve)return he.value;if(!Ae()||"string"!=typeof he||""===he)return he;if(he.includes("onload="))return"";const me=document.createDocumentFragment(),Re=document.createElement("div");me.appendChild(Re),Re.innerHTML=he,ke.forEach(Se=>{const Ce=me.querySelectorAll(Se);for(let fe=Ce.length-1;fe>=0;fe--){const He=Ce[fe];He.parentNode?He.parentNode.removeChild(He):me.removeChild(He);const Be=G(He);for(let Je=0;Je<Be.length;Je++)J(Be[Je])}});const We=G(me);for(let Se=0;Se<We.length;Se++)J(We[Se]);const je=document.createElement("div");je.appendChild(me);const Et=je.querySelector("div");return null!==Et?Et.innerHTML:je.innerHTML}catch(me){return console.error(me),""}},J=he=>{if(he.nodeType&&1!==he.nodeType)return;if(typeof NamedNodeMap<"u"&&!(he.attributes instanceof NamedNodeMap))return void he.remove();for(let Re=he.attributes.length-1;Re>=0;Re--){const We=he.attributes.item(Re),je=We.name;if(!_e.includes(je.toLowerCase())){he.removeAttribute(je);continue}const Et=We.value,Se=he[je];(null!=Et&&Et.toLowerCase().includes("javascript:")||null!=Se&&Se.toLowerCase().includes("javascript:"))&&he.removeAttribute(je)}const me=G(he);for(let Re=0;Re<me.length;Re++)J(me[Re])},G=he=>null!=he.children?he.children:he.childNodes,Ae=()=>{var he;const me=window,Re=null===(he=null==me?void 0:me.Ionic)||void 0===he?void 0:he.config;return!Re||(Re.get?Re.get("sanitizerEnabled",!0):!0===Re.sanitizerEnabled||void 0===Re.sanitizerEnabled)},_e=["class","id","href","src","name","slot"],ke=["script","style","iframe","meta","link","object","embed"];class ve{constructor(me){this.value=me}}const Pe=he=>{const me=window,Re=me.Ionic;if(!Re||!Re.config||"Object"===Re.config.constructor.name)return me.Ionic=me.Ionic||{},me.Ionic.config=Object.assign(Object.assign({},me.Ionic.config),he),me.Ionic.config},we=!0},4349:(Jt,it,V)=>{"use strict";V.d(it,{G:()=>_e});class J{constructor(ve,Pe,Ne,we,he){this.id=Pe,this.name=Ne,this.disableScroll=he,this.priority=1e6*we+Pe,this.ctrl=ve}canStart(){return!!this.ctrl&&this.ctrl.canStart(this.name)}start(){return!!this.ctrl&&this.ctrl.start(this.name,this.id,this.priority)}capture(){if(!this.ctrl)return!1;const ve=this.ctrl.capture(this.name,this.id,this.priority);return ve&&this.disableScroll&&this.ctrl.disableScroll(this.id),ve}release(){this.ctrl&&(this.ctrl.release(this.id),this.disableScroll&&this.ctrl.enableScroll(this.id))}destroy(){this.release(),this.ctrl=void 0}}class G{constructor(ve,Pe,Ne,we){this.id=Pe,this.disable=Ne,this.disableScroll=we,this.ctrl=ve}block(){if(this.ctrl){if(this.disable)for(const ve of this.disable)this.ctrl.disableGesture(ve,this.id);this.disableScroll&&this.ctrl.disableScroll(this.id)}}unblock(){if(this.ctrl){if(this.disable)for(const ve of this.disable)this.ctrl.enableGesture(ve,this.id);this.disableScroll&&this.ctrl.enableScroll(this.id)}}destroy(){this.unblock(),this.ctrl=void 0}}const Ae="backdrop-no-scroll",_e=new class c{constructor(){this.gestureId=0,this.requestedStart=new Map,this.disabledGestures=new Map,this.disabledScroll=new Set}createGesture(ve){var Pe;return new J(this,this.newID(),ve.name,null!==(Pe=ve.priority)&&void 0!==Pe?Pe:0,!!ve.disableScroll)}createBlocker(ve={}){return new G(this,this.newID(),ve.disable,!!ve.disableScroll)}start(ve,Pe,Ne){return this.canStart(ve)?(this.requestedStart.set(Pe,Ne),!0):(this.requestedStart.delete(Pe),!1)}capture(ve,Pe,Ne){if(!this.start(ve,Pe,Ne))return!1;const we=this.requestedStart;let he=-1e4;if(we.forEach(me=>{he=Math.max(he,me)}),he===Ne){this.capturedId=Pe,we.clear();const me=new CustomEvent("ionGestureCaptured",{detail:{gestureName:ve}});return document.dispatchEvent(me),!0}return we.delete(Pe),!1}release(ve){this.requestedStart.delete(ve),this.capturedId===ve&&(this.capturedId=void 0)}disableGesture(ve,Pe){let Ne=this.disabledGestures.get(ve);void 0===Ne&&(Ne=new Set,this.disabledGestures.set(ve,Ne)),Ne.add(Pe)}enableGesture(ve,Pe){const Ne=this.disabledGestures.get(ve);void 0!==Ne&&Ne.delete(Pe)}disableScroll(ve){this.disabledScroll.add(ve),1===this.disabledScroll.size&&document.body.classList.add(Ae)}enableScroll(ve){this.disabledScroll.delete(ve),0===this.disabledScroll.size&&document.body.classList.remove(Ae)}canStart(ve){return!(void 0!==this.capturedId||this.isDisabled(ve))}isCaptured(){return void 0!==this.capturedId}isScrollDisabled(){return this.disabledScroll.size>0}isDisabled(ve){const Pe=this.disabledGestures.get(ve);return!!(Pe&&Pe.size>0)}newID(){return this.gestureId++,this.gestureId}}},7593:(Jt,it,V)=>{"use strict";V.r(it),V.d(it,{MENU_BACK_BUTTON_PRIORITY:()=>_e,OVERLAY_BACK_BUTTON_PRIORITY:()=>Ae,blockHardwareBackButton:()=>J,startHardwareBackButton:()=>G});var c=V(5861);const J=()=>{document.addEventListener("backbutton",()=>{})},G=()=>{const ke=document;let ve=!1;ke.addEventListener("backbutton",()=>{if(ve)return;let Pe=0,Ne=[];const we=new CustomEvent("ionBackButton",{bubbles:!1,detail:{register(Re,We){Ne.push({priority:Re,handler:We,id:Pe++})}}});ke.dispatchEvent(we);const he=function(){var Re=(0,c.Z)(function*(We){try{if(null!=We&&We.handler){const je=We.handler(me);null!=je&&(yield je)}}catch(je){console.error(je)}});return function(je){return Re.apply(this,arguments)}}(),me=()=>{if(Ne.length>0){let Re={priority:Number.MIN_SAFE_INTEGER,handler:()=>{},id:-1};Ne.forEach(We=>{We.priority>=Re.priority&&(Re=We)}),ve=!0,Ne=Ne.filter(We=>We.id!==Re.id),he(Re).then(()=>ve=!1)}};me()})},Ae=100,_e=99},5730:(Jt,it,V)=>{"use strict";V.d(it,{a:()=>ve,b:()=>Pe,c:()=>G,d:()=>We,e:()=>je,f:()=>Re,g:()=>Ne,h:()=>Be,i:()=>ke,j:()=>Ae,k:()=>me,l:()=>Et,m:()=>he,n:()=>Se,o:()=>He,p:()=>fe,q:()=>Je,r:()=>we,s:()=>Qe,t:()=>c,u:()=>Ce});const c=(Ve,Ge=0)=>new Promise(te=>{J(Ve,Ge,te)}),J=(Ve,Ge=0,te)=>{let Ze,le;const ye={passive:!0},Me=()=>{Ze&&Ze()},Xe=Bt=>{(void 0===Bt||Ve===Bt.target)&&(Me(),te(Bt))};return Ve&&(Ve.addEventListener("webkitTransitionEnd",Xe,ye),Ve.addEventListener("transitionend",Xe,ye),le=setTimeout(Xe,Ge+500),Ze=()=>{le&&(clearTimeout(le),le=void 0),Ve.removeEventListener("webkitTransitionEnd",Xe,ye),Ve.removeEventListener("transitionend",Xe,ye)}),Me},G=(Ve,Ge)=>{Ve.componentOnReady?Ve.componentOnReady().then(te=>Ge(te)):we(()=>Ge(Ve))},Ae=(Ve,Ge=[])=>{const te={};return Ge.forEach(Ze=>{Ve.hasAttribute(Ze)&&(null!==Ve.getAttribute(Ze)&&(te[Ze]=Ve.getAttribute(Ze)),Ve.removeAttribute(Ze))}),te},_e=["role","aria-activedescendant","aria-atomic","aria-autocomplete","aria-braillelabel","aria-brailleroledescription","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colindextext","aria-colspan","aria-controls","aria-current","aria-describedby","aria-description","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowindextext","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext"],ke=(Ve,Ge)=>{let te=_e;return Ge&&Ge.length>0&&(te=te.filter(Ze=>!Ge.includes(Ze))),Ae(Ve,te)},ve=(Ve,Ge,te,Ze)=>{var le;if(typeof window<"u"){const ye=window,xe=null===(le=null==ye?void 0:ye.Ionic)||void 0===le?void 0:le.config;if(xe){const Me=xe.get("_ael");if(Me)return Me(Ve,Ge,te,Ze);if(xe._ael)return xe._ael(Ve,Ge,te,Ze)}}return Ve.addEventListener(Ge,te,Ze)},Pe=(Ve,Ge,te,Ze)=>{var le;if(typeof window<"u"){const ye=window,xe=null===(le=null==ye?void 0:ye.Ionic)||void 0===le?void 0:le.config;if(xe){const Me=xe.get("_rel");if(Me)return Me(Ve,Ge,te,Ze);if(xe._rel)return xe._rel(Ve,Ge,te,Ze)}}return Ve.removeEventListener(Ge,te,Ze)},Ne=(Ve,Ge=Ve)=>Ve.shadowRoot||Ge,we=Ve=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(Ve):"function"==typeof requestAnimationFrame?requestAnimationFrame(Ve):setTimeout(Ve),he=Ve=>!!Ve.shadowRoot&&!!Ve.attachShadow,me=Ve=>{const Ge=Ve.closest("ion-item");return Ge?Ge.querySelector("ion-label"):null},Re=Ve=>{if(Ve.focus(),Ve.classList.contains("ion-focusable")){const Ge=Ve.closest("ion-app");Ge&&Ge.setFocus([Ve])}},We=(Ve,Ge)=>{let te;const Ze=Ve.getAttribute("aria-labelledby"),le=Ve.id;let ye=null!==Ze&&""!==Ze.trim()?Ze:Ge+"-lbl",xe=null!==Ze&&""!==Ze.trim()?document.getElementById(Ze):me(Ve);return xe?(null===Ze&&(xe.id=ye),te=xe.textContent,xe.setAttribute("aria-hidden","true")):""!==le.trim()&&(xe=document.querySelector(`label[for="${le}"]`),xe&&(""!==xe.id?ye=xe.id:xe.id=ye=`${le}-lbl`,te=xe.textContent)),{label:xe,labelId:ye,labelText:te}},je=(Ve,Ge,te,Ze,le)=>{if(Ve||he(Ge)){let ye=Ge.querySelector("input.aux-input");ye||(ye=Ge.ownerDocument.createElement("input"),ye.type="hidden",ye.classList.add("aux-input"),Ge.appendChild(ye)),ye.disabled=le,ye.name=te,ye.value=Ze||""}},Et=(Ve,Ge,te)=>Math.max(Ve,Math.min(Ge,te)),Se=(Ve,Ge)=>{if(!Ve){const te="ASSERT: "+Ge;throw console.error(te),new Error(te)}},Ce=Ve=>Ve.timeStamp||Date.now(),fe=Ve=>{if(Ve){const Ge=Ve.changedTouches;if(Ge&&Ge.length>0){const te=Ge[0];return{x:te.clientX,y:te.clientY}}if(void 0!==Ve.pageX)return{x:Ve.pageX,y:Ve.pageY}}return{x:0,y:0}},He=Ve=>{const Ge="rtl"===document.dir;switch(Ve){case"start":return Ge;case"end":return!Ge;default:throw new Error(`"${Ve}" is not a valid value for [side]. Use "start" or "end" instead.`)}},Be=(Ve,Ge)=>{const te=Ve._original||Ve;return{_original:Ve,emit:Je(te.emit.bind(te),Ge)}},Je=(Ve,Ge=0)=>{let te;return(...Ze)=>{clearTimeout(te),te=setTimeout(Ve,Ge,...Ze)}},Qe=(Ve,Ge)=>{if(null!=Ve||(Ve={}),null!=Ge||(Ge={}),Ve===Ge)return!0;const te=Object.keys(Ve);if(te.length!==Object.keys(Ge).length)return!1;for(const Ze of te)if(!(Ze in Ge)||Ve[Ze]!==Ge[Ze])return!1;return!0}},1843:(Jt,it,V)=>{"use strict";V.d(it,{L:()=>Ae,a:()=>_e,b:()=>ke,c:()=>ve,d:()=>Pe,e:()=>Ge,g:()=>le,l:()=>Qe,s:()=>te,t:()=>he});var c=V(5861),J=V(1308),G=V(5730);const Ae="ionViewWillEnter",_e="ionViewDidEnter",ke="ionViewWillLeave",ve="ionViewDidLeave",Pe="ionViewWillUnload",he=ye=>new Promise((xe,Me)=>{(0,J.c)(()=>{me(ye),Re(ye).then(Xe=>{Xe.animation&&Xe.animation.destroy(),We(ye),xe(Xe)},Xe=>{We(ye),Me(Xe)})})}),me=ye=>{const xe=ye.enteringEl,Me=ye.leavingEl;Ze(xe,Me,ye.direction),ye.showGoBack?xe.classList.add("can-go-back"):xe.classList.remove("can-go-back"),te(xe,!1),xe.style.setProperty("pointer-events","none"),Me&&(te(Me,!1),Me.style.setProperty("pointer-events","none"))},Re=function(){var ye=(0,c.Z)(function*(xe){const Me=yield je(xe);return Me&&J.B.isBrowser?Et(Me,xe):Se(xe)});return function(Me){return ye.apply(this,arguments)}}(),We=ye=>{const xe=ye.enteringEl,Me=ye.leavingEl;xe.classList.remove("ion-page-invisible"),xe.style.removeProperty("pointer-events"),void 0!==Me&&(Me.classList.remove("ion-page-invisible"),Me.style.removeProperty("pointer-events"))},je=function(){var ye=(0,c.Z)(function*(xe){return xe.leavingEl&&xe.animated&&0!==xe.duration?xe.animationBuilder?xe.animationBuilder:"ios"===xe.mode?(yield Promise.resolve().then(V.bind(V,6439))).iosTransitionAnimation:(yield Promise.resolve().then(V.bind(V,7838))).mdTransitionAnimation:void 0});return function(Me){return ye.apply(this,arguments)}}(),Et=function(){var ye=(0,c.Z)(function*(xe,Me){yield Ce(Me,!0);const Xe=xe(Me.baseEl,Me);Be(Me.enteringEl,Me.leavingEl);const Bt=yield He(Xe,Me);return Me.progressCallback&&Me.progressCallback(void 0),Bt&&Je(Me.enteringEl,Me.leavingEl),{hasCompleted:Bt,animation:Xe}});return function(Me,Xe){return ye.apply(this,arguments)}}(),Se=function(){var ye=(0,c.Z)(function*(xe){const Me=xe.enteringEl,Xe=xe.leavingEl;return yield Ce(xe,!1),Be(Me,Xe),Je(Me,Xe),{hasCompleted:!0}});return function(Me){return ye.apply(this,arguments)}}(),Ce=function(){var ye=(0,c.Z)(function*(xe,Me){const Bt=(void 0!==xe.deepWait?xe.deepWait:Me)?[Ge(xe.enteringEl),Ge(xe.leavingEl)]:[Ve(xe.enteringEl),Ve(xe.leavingEl)];yield Promise.all(Bt),yield fe(xe.viewIsReady,xe.enteringEl)});return function(Me,Xe){return ye.apply(this,arguments)}}(),fe=function(){var ye=(0,c.Z)(function*(xe,Me){xe&&(yield xe(Me))});return function(Me,Xe){return ye.apply(this,arguments)}}(),He=(ye,xe)=>{const Me=xe.progressCallback,Xe=new Promise(Bt=>{ye.onFinish(on=>Bt(1===on))});return Me?(ye.progressStart(!0),Me(ye)):ye.play(),Xe},Be=(ye,xe)=>{Qe(xe,ke),Qe(ye,Ae)},Je=(ye,xe)=>{Qe(ye,_e),Qe(xe,ve)},Qe=(ye,xe)=>{if(ye){const Me=new CustomEvent(xe,{bubbles:!1,cancelable:!1});ye.dispatchEvent(Me)}},Ve=ye=>ye?new Promise(xe=>(0,G.c)(ye,xe)):Promise.resolve(),Ge=function(){var ye=(0,c.Z)(function*(xe){const Me=xe;if(Me){if(null!=Me.componentOnReady){if(null!=(yield Me.componentOnReady()))return}else if(null!=Me.__registerHost)return void(yield new Promise(Bt=>(0,G.r)(Bt)));yield Promise.all(Array.from(Me.children).map(Ge))}});return function(Me){return ye.apply(this,arguments)}}(),te=(ye,xe)=>{xe?(ye.setAttribute("aria-hidden","true"),ye.classList.add("ion-page-hidden")):(ye.hidden=!1,ye.removeAttribute("aria-hidden"),ye.classList.remove("ion-page-hidden"))},Ze=(ye,xe,Me)=>{void 0!==ye&&(ye.style.zIndex="back"===Me?"99":"101"),void 0!==xe&&(xe.style.zIndex="100")},le=ye=>ye.classList.contains("ion-page")?ye:ye.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")||ye},6369:(Jt,it,V)=>{"use strict";V.d(it,{m:()=>he});var c=V(5861),J=V(7593),G=V(5730),Ae=V(5179),_e=V(181);const ke=me=>(0,_e.c)().duration(me?400:300),ve=me=>{let Re,We;const je=me.width+8,Et=(0,_e.c)(),Se=(0,_e.c)();me.isEndSide?(Re=je+"px",We="0px"):(Re=-je+"px",We="0px"),Et.addElement(me.menuInnerEl).fromTo("transform",`translateX(${Re})`,`translateX(${We})`);const fe="ios"===(0,Ae.b)(me),He=fe?.2:.25;return Se.addElement(me.backdropEl).fromTo("opacity",.01,He),ke(fe).addAnimation([Et,Se])},Pe=me=>{let Re,We;const je=(0,Ae.b)(me),Et=me.width;me.isEndSide?(Re=-Et+"px",We=Et+"px"):(Re=Et+"px",We=-Et+"px");const Se=(0,_e.c)().addElement(me.menuInnerEl).fromTo("transform",`translateX(${We})`,"translateX(0px)"),Ce=(0,_e.c)().addElement(me.contentEl).fromTo("transform","translateX(0px)",`translateX(${Re})`),fe=(0,_e.c)().addElement(me.backdropEl).fromTo("opacity",.01,.32);return ke("ios"===je).addAnimation([Se,Ce,fe])},Ne=me=>{const Re=(0,Ae.b)(me),We=me.width*(me.isEndSide?-1:1)+"px",je=(0,_e.c)().addElement(me.contentEl).fromTo("transform","translateX(0px)",`translateX(${We})`);return ke("ios"===Re).addAnimation(je)},he=(()=>{const me=new Map,Re=[],We=function(){var bt=(0,c.Z)(function*(ft){const Ot=yield Be(ft);return!!Ot&&Ot.open()});return function(Ot){return bt.apply(this,arguments)}}(),je=function(){var bt=(0,c.Z)(function*(ft){const Ot=yield void 0!==ft?Be(ft):Je();return void 0!==Ot&&Ot.close()});return function(Ot){return bt.apply(this,arguments)}}(),Et=function(){var bt=(0,c.Z)(function*(ft){const Ot=yield Be(ft);return!!Ot&&Ot.toggle()});return function(Ot){return bt.apply(this,arguments)}}(),Se=function(){var bt=(0,c.Z)(function*(ft,Ot){const pt=yield Be(Ot);return pt&&(pt.disabled=!ft),pt});return function(Ot,pt){return bt.apply(this,arguments)}}(),Ce=function(){var bt=(0,c.Z)(function*(ft,Ot){const pt=yield Be(Ot);return pt&&(pt.swipeGesture=ft),pt});return function(Ot,pt){return bt.apply(this,arguments)}}(),fe=function(){var bt=(0,c.Z)(function*(ft){if(null!=ft){const Ot=yield Be(ft);return void 0!==Ot&&Ot.isOpen()}return void 0!==(yield Je())});return function(Ot){return bt.apply(this,arguments)}}(),He=function(){var bt=(0,c.Z)(function*(ft){const Ot=yield Be(ft);return!!Ot&&!Ot.disabled});return function(Ot){return bt.apply(this,arguments)}}(),Be=function(){var bt=(0,c.Z)(function*(ft){return yield Rt(),"start"===ft||"end"===ft?on(wt=>wt.side===ft&&!wt.disabled)||on(wt=>wt.side===ft):null!=ft?on(pt=>pt.menuId===ft):on(pt=>!pt.disabled)||(Re.length>0?Re[0].el:void 0)});return function(Ot){return bt.apply(this,arguments)}}(),Je=function(){var bt=(0,c.Z)(function*(){return yield Rt(),Me()});return function(){return bt.apply(this,arguments)}}(),Qe=function(){var bt=(0,c.Z)(function*(){return yield Rt(),Xe()});return function(){return bt.apply(this,arguments)}}(),Ve=function(){var bt=(0,c.Z)(function*(){return yield Rt(),Bt()});return function(){return bt.apply(this,arguments)}}(),Ge=(bt,ft)=>{me.set(bt,ft)},le=bt=>{const ft=bt.side;Re.filter(Ot=>Ot.side===ft&&Ot!==bt).forEach(Ot=>Ot.disabled=!0)},ye=function(){var bt=(0,c.Z)(function*(ft,Ot,pt){if(Bt())return!1;if(Ot){const wt=yield Je();wt&&ft.el!==wt&&(yield wt.setOpen(!1,!1))}return ft._setOpen(Ot,pt)});return function(Ot,pt,wt){return bt.apply(this,arguments)}}(),Me=()=>on(bt=>bt._isOpen),Xe=()=>Re.map(bt=>bt.el),Bt=()=>Re.some(bt=>bt.isAnimating),on=bt=>{const ft=Re.find(bt);if(void 0!==ft)return ft.el},Rt=()=>Promise.all(Array.from(document.querySelectorAll("ion-menu")).map(bt=>new Promise(ft=>(0,G.c)(bt,ft))));return Ge("reveal",Ne),Ge("push",Pe),Ge("overlay",ve),typeof document<"u"&&document.addEventListener("ionBackButton",bt=>{const ft=Me();ft&&bt.detail.register(J.MENU_BACK_BUTTON_PRIORITY,()=>ft.close())}),{registerAnimation:Ge,get:Be,getMenus:Qe,getOpen:Je,isEnabled:He,swipeGesture:Ce,isAnimating:Ve,isOpen:fe,enable:Se,toggle:Et,close:je,open:We,_getOpenSync:Me,_createAnimation:(bt,ft)=>{const Ot=me.get(bt);if(!Ot)throw new Error("animation not registered");return Ot(ft)},_register:bt=>{Re.indexOf(bt)<0&&(bt.disabled||le(bt),Re.push(bt))},_unregister:bt=>{const ft=Re.indexOf(bt);ft>-1&&Re.splice(ft,1)},_setOpen:ye,_setActiveMenu:le}})()},3457:(Jt,it,V)=>{"use strict";V.d(it,{w:()=>c});const c=typeof window<"u"?window:void 0},1898:(Jt,it,V)=>{"use strict";V.r(it),V.d(it,{GESTURE_CONTROLLER:()=>c.G,createGesture:()=>Ne});var c=V(4349);const J=(Re,We,je,Et)=>{const Se=G(Re)?{capture:!!Et.capture,passive:!!Et.passive}:!!Et.capture;let Ce,fe;return Re.__zone_symbol__addEventListener?(Ce="__zone_symbol__addEventListener",fe="__zone_symbol__removeEventListener"):(Ce="addEventListener",fe="removeEventListener"),Re[Ce](We,je,Se),()=>{Re[fe](We,je,Se)}},G=Re=>{if(void 0===Ae)try{const We=Object.defineProperty({},"passive",{get:()=>{Ae=!0}});Re.addEventListener("optsTest",()=>{},We)}catch(We){Ae=!1}return!!Ae};let Ae;const ve=Re=>Re instanceof Document?Re:Re.ownerDocument,Ne=Re=>{let We=!1,je=!1,Et=!0,Se=!1;const Ce=Object.assign({disableScroll:!1,direction:"x",gesturePriority:0,passive:!0,maxAngle:40,threshold:10},Re),fe=Ce.canStart,He=Ce.onWillStart,Be=Ce.onStart,Je=Ce.onEnd,Qe=Ce.notCaptured,Ve=Ce.onMove,Ge=Ce.threshold,te=Ce.passive,Ze=Ce.blurOnStart,le={type:"pan",startX:0,startY:0,startTime:0,currentX:0,currentY:0,velocityX:0,velocityY:0,deltaX:0,deltaY:0,currentTime:0,event:void 0,data:void 0},ye=((Re,We,je)=>{const Et=je*(Math.PI/180),Se="x"===Re,Ce=Math.cos(Et),fe=We*We;let He=0,Be=0,Je=!1,Qe=0;return{start(Ve,Ge){He=Ve,Be=Ge,Qe=0,Je=!0},detect(Ve,Ge){if(!Je)return!1;const te=Ve-He,Ze=Ge-Be,le=te*te+Ze*Ze;if(le<fe)return!1;const ye=Math.sqrt(le),xe=(Se?te:Ze)/ye;return Qe=xe>Ce?1:xe<-Ce?-1:0,Je=!1,!0},isGesture:()=>0!==Qe,getDirection:()=>Qe}})(Ce.direction,Ce.threshold,Ce.maxAngle),xe=c.G.createGesture({name:Re.gestureName,priority:Re.gesturePriority,disableScroll:Re.disableScroll}),Bt=()=>{!We||(Se=!1,Ve&&Ve(le))},on=()=>!!xe.capture()&&(We=!0,Et=!1,le.startX=le.currentX,le.startY=le.currentY,le.startTime=le.currentTime,He?He(le).then(bt):bt(),!0),bt=()=>{Ze&&(()=>{if(typeof document<"u"){const st=document.activeElement;null!=st&&st.blur&&st.blur()}})(),Be&&Be(le),Et=!0},ft=()=>{We=!1,je=!1,Se=!1,Et=!0,xe.release()},Ot=st=>{const nn=We,Kt=Et;if(ft(),Kt){if(we(le,st),nn)return void(Je&&Je(le));Qe&&Qe(le)}},pt=((Re,We,je,Et,Se)=>{let Ce,fe,He,Be,Je,Qe,Ve,Ge=0;const te=Rt=>{Ge=Date.now()+2e3,We(Rt)&&(!fe&&je&&(fe=J(Re,"touchmove",je,Se)),He||(He=J(Rt.target,"touchend",le,Se)),Be||(Be=J(Rt.target,"touchcancel",le,Se)))},Ze=Rt=>{Ge>Date.now()||!We(Rt)||(!Qe&&je&&(Qe=J(ve(Re),"mousemove",je,Se)),Ve||(Ve=J(ve(Re),"mouseup",ye,Se)))},le=Rt=>{xe(),Et&&Et(Rt)},ye=Rt=>{Me(),Et&&Et(Rt)},xe=()=>{fe&&fe(),He&&He(),Be&&Be(),fe=He=Be=void 0},Me=()=>{Qe&&Qe(),Ve&&Ve(),Qe=Ve=void 0},Xe=()=>{xe(),Me()},Bt=(Rt=!0)=>{Rt?(Ce||(Ce=J(Re,"touchstart",te,Se)),Je||(Je=J(Re,"mousedown",Ze,Se))):(Ce&&Ce(),Je&&Je(),Ce=Je=void 0,Xe())};return{enable:Bt,stop:Xe,destroy:()=>{Bt(!1),Et=je=We=void 0}}})(Ce.el,st=>{const nn=me(st);return!(je||!Et||(he(st,le),le.startX=le.currentX,le.startY=le.currentY,le.startTime=le.currentTime=nn,le.velocityX=le.velocityY=le.deltaX=le.deltaY=0,le.event=st,fe&&!1===fe(le))||(xe.release(),!xe.start()))&&(je=!0,0===Ge?on():(ye.start(le.startX,le.startY),!0))},st=>{We?!Se&&Et&&(Se=!0,we(le,st),requestAnimationFrame(Bt)):(we(le,st),ye.detect(le.currentX,le.currentY)&&(!ye.isGesture()||!on())&&wt())},Ot,{capture:!1,passive:te}),wt=()=>{ft(),pt.stop(),Qe&&Qe(le)};return{enable(st=!0){st||(We&&Ot(void 0),ft()),pt.enable(st)},destroy(){xe.destroy(),pt.destroy()}}},we=(Re,We)=>{if(!We)return;const je=Re.currentX,Et=Re.currentY,Se=Re.currentTime;he(We,Re);const Ce=Re.currentX,fe=Re.currentY,Be=(Re.currentTime=me(We))-Se;if(Be>0&&Be<100){const Qe=(fe-Et)/Be;Re.velocityX=(Ce-je)/Be*.7+.3*Re.velocityX,Re.velocityY=.7*Qe+.3*Re.velocityY}Re.deltaX=Ce-Re.startX,Re.deltaY=fe-Re.startY,Re.event=We},he=(Re,We)=>{let je=0,Et=0;if(Re){const Se=Re.changedTouches;if(Se&&Se.length>0){const Ce=Se[0];je=Ce.clientX,Et=Ce.clientY}else void 0!==Re.pageX&&(je=Re.pageX,Et=Re.pageY)}We.currentX=je,We.currentY=Et},me=Re=>Re.timeStamp||Date.now()},1308:(Jt,it,V)=>{"use strict";V.d(it,{B:()=>ni,H:()=>cr,a:()=>wt,b:()=>Yr,c:()=>mi,e:()=>li,f:()=>Li,g:()=>st,h:()=>Wn,i:()=>ar,j:()=>ge,k:()=>Zr,p:()=>Et,r:()=>xr,s:()=>We});var c=V(5861);let G,Ae,_e,ke=!1,ve=!1,Pe=!1,Ne=!1,we=!1;const he=typeof window<"u"?window:{},me=he.document||{head:{}},Re={$flags$:0,$resourcesUrl$:"",jmp:se=>se(),raf:se=>requestAnimationFrame(se),ael:(se,Ie,at,mt)=>se.addEventListener(Ie,at,mt),rel:(se,Ie,at,mt)=>se.removeEventListener(Ie,at,mt),ce:(se,Ie)=>new CustomEvent(se,Ie)},We=se=>{Object.assign(Re,se)},Et=se=>Promise.resolve(se),Se=(()=>{try{return new CSSStyleSheet,"function"==typeof(new CSSStyleSheet).replaceSync}catch(se){}return!1})(),Ce=(se,Ie,at,mt)=>{at&&at.map(([dt,be,rt])=>{const St=He(se,dt),zt=fe(Ie,rt),jt=Be(dt);Re.ael(St,be,zt,jt),(Ie.$rmListeners$=Ie.$rmListeners$||[]).push(()=>Re.rel(St,be,zt,jt))})},fe=(se,Ie)=>at=>{try{256&se.$flags$?se.$lazyInstance$[Ie](at):(se.$queuedListeners$=se.$queuedListeners$||[]).push([Ie,at])}catch(mt){ti(mt)}},He=(se,Ie)=>4&Ie?me:8&Ie?he:16&Ie?me.body:se,Be=se=>0!=(2&se),te="s-id",Ze="sty-id",xe="http://www.w3.org/1999/xlink",Bt=new WeakMap,on=(se,Ie,at)=>{let mt=gi.get(se);Se&&at?(mt=mt||new CSSStyleSheet,"string"==typeof mt?mt=Ie:mt.replaceSync(Ie)):mt=Ie,gi.set(se,mt)},Rt=(se,Ie,at,mt)=>{let dt=ft(Ie,at);const be=gi.get(dt);if(se=11===se.nodeType?se:me,be)if("string"==typeof be){let St,rt=Bt.get(se=se.head||se);rt||Bt.set(se,rt=new Set),rt.has(dt)||(se.host&&(St=se.querySelector(`[${Ze}="${dt}"]`))?St.innerHTML=be:(St=me.createElement("style"),St.innerHTML=be,se.insertBefore(St,se.querySelector("link"))),rt&&rt.add(dt))}else se.adoptedStyleSheets.includes(be)||(se.adoptedStyleSheets=[...se.adoptedStyleSheets,be]);return dt},ft=(se,Ie)=>"sc-"+(Ie&&32&se.$flags$?se.$tagName$+"-"+Ie:se.$tagName$),Ot=se=>se.replace(/\/\*!@([^\/]+)\*\/[^\{]+\{/g,"$1{"),wt=se=>Fi.push(se),st=se=>ei(se).$modeName$,nn={},sr=se=>"object"==(se=typeof se)||"function"===se,Wn=(se,Ie,...at)=>{let mt=null,dt=null,be=null,rt=!1,St=!1;const zt=[],jt=Vn=>{for(let kn=0;kn<Vn.length;kn++)mt=Vn[kn],Array.isArray(mt)?jt(mt):null!=mt&&"boolean"!=typeof mt&&((rt="function"!=typeof se&&!sr(mt))&&(mt=String(mt)),rt&&St?zt[zt.length-1].$text$+=mt:zt.push(rt?or(null,mt):mt),St=rt)};if(jt(at),Ie){Ie.key&&(dt=Ie.key),Ie.name&&(be=Ie.name);{const Vn=Ie.className||Ie.class;Vn&&(Ie.class="object"!=typeof Vn?Vn:Object.keys(Vn).filter(kn=>Vn[kn]).join(" "))}}if("function"==typeof se)return se(null===Ie?{}:Ie,zt,Vr);const vn=or(se,null);return vn.$attrs$=Ie,zt.length>0&&(vn.$children$=zt),vn.$key$=dt,vn.$name$=be,vn},or=(se,Ie)=>({$flags$:0,$tag$:se,$text$:Ie,$elm$:null,$children$:null,$attrs$:null,$key$:null,$name$:null}),cr={},Vr={forEach:(se,Ie)=>se.map(Dn).forEach(Ie),map:(se,Ie)=>se.map(Dn).map(Ie).map(ai)},Dn=se=>({vattrs:se.$attrs$,vchildren:se.$children$,vkey:se.$key$,vname:se.$name$,vtag:se.$tag$,vtext:se.$text$}),ai=se=>{if("function"==typeof se.vtag){const at=Object.assign({},se.vattrs);return se.vkey&&(at.key=se.vkey),se.vname&&(at.name=se.vname),Wn(se.vtag,at,...se.vchildren||[])}const Ie=or(se.vtag,se.vtext);return Ie.$attrs$=se.vattrs,Ie.$children$=se.vchildren,Ie.$key$=se.vkey,Ie.$name$=se.vname,Ie},Wt=(se,Ie,at,mt,dt,be)=>{if(at!==mt){let rt=ss(se,Ie),St=Ie.toLowerCase();if("class"===Ie){const zt=se.classList,jt=hn(at),vn=hn(mt);zt.remove(...jt.filter(Vn=>Vn&&!vn.includes(Vn))),zt.add(...vn.filter(Vn=>Vn&&!jt.includes(Vn)))}else if("style"===Ie){for(const zt in at)(!mt||null==mt[zt])&&(zt.includes("-")?se.style.removeProperty(zt):se.style[zt]="");for(const zt in mt)(!at||mt[zt]!==at[zt])&&(zt.includes("-")?se.style.setProperty(zt,mt[zt]):se.style[zt]=mt[zt])}else if("key"!==Ie)if("ref"===Ie)mt&&mt(se);else if(rt||"o"!==Ie[0]||"n"!==Ie[1]){const zt=sr(mt);if((rt||zt&&null!==mt)&&!dt)try{if(se.tagName.includes("-"))se[Ie]=mt;else{const vn=null==mt?"":mt;"list"===Ie?rt=!1:(null==at||se[Ie]!=vn)&&(se[Ie]=vn)}}catch(vn){}let jt=!1;St!==(St=St.replace(/^xlink\:?/,""))&&(Ie=St,jt=!0),null==mt||!1===mt?(!1!==mt||""===se.getAttribute(Ie))&&(jt?se.removeAttributeNS(xe,Ie):se.removeAttribute(Ie)):(!rt||4&be||dt)&&!zt&&(mt=!0===mt?"":mt,jt?se.setAttributeNS(xe,Ie,mt):se.setAttribute(Ie,mt))}else Ie="-"===Ie[2]?Ie.slice(3):ss(he,St)?St.slice(2):St[2]+Ie.slice(3),at&&Re.rel(se,Ie,at,!1),mt&&Re.ael(se,Ie,mt,!1)}},Ur=/\s/,hn=se=>se?se.split(Ur):[],ui=(se,Ie,at,mt)=>{const dt=11===Ie.$elm$.nodeType&&Ie.$elm$.host?Ie.$elm$.host:Ie.$elm$,be=se&&se.$attrs$||nn,rt=Ie.$attrs$||nn;for(mt in be)mt in rt||Wt(dt,mt,be[mt],void 0,at,Ie.$flags$);for(mt in rt)Wt(dt,mt,be[mt],rt[mt],at,Ie.$flags$)},gr=(se,Ie,at,mt)=>{const dt=Ie.$children$[at];let rt,St,zt,be=0;if(ke||(Pe=!0,"slot"===dt.$tag$&&(G&&mt.classList.add(G+"-s"),dt.$flags$|=dt.$children$?2:1)),null!==dt.$text$)rt=dt.$elm$=me.createTextNode(dt.$text$);else if(1&dt.$flags$)rt=dt.$elm$=me.createTextNode("");else{if(Ne||(Ne="svg"===dt.$tag$),rt=dt.$elm$=me.createElementNS(Ne?"http://www.w3.org/2000/svg":"http://www.w3.org/1999/xhtml",2&dt.$flags$?"slot-fb":dt.$tag$),Ne&&"foreignObject"===dt.$tag$&&(Ne=!1),ui(null,dt,Ne),(se=>null!=se)(G)&&rt["s-si"]!==G&&rt.classList.add(rt["s-si"]=G),dt.$children$)for(be=0;be<dt.$children$.length;++be)St=gr(se,dt,be,rt),St&&rt.appendChild(St);"svg"===dt.$tag$?Ne=!1:"foreignObject"===rt.tagName&&(Ne=!0)}return rt["s-hn"]=_e,3&dt.$flags$&&(rt["s-sr"]=!0,rt["s-cr"]=Ae,rt["s-sn"]=dt.$name$||"",zt=se&&se.$children$&&se.$children$[at],zt&&zt.$tag$===dt.$tag$&&se.$elm$&&vr(se.$elm$,!1)),rt},vr=(se,Ie)=>{Re.$flags$|=1;const at=se.childNodes;for(let mt=at.length-1;mt>=0;mt--){const dt=at[mt];dt["s-hn"]!==_e&&dt["s-ol"]&&(zn(dt).insertBefore(dt,fn(dt)),dt["s-ol"].remove(),dt["s-ol"]=void 0,Pe=!0),Ie&&vr(dt,Ie)}Re.$flags$&=-2},Si=(se,Ie,at,mt,dt,be)=>{let St,rt=se["s-cr"]&&se["s-cr"].parentNode||se;for(rt.shadowRoot&&rt.tagName===_e&&(rt=rt.shadowRoot);dt<=be;++dt)mt[dt]&&(St=gr(null,at,dt,se),St&&(mt[dt].$elm$=St,rt.insertBefore(St,fn(Ie))))},Oi=(se,Ie,at,mt,dt)=>{for(;Ie<=at;++Ie)(mt=se[Ie])&&(dt=mt.$elm$,Rr(mt),ve=!0,dt["s-ol"]?dt["s-ol"].remove():vr(dt,!0),dt.remove())},On=(se,Ie)=>se.$tag$===Ie.$tag$&&("slot"===se.$tag$?se.$name$===Ie.$name$:se.$key$===Ie.$key$),fn=se=>se&&se["s-ol"]||se,zn=se=>(se["s-ol"]?se["s-ol"]:se).parentNode,_r=(se,Ie)=>{const at=Ie.$elm$=se.$elm$,mt=se.$children$,dt=Ie.$children$,be=Ie.$tag$,rt=Ie.$text$;let St;null===rt?(Ne="svg"===be||"foreignObject"!==be&&Ne,"slot"===be||ui(se,Ie,Ne),null!==mt&&null!==dt?((se,Ie,at,mt)=>{let Hr,nt,dt=0,be=0,rt=0,St=0,zt=Ie.length-1,jt=Ie[0],vn=Ie[zt],Vn=mt.length-1,kn=mt[0],rr=mt[Vn];for(;dt<=zt&&be<=Vn;)if(null==jt)jt=Ie[++dt];else if(null==vn)vn=Ie[--zt];else if(null==kn)kn=mt[++be];else if(null==rr)rr=mt[--Vn];else if(On(jt,kn))_r(jt,kn),jt=Ie[++dt],kn=mt[++be];else if(On(vn,rr))_r(vn,rr),vn=Ie[--zt],rr=mt[--Vn];else if(On(jt,rr))("slot"===jt.$tag$||"slot"===rr.$tag$)&&vr(jt.$elm$.parentNode,!1),_r(jt,rr),se.insertBefore(jt.$elm$,vn.$elm$.nextSibling),jt=Ie[++dt],rr=mt[--Vn];else if(On(vn,kn))("slot"===jt.$tag$||"slot"===rr.$tag$)&&vr(vn.$elm$.parentNode,!1),_r(vn,kn),se.insertBefore(vn.$elm$,jt.$elm$),vn=Ie[--zt],kn=mt[++be];else{for(rt=-1,St=dt;St<=zt;++St)if(Ie[St]&&null!==Ie[St].$key$&&Ie[St].$key$===kn.$key$){rt=St;break}rt>=0?(nt=Ie[rt],nt.$tag$!==kn.$tag$?Hr=gr(Ie&&Ie[be],at,rt,se):(_r(nt,kn),Ie[rt]=void 0,Hr=nt.$elm$),kn=mt[++be]):(Hr=gr(Ie&&Ie[be],at,be,se),kn=mt[++be]),Hr&&zn(jt.$elm$).insertBefore(Hr,fn(jt.$elm$))}dt>zt?Si(se,null==mt[Vn+1]?null:mt[Vn+1].$elm$,at,mt,be,Vn):be>Vn&&Oi(Ie,dt,zt)})(at,mt,Ie,dt):null!==dt?(null!==se.$text$&&(at.textContent=""),Si(at,null,Ie,dt,0,dt.length-1)):null!==mt&&Oi(mt,0,mt.length-1),Ne&&"svg"===be&&(Ne=!1)):(St=at["s-cr"])?St.parentNode.textContent=rt:se.$text$!==rt&&(at.data=rt)},wr=se=>{const Ie=se.childNodes;let at,mt,dt,be,rt,St;for(mt=0,dt=Ie.length;mt<dt;mt++)if(at=Ie[mt],1===at.nodeType){if(at["s-sr"])for(rt=at["s-sn"],at.hidden=!1,be=0;be<dt;be++)if(St=Ie[be].nodeType,Ie[be]["s-hn"]!==at["s-hn"]||""!==rt){if(1===St&&rt===Ie[be].getAttribute("slot")){at.hidden=!0;break}}else if(1===St||3===St&&""!==Ie[be].textContent.trim()){at.hidden=!0;break}wr(at)}},Nr=[],xi=se=>{let Ie,at,mt,dt,be,rt,St=0;const zt=se.childNodes,jt=zt.length;for(;St<jt;St++){if(Ie=zt[St],Ie["s-sr"]&&(at=Ie["s-cr"])&&at.parentNode)for(mt=at.parentNode.childNodes,dt=Ie["s-sn"],rt=mt.length-1;rt>=0;rt--)at=mt[rt],!at["s-cn"]&&!at["s-nr"]&&at["s-hn"]!==Ie["s-hn"]&&(ki(at,dt)?(be=Nr.find(vn=>vn.$nodeToRelocate$===at),ve=!0,at["s-sn"]=at["s-sn"]||dt,be?be.$slotRefNode$=Ie:Nr.push({$slotRefNode$:Ie,$nodeToRelocate$:at}),at["s-sr"]&&Nr.map(vn=>{ki(vn.$nodeToRelocate$,at["s-sn"])&&(be=Nr.find(Vn=>Vn.$nodeToRelocate$===at),be&&!vn.$slotRefNode$&&(vn.$slotRefNode$=be.$slotRefNode$))})):Nr.some(vn=>vn.$nodeToRelocate$===at)||Nr.push({$nodeToRelocate$:at}));1===Ie.nodeType&&xi(Ie)}},ki=(se,Ie)=>1===se.nodeType?null===se.getAttribute("slot")&&""===Ie||se.getAttribute("slot")===Ie:se["s-sn"]===Ie||""===Ie,Rr=se=>{se.$attrs$&&se.$attrs$.ref&&se.$attrs$.ref(null),se.$children$&&se.$children$.map(Rr)},ar=se=>ei(se).$hostElement$,li=(se,Ie,at)=>{const mt=ar(se);return{emit:dt=>fr(mt,Ie,{bubbles:!!(4&at),composed:!!(2&at),cancelable:!!(1&at),detail:dt})}},fr=(se,Ie,at)=>{const mt=Re.ce(Ie,at);return se.dispatchEvent(mt),mt},sn=(se,Ie)=>{Ie&&!se.$onRenderResolve$&&Ie["s-p"]&&Ie["s-p"].push(new Promise(at=>se.$onRenderResolve$=at))},qt=(se,Ie)=>{if(se.$flags$|=16,!(4&se.$flags$))return sn(se,se.$ancestorComponent$),mi(()=>gt(se,Ie));se.$flags$|=512},gt=(se,Ie)=>{const mt=se.$lazyInstance$;let dt;return Ie&&(se.$flags$|=256,se.$queuedListeners$&&(se.$queuedListeners$.map(([be,rt])=>ze(mt,be,rt)),se.$queuedListeners$=null),dt=ze(mt,"componentWillLoad")),dt=At(dt,()=>ze(mt,"componentWillRender")),At(dt,()=>Fe(se,mt,Ie))},Fe=function(){var se=(0,c.Z)(function*(Ie,at,mt){const dt=Ie.$hostElement$,rt=dt["s-rc"];mt&&(se=>{const Ie=se.$cmpMeta$,at=se.$hostElement$,mt=Ie.$flags$,be=Rt(at.shadowRoot?at.shadowRoot:at.getRootNode(),Ie,se.$modeName$);10&mt&&(at["s-sc"]=be,at.classList.add(be+"-h"),2&mt&&at.classList.add(be+"-s"))})(Ie);Ke(Ie,at),rt&&(rt.map(zt=>zt()),dt["s-rc"]=void 0);{const zt=dt["s-p"],jt=()=>xt(Ie);0===zt.length?jt():(Promise.all(zt).then(jt),Ie.$flags$|=4,zt.length=0)}});return function(at,mt,dt){return se.apply(this,arguments)}}(),Ke=(se,Ie,at)=>{try{Ie=Ie.render&&Ie.render(),se.$flags$&=-17,se.$flags$|=2,((se,Ie)=>{const at=se.$hostElement$,mt=se.$cmpMeta$,dt=se.$vnode$||or(null,null),be=(se=>se&&se.$tag$===cr)(Ie)?Ie:Wn(null,null,Ie);if(_e=at.tagName,mt.$attrsToReflect$&&(be.$attrs$=be.$attrs$||{},mt.$attrsToReflect$.map(([rt,St])=>be.$attrs$[St]=at[rt])),be.$tag$=null,be.$flags$|=4,se.$vnode$=be,be.$elm$=dt.$elm$=at.shadowRoot||at,G=at["s-sc"],Ae=at["s-cr"],ke=0!=(1&mt.$flags$),ve=!1,_r(dt,be),Re.$flags$|=1,Pe){xi(be.$elm$);let rt,St,zt,jt,vn,Vn,kn=0;for(;kn<Nr.length;kn++)rt=Nr[kn],St=rt.$nodeToRelocate$,St["s-ol"]||(zt=me.createTextNode(""),zt["s-nr"]=St,St.parentNode.insertBefore(St["s-ol"]=zt,St));for(kn=0;kn<Nr.length;kn++)if(rt=Nr[kn],St=rt.$nodeToRelocate$,rt.$slotRefNode$){for(jt=rt.$slotRefNode$.parentNode,vn=rt.$slotRefNode$.nextSibling,zt=St["s-ol"];zt=zt.previousSibling;)if(Vn=zt["s-nr"],Vn&&Vn["s-sn"]===St["s-sn"]&&jt===Vn.parentNode&&(Vn=Vn.nextSibling,!Vn||!Vn["s-nr"])){vn=Vn;break}(!vn&&jt!==St.parentNode||St.nextSibling!==vn)&&St!==vn&&(!St["s-hn"]&&St["s-ol"]&&(St["s-hn"]=St["s-ol"].parentNode.nodeName),jt.insertBefore(St,vn))}else 1===St.nodeType&&(St.hidden=!0)}ve&&wr(be.$elm$),Re.$flags$&=-2,Nr.length=0})(se,Ie)}catch(mt){ti(mt,se.$hostElement$)}return null},xt=se=>{const at=se.$hostElement$,dt=se.$lazyInstance$,be=se.$ancestorComponent$;ze(dt,"componentDidRender"),64&se.$flags$?ze(dt,"componentDidUpdate"):(se.$flags$|=64,ct(at),ze(dt,"componentDidLoad"),se.$onReadyResolve$(at),be||De()),se.$onInstanceResolve$(at),se.$onRenderResolve$&&(se.$onRenderResolve$(),se.$onRenderResolve$=void 0),512&se.$flags$&&Fr(()=>qt(se,!1)),se.$flags$&=-517},ge=se=>{{const Ie=ei(se),at=Ie.$hostElement$.isConnected;return at&&2==(18&Ie.$flags$)&&qt(Ie,!1),at}},De=se=>{ct(me.documentElement),Fr(()=>fr(he,"appload",{detail:{namespace:"ionic"}}))},ze=(se,Ie,at)=>{if(se&&se[Ie])try{return se[Ie](at)}catch(mt){ti(mt)}},At=(se,Ie)=>se&&se.then?se.then(Ie):Ie(),ct=se=>se.classList.add("hydrated"),$n=(se,Ie,at,mt,dt,be,rt)=>{let St,zt,jt,vn;if(1===be.nodeType){for(St=be.getAttribute("c-id"),St&&(zt=St.split("."),(zt[0]===rt||"0"===zt[0])&&(jt={$flags$:0,$hostId$:zt[0],$nodeId$:zt[1],$depth$:zt[2],$index$:zt[3],$tag$:be.tagName.toLowerCase(),$elm$:be,$attrs$:null,$children$:null,$key$:null,$name$:null,$text$:null},Ie.push(jt),be.removeAttribute("c-id"),se.$children$||(se.$children$=[]),se.$children$[jt.$index$]=jt,se=jt,mt&&"0"===jt.$depth$&&(mt[jt.$index$]=jt.$elm$))),vn=be.childNodes.length-1;vn>=0;vn--)$n(se,Ie,at,mt,dt,be.childNodes[vn],rt);if(be.shadowRoot)for(vn=be.shadowRoot.childNodes.length-1;vn>=0;vn--)$n(se,Ie,at,mt,dt,be.shadowRoot.childNodes[vn],rt)}else if(8===be.nodeType)zt=be.nodeValue.split("."),(zt[1]===rt||"0"===zt[1])&&(St=zt[0],jt={$flags$:0,$hostId$:zt[1],$nodeId$:zt[2],$depth$:zt[3],$index$:zt[4],$elm$:be,$attrs$:null,$children$:null,$key$:null,$name$:null,$tag$:null,$text$:null},"t"===St?(jt.$elm$=be.nextSibling,jt.$elm$&&3===jt.$elm$.nodeType&&(jt.$text$=jt.$elm$.textContent,Ie.push(jt),be.remove(),se.$children$||(se.$children$=[]),se.$children$[jt.$index$]=jt,mt&&"0"===jt.$depth$&&(mt[jt.$index$]=jt.$elm$))):jt.$hostId$===rt&&("s"===St?(jt.$tag$="slot",be["s-sn"]=zt[5]?jt.$name$=zt[5]:"",be["s-sr"]=!0,mt&&(jt.$elm$=me.createElement(jt.$tag$),jt.$name$&&jt.$elm$.setAttribute("name",jt.$name$),be.parentNode.insertBefore(jt.$elm$,be),be.remove(),"0"===jt.$depth$&&(mt[jt.$index$]=jt.$elm$)),at.push(jt),se.$children$||(se.$children$=[]),se.$children$[jt.$index$]=jt):"r"===St&&(mt?be.remove():(dt["s-cr"]=be,be["s-cn"]=!0))));else if(se&&"style"===se.$tag$){const Vn=or(null,be.textContent);Vn.$elm$=be,Vn.$index$="0",se.$children$=[Vn]}},Ht=(se,Ie)=>{if(1===se.nodeType){let at=0;for(;at<se.childNodes.length;at++)Ht(se.childNodes[at],Ie);if(se.shadowRoot)for(at=0;at<se.shadowRoot.childNodes.length;at++)Ht(se.shadowRoot.childNodes[at],Ie)}else if(8===se.nodeType){const at=se.nodeValue.split(".");"o"===at[0]&&(Ie.set(at[1]+"."+at[2],se),se.nodeValue="",se["s-en"]=at[3])}},Oe=(se,Ie,at)=>{if(Ie.$members$){se.watchers&&(Ie.$watchers$=se.watchers);const mt=Object.entries(Ie.$members$),dt=se.prototype;if(mt.map(([be,[rt]])=>{31&rt||2&at&&32&rt?Object.defineProperty(dt,be,{get(){return((se,Ie)=>ei(this).$instanceValues$.get(Ie))(0,be)},set(St){((se,Ie,at,mt)=>{const dt=ei(se),be=dt.$hostElement$,rt=dt.$instanceValues$.get(Ie),St=dt.$flags$,zt=dt.$lazyInstance$;at=((se,Ie)=>null==se||sr(se)?se:4&Ie?"false"!==se&&(""===se||!!se):2&Ie?parseFloat(se):1&Ie?String(se):se)(at,mt.$members$[Ie][0]);const jt=Number.isNaN(rt)&&Number.isNaN(at);if((!(8&St)||void 0===rt)&&at!==rt&&!jt&&(dt.$instanceValues$.set(Ie,at),zt)){if(mt.$watchers$&&128&St){const Vn=mt.$watchers$[Ie];Vn&&Vn.map(kn=>{try{zt[kn](at,rt,Ie)}catch(rr){ti(rr,be)}})}2==(18&St)&&qt(dt,!1)}})(this,be,St,Ie)},configurable:!0,enumerable:!0}):1&at&&64&rt&&Object.defineProperty(dt,be,{value(...St){const zt=ei(this);return zt.$onInstancePromise$.then(()=>zt.$lazyInstance$[be](...St))}})}),1&at){const be=new Map;dt.attributeChangedCallback=function(rt,St,zt){Re.jmp(()=>{const jt=be.get(rt);if(this.hasOwnProperty(jt))zt=this[jt],delete this[jt];else if(dt.hasOwnProperty(jt)&&"number"==typeof this[jt]&&this[jt]==zt)return;this[jt]=(null!==zt||"boolean"!=typeof this[jt])&&zt})},se.observedAttributes=mt.filter(([rt,St])=>15&St[0]).map(([rt,St])=>{const zt=St[1]||rt;return be.set(zt,rt),512&St[0]&&Ie.$attrsToReflect$.push([rt,zt]),zt})}}return se},Te=function(){var se=(0,c.Z)(function*(Ie,at,mt,dt,be){if(0==(32&at.$flags$)){{if(at.$flags$|=32,(be=mr(mt)).then){const jt=()=>{};be=yield be,jt()}be.isProxied||(mt.$watchers$=be.watchers,Oe(be,mt,2),be.isProxied=!0);const zt=()=>{};at.$flags$|=8;try{new be(at)}catch(jt){ti(jt)}at.$flags$&=-9,at.$flags$|=128,zt(),ht(at.$lazyInstance$)}if(be.style){let zt=be.style;"string"!=typeof zt&&(zt=zt[at.$modeName$=(se=>Fi.map(Ie=>Ie(se)).find(Ie=>!!Ie))(Ie)]);const jt=ft(mt,at.$modeName$);if(!gi.has(jt)){const vn=()=>{};on(jt,zt,!!(1&mt.$flags$)),vn()}}}const rt=at.$ancestorComponent$,St=()=>qt(at,!0);rt&&rt["s-rc"]?rt["s-rc"].push(St):St()});return function(at,mt,dt,be,rt){return se.apply(this,arguments)}}(),ht=se=>{ze(se,"connectedCallback")},Tn=se=>{const Ie=se["s-cr"]=me.createComment("");Ie["s-cn"]=!0,se.insertBefore(Ie,se.firstChild)},Yr=(se,Ie={})=>{const mt=[],dt=Ie.exclude||[],be=he.customElements,rt=me.head,St=rt.querySelector("meta[charset]"),zt=me.createElement("style"),jt=[],vn=me.querySelectorAll(`[${Ze}]`);let Vn,kn=!0,rr=0;for(Object.assign(Re,Ie),Re.$resourcesUrl$=new URL(Ie.resourcesUrl||"./",me.baseURI).href,Re.$flags$|=2;rr<vn.length;rr++)on(vn[rr].getAttribute(Ze),Ot(vn[rr].innerHTML),!0);se.map(Hr=>{Hr[1].map(nt=>{const ut={$flags$:nt[0],$tagName$:nt[1],$members$:nt[2],$listeners$:nt[3]};ut.$members$=nt[2],ut.$listeners$=nt[3],ut.$attrsToReflect$=[],ut.$watchers$={};const It=ut.$tagName$,Zt=class extends HTMLElement{constructor(un){super(un),Ps(un=this,ut),1&ut.$flags$&&un.attachShadow({mode:"open",delegatesFocus:!!(16&ut.$flags$)})}connectedCallback(){Vn&&(clearTimeout(Vn),Vn=null),kn?jt.push(this):Re.jmp(()=>(se=>{if(0==(1&Re.$flags$)){const Ie=ei(se),at=Ie.$cmpMeta$,mt=()=>{};if(1&Ie.$flags$)Ce(se,Ie,at.$listeners$),ht(Ie.$lazyInstance$);else{let dt;if(Ie.$flags$|=1,dt=se.getAttribute(te),dt){if(1&at.$flags$){const be=Rt(se.shadowRoot,at,se.getAttribute("s-mode"));se.classList.remove(be+"-h",be+"-s")}((se,Ie,at,mt)=>{const be=se.shadowRoot,rt=[],zt=be?[]:null,jt=mt.$vnode$=or(Ie,null);Re.$orgLocNodes$||Ht(me.body,Re.$orgLocNodes$=new Map),se[te]=at,se.removeAttribute(te),$n(jt,rt,[],zt,se,se,at),rt.map(vn=>{const Vn=vn.$hostId$+"."+vn.$nodeId$,kn=Re.$orgLocNodes$.get(Vn),rr=vn.$elm$;kn&&""===kn["s-en"]&&kn.parentNode.insertBefore(rr,kn.nextSibling),be||(rr["s-hn"]=Ie,kn&&(rr["s-ol"]=kn,rr["s-ol"]["s-nr"]=rr)),Re.$orgLocNodes$.delete(Vn)}),be&&zt.map(vn=>{vn&&be.appendChild(vn)})})(se,at.$tagName$,dt,Ie)}dt||12&at.$flags$&&Tn(se);{let be=se;for(;be=be.parentNode||be.host;)if(1===be.nodeType&&be.hasAttribute("s-id")&&be["s-p"]||be["s-p"]){sn(Ie,Ie.$ancestorComponent$=be);break}}at.$members$&&Object.entries(at.$members$).map(([be,[rt]])=>{if(31&rt&&se.hasOwnProperty(be)){const St=se[be];delete se[be],se[be]=St}}),Fr(()=>Te(se,Ie,at))}mt()}})(this))}disconnectedCallback(){Re.jmp(()=>(se=>{if(0==(1&Re.$flags$)){const Ie=ei(this),at=Ie.$lazyInstance$;Ie.$rmListeners$&&(Ie.$rmListeners$.map(mt=>mt()),Ie.$rmListeners$=void 0),ze(at,"disconnectedCallback")}})())}componentOnReady(){return ei(this).$onReadyPromise$}};ut.$lazyBundleId$=Hr[0],!dt.includes(It)&&!be.get(It)&&(mt.push(It),be.define(It,Oe(Zt,ut,1)))})}),zt.innerHTML=mt+"{visibility:hidden}.hydrated{visibility:inherit}",zt.setAttribute("data-styles",""),rt.insertBefore(zt,St?St.nextSibling:rt.firstChild),kn=!1,jt.length?jt.map(Hr=>Hr.connectedCallback()):Re.jmp(()=>Vn=setTimeout(De,30))},Zr=se=>{const Ie=new URL(se,Re.$resourcesUrl$);return Ie.origin!==he.location.origin?Ie.href:Ie.pathname},wi=new WeakMap,ei=se=>wi.get(se),xr=(se,Ie)=>wi.set(Ie.$lazyInstance$=se,Ie),Ps=(se,Ie)=>{const at={$flags$:0,$hostElement$:se,$cmpMeta$:Ie,$instanceValues$:new Map};return at.$onInstancePromise$=new Promise(mt=>at.$onInstanceResolve$=mt),at.$onReadyPromise$=new Promise(mt=>at.$onReadyResolve$=mt),se["s-p"]=[],se["s-rc"]=[],Ce(se,at,Ie.$listeners$),wi.set(se,at)},ss=(se,Ie)=>Ie in se,ti=(se,Ie)=>(0,console.error)(se,Ie),ps=new Map,mr=(se,Ie,at)=>{const mt=se.$tagName$.replace(/-/g,"_"),dt=se.$lazyBundleId$,be=ps.get(dt);return be?be[mt]:V(863)(`./${dt}.entry.js`).then(rt=>(ps.set(dt,rt),rt[mt]),ti)},gi=new Map,Fi=[],ci=[],Jr=[],gs=(se,Ie)=>at=>{se.push(at),we||(we=!0,Ie&&4&Re.$flags$?Fr(tr):Re.raf(tr))},An=se=>{for(let Ie=0;Ie<se.length;Ie++)try{se[Ie](performance.now())}catch(at){ti(at)}se.length=0},tr=()=>{An(ci),An(Jr),(we=ci.length>0)&&Re.raf(tr)},Fr=se=>Et().then(se),Li=gs(ci,!1),mi=gs(Jr,!0),ni={isDev:!1,isBrowser:!0,isServer:!1,isTesting:!1}},5179:(Jt,it,V)=>{"use strict";V.d(it,{a:()=>he,b:()=>Bt,c:()=>G,g:()=>we,i:()=>on});var c=V(1308);class J{constructor(){this.m=new Map}reset(bt){this.m=new Map(Object.entries(bt))}get(bt,ft){const Ot=this.m.get(bt);return void 0!==Ot?Ot:ft}getBoolean(bt,ft=!1){const Ot=this.m.get(bt);return void 0===Ot?ft:"string"==typeof Ot?"true"===Ot:!!Ot}getNumber(bt,ft){const Ot=parseFloat(this.m.get(bt));return isNaN(Ot)?void 0!==ft?ft:NaN:Ot}set(bt,ft){this.m.set(bt,ft)}}const G=new J,Ne="ionic-persist-config",we=Rt=>me(Rt),he=(Rt,bt)=>("string"==typeof Rt&&(bt=Rt,Rt=void 0),we(Rt).includes(bt)),me=(Rt=window)=>{if(typeof Rt>"u")return[];Rt.Ionic=Rt.Ionic||{};let bt=Rt.Ionic.platforms;return null==bt&&(bt=Rt.Ionic.platforms=Re(Rt),bt.forEach(ft=>Rt.document.documentElement.classList.add(`plt-${ft}`))),bt},Re=Rt=>{const bt=G.get("platform");return Object.keys(Me).filter(ft=>{const Ot=null==bt?void 0:bt[ft];return"function"==typeof Ot?Ot(Rt):Me[ft](Rt)})},je=Rt=>!!(ye(Rt,/iPad/i)||ye(Rt,/Macintosh/i)&&Je(Rt)),Ce=Rt=>ye(Rt,/android|sink/i),Je=Rt=>xe(Rt,"(any-pointer:coarse)"),Ve=Rt=>Ge(Rt)||te(Rt),Ge=Rt=>!!(Rt.cordova||Rt.phonegap||Rt.PhoneGap),te=Rt=>{const bt=Rt.Capacitor;return!(null==bt||!bt.isNative)},ye=(Rt,bt)=>bt.test(Rt.navigator.userAgent),xe=(Rt,bt)=>{var ft;return null===(ft=Rt.matchMedia)||void 0===ft?void 0:ft.call(Rt,bt).matches},Me={ipad:je,iphone:Rt=>ye(Rt,/iPhone/i),ios:Rt=>ye(Rt,/iPhone|iPod/i)||je(Rt),android:Ce,phablet:Rt=>{const bt=Rt.innerWidth,ft=Rt.innerHeight,Ot=Math.min(bt,ft),pt=Math.max(bt,ft);return Ot>390&&Ot<520&&pt>620&&pt<800},tablet:Rt=>{const bt=Rt.innerWidth,ft=Rt.innerHeight,Ot=Math.min(bt,ft),pt=Math.max(bt,ft);return je(Rt)||(Rt=>Ce(Rt)&&!ye(Rt,/mobile/i))(Rt)||Ot>460&&Ot<820&&pt>780&&pt<1400},cordova:Ge,capacitor:te,electron:Rt=>ye(Rt,/electron/i),pwa:Rt=>{var bt;return!(!(null===(bt=Rt.matchMedia)||void 0===bt?void 0:bt.call(Rt,"(display-mode: standalone)").matches)&&!Rt.navigator.standalone)},mobile:Je,mobileweb:Rt=>Je(Rt)&&!Ve(Rt),desktop:Rt=>!Je(Rt),hybrid:Ve};let Xe;const Bt=Rt=>Rt&&(0,c.g)(Rt)||Xe,on=(Rt={})=>{if(typeof window>"u")return;const bt=window.document,ft=window,Ot=ft.Ionic=ft.Ionic||{},pt={};Rt._ael&&(pt.ael=Rt._ael),Rt._rel&&(pt.rel=Rt._rel),Rt._ce&&(pt.ce=Rt._ce),(0,c.s)(pt);const wt=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},(Rt=>{try{const bt=Rt.sessionStorage.getItem(Ne);return null!==bt?JSON.parse(bt):{}}catch(bt){return{}}})(ft)),{persistConfig:!1}),Ot.config),(Rt=>{const bt={};return Rt.location.search.slice(1).split("&").map(ft=>ft.split("=")).map(([ft,Ot])=>[decodeURIComponent(ft),decodeURIComponent(Ot)]).filter(([ft])=>((Rt,bt)=>Rt.substr(0,bt.length)===bt)(ft,"ionic:")).map(([ft,Ot])=>[ft.slice("ionic:".length),Ot]).forEach(([ft,Ot])=>{bt[ft]=Ot}),bt})(ft)),Rt);G.reset(wt),G.getBoolean("persistConfig")&&((Rt,bt)=>{try{Rt.sessionStorage.setItem(Ne,JSON.stringify(bt))}catch(ft){return}})(ft,wt),me(ft),Ot.config=G,Ot.mode=Xe=G.get("mode",bt.documentElement.getAttribute("mode")||(he(ft,"ios")?"ios":"md")),G.set("mode",Xe),bt.documentElement.setAttribute("mode",Xe),bt.documentElement.classList.add(Xe),G.getBoolean("_testing")&&G.set("animated",!1);const st=Kt=>{var en;return null===(en=Kt.tagName)||void 0===en?void 0:en.startsWith("ION-")},nn=Kt=>["ios","md"].includes(Kt);(0,c.a)(Kt=>{for(;Kt;){const en=Kt.mode||Kt.getAttribute("mode");if(en){if(nn(en))return en;st(Kt)&&console.warn('Invalid ionic mode: "'+en+'", expected: "ios" or "md"')}Kt=Kt.parentElement}return Xe})}},6439:(Jt,it,V)=>{"use strict";V.r(it),V.d(it,{iosTransitionAnimation:()=>Re,shadow:()=>ve});var c=V(181),J=V(1843);V(3457),V(1308);const ke=We=>document.querySelector(`${We}.ion-cloned-element`),ve=We=>We.shadowRoot||We,Pe=We=>{const je="ION-TABS"===We.tagName?We:We.querySelector("ion-tabs"),Et="ion-content ion-header:not(.header-collapse-condense-inactive) ion-title.title-large";if(null!=je){const Se=je.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");return null!=Se?Se.querySelector(Et):null}return We.querySelector(Et)},Ne=(We,je)=>{const Et="ION-TABS"===We.tagName?We:We.querySelector("ion-tabs");let Se=[];if(null!=Et){const Ce=Et.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");null!=Ce&&(Se=Ce.querySelectorAll("ion-buttons"))}else Se=We.querySelectorAll("ion-buttons");for(const Ce of Se){const fe=Ce.closest("ion-header"),He=fe&&!fe.classList.contains("header-collapse-condense-inactive"),Be=Ce.querySelector("ion-back-button"),Je=Ce.classList.contains("buttons-collapse"),Qe="start"===Ce.slot||""===Ce.slot;if(null!==Be&&Qe&&(Je&&He&&je||!Je))return Be}return null},he=(We,je,Et,Se,Ce,fe)=>{const He=je?`calc(100% - ${fe.right+4}px)`:fe.left-4+"px",Be=je?"7px":"-7px",Je=je?"-4px":"4px",Qe=je?"-4px":"4px",Ve=je?"right":"left",Ge=je?"left":"right",le=Et?[{offset:0,opacity:1,transform:`translate3d(${Je}, ${fe.top-46}px, 0) scale(1)`},{offset:.6,opacity:0},{offset:1,opacity:0,transform:`translate3d(${Be}, ${Ce.top-40}px, 0) scale(2.1)`}]:[{offset:0,opacity:0,transform:`translate3d(${Be}, ${Ce.top-40}px, 0) scale(2.1)`},{offset:1,opacity:1,transform:`translate3d(${Je}, ${fe.top-46}px, 0) scale(1)`}],Me=Et?[{offset:0,opacity:1,transform:`translate3d(${Qe}, ${fe.top-46}px, 0) scale(1)`},{offset:.2,opacity:0,transform:`translate3d(${Qe}, ${fe.top-41}px, 0) scale(0.6)`},{offset:1,opacity:0,transform:`translate3d(${Qe}, ${fe.top-41}px, 0) scale(0.6)`}]:[{offset:0,opacity:0,transform:`translate3d(${Qe}, ${fe.top-41}px, 0) scale(0.6)`},{offset:1,opacity:1,transform:`translate3d(${Qe}, ${fe.top-46}px, 0) scale(1)`}],Xe=(0,c.c)(),Bt=(0,c.c)(),on=ke("ion-back-button"),Rt=ve(on).querySelector(".button-text"),bt=ve(on).querySelector("ion-icon");on.text=Se.text,on.mode=Se.mode,on.icon=Se.icon,on.color=Se.color,on.disabled=Se.disabled,on.style.setProperty("display","block"),on.style.setProperty("position","fixed"),Bt.addElement(bt),Xe.addElement(Rt),Xe.beforeStyles({"transform-origin":`${Ve} center`}).beforeAddWrite(()=>{Se.style.setProperty("display","none"),on.style.setProperty(Ve,He)}).afterAddWrite(()=>{Se.style.setProperty("display",""),on.style.setProperty("display","none"),on.style.removeProperty(Ve)}).keyframes(le),Bt.beforeStyles({"transform-origin":`${Ge} center`}).keyframes(Me),We.addAnimation([Xe,Bt])},me=(We,je,Et,Se,Ce,fe)=>{const He=je?`calc(100% - ${Ce.right}px)`:`${Ce.left}px`,Be=je?"-18px":"18px",Je=je?"right":"left",Ge=Et?[{offset:0,opacity:0,transform:`translate3d(${Be}, ${fe.top-4}px, 0) scale(0.49)`},{offset:.1,opacity:0},{offset:1,opacity:1,transform:`translate3d(0, ${Ce.top-2}px, 0) scale(1)`}]:[{offset:0,opacity:.99,transform:`translate3d(0, ${Ce.top-2}px, 0) scale(1)`},{offset:.6,opacity:0},{offset:1,opacity:0,transform:`translate3d(${Be}, ${fe.top-4}px, 0) scale(0.5)`}],te=ke("ion-title"),Ze=(0,c.c)();te.innerText=Se.innerText,te.size=Se.size,te.color=Se.color,Ze.addElement(te),Ze.beforeStyles({"transform-origin":`${Je} center`,height:"46px",display:"",position:"relative",[Je]:He}).beforeAddWrite(()=>{Se.style.setProperty("display","none")}).afterAddWrite(()=>{Se.style.setProperty("display",""),te.style.setProperty("display","none")}).keyframes(Ge),We.addAnimation(Ze)},Re=(We,je)=>{var Et;try{const Se="cubic-bezier(0.32,0.72,0,1)",Ce="opacity",fe="transform",He="0%",Je="rtl"===We.ownerDocument.dir,Qe=Je?"-99.5%":"99.5%",Ve=Je?"33%":"-33%",Ge=je.enteringEl,te=je.leavingEl,Ze="back"===je.direction,le=Ge.querySelector(":scope > ion-content"),ye=Ge.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *"),xe=Ge.querySelectorAll(":scope > ion-header > ion-toolbar"),Me=(0,c.c)(),Xe=(0,c.c)();if(Me.addElement(Ge).duration((null!==(Et=je.duration)&&void 0!==Et?Et:0)||540).easing(je.easing||Se).fill("both").beforeRemoveClass("ion-page-invisible"),te&&null!=We){const bt=(0,c.c)();bt.addElement(We),Me.addAnimation(bt)}if(le||0!==xe.length||0!==ye.length?(Xe.addElement(le),Xe.addElement(ye)):Xe.addElement(Ge.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),Me.addAnimation(Xe),Ze?Xe.beforeClearStyles([Ce]).fromTo("transform",`translateX(${Ve})`,`translateX(${He})`).fromTo(Ce,.8,1):Xe.beforeClearStyles([Ce]).fromTo("transform",`translateX(${Qe})`,`translateX(${He})`),le){const bt=ve(le).querySelector(".transition-effect");if(bt){const ft=bt.querySelector(".transition-cover"),Ot=bt.querySelector(".transition-shadow"),pt=(0,c.c)(),wt=(0,c.c)(),st=(0,c.c)();pt.addElement(bt).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),wt.addElement(ft).beforeClearStyles([Ce]).fromTo(Ce,0,.1),st.addElement(Ot).beforeClearStyles([Ce]).fromTo(Ce,.03,.7),pt.addAnimation([wt,st]),Xe.addAnimation([pt])}}const Bt=Ge.querySelector("ion-header.header-collapse-condense"),{forward:on,backward:Rt}=((We,je,Et,Se,Ce)=>{const fe=Ne(Se,Et),He=Pe(Ce),Be=Pe(Se),Je=Ne(Ce,Et),Qe=null!==fe&&null!==He&&!Et,Ve=null!==Be&&null!==Je&&Et;if(Qe){const Ge=He.getBoundingClientRect(),te=fe.getBoundingClientRect();me(We,je,Et,He,Ge,te),he(We,je,Et,fe,Ge,te)}else if(Ve){const Ge=Be.getBoundingClientRect(),te=Je.getBoundingClientRect();me(We,je,Et,Be,Ge,te),he(We,je,Et,Je,Ge,te)}return{forward:Qe,backward:Ve}})(Me,Je,Ze,Ge,te);if(xe.forEach(bt=>{const ft=(0,c.c)();ft.addElement(bt),Me.addAnimation(ft);const Ot=(0,c.c)();Ot.addElement(bt.querySelector("ion-title"));const pt=(0,c.c)(),wt=Array.from(bt.querySelectorAll("ion-buttons,[menuToggle]")),st=bt.closest("ion-header"),nn=null==st?void 0:st.classList.contains("header-collapse-condense-inactive");let Kt;Kt=wt.filter(Ze?or=>{const cr=or.classList.contains("buttons-collapse");return cr&&!nn||!cr}:or=>!or.classList.contains("buttons-collapse")),pt.addElement(Kt);const en=(0,c.c)();en.addElement(bt.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])"));const Nn=(0,c.c)();Nn.addElement(ve(bt).querySelector(".toolbar-background"));const sr=(0,c.c)(),Wn=bt.querySelector("ion-back-button");if(Wn&&sr.addElement(Wn),ft.addAnimation([Ot,pt,en,Nn,sr]),pt.fromTo(Ce,.01,1),en.fromTo(Ce,.01,1),Ze)nn||Ot.fromTo("transform",`translateX(${Ve})`,`translateX(${He})`).fromTo(Ce,.01,1),en.fromTo("transform",`translateX(${Ve})`,`translateX(${He})`),sr.fromTo(Ce,.01,1);else if(Bt||Ot.fromTo("transform",`translateX(${Qe})`,`translateX(${He})`).fromTo(Ce,.01,1),en.fromTo("transform",`translateX(${Qe})`,`translateX(${He})`),Nn.beforeClearStyles([Ce,"transform"]),(null==st?void 0:st.translucent)?Nn.fromTo("transform",Je?"translateX(-100%)":"translateX(100%)","translateX(0px)"):Nn.fromTo(Ce,.01,"var(--opacity)"),on||sr.fromTo(Ce,.01,1),Wn&&!on){const cr=(0,c.c)();cr.addElement(ve(Wn).querySelector(".button-text")).fromTo("transform",Je?"translateX(-100px)":"translateX(100px)","translateX(0px)"),ft.addAnimation(cr)}}),te){const bt=(0,c.c)(),ft=te.querySelector(":scope > ion-content"),Ot=te.querySelectorAll(":scope > ion-header > ion-toolbar"),pt=te.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *");if(ft||0!==Ot.length||0!==pt.length?(bt.addElement(ft),bt.addElement(pt)):bt.addElement(te.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),Me.addAnimation(bt),Ze){bt.beforeClearStyles([Ce]).fromTo("transform",`translateX(${He})`,Je?"translateX(-100%)":"translateX(100%)");const wt=(0,J.g)(te);Me.afterAddWrite(()=>{"normal"===Me.getDirection()&&wt.style.setProperty("display","none")})}else bt.fromTo("transform",`translateX(${He})`,`translateX(${Ve})`).fromTo(Ce,1,.8);if(ft){const wt=ve(ft).querySelector(".transition-effect");if(wt){const st=wt.querySelector(".transition-cover"),nn=wt.querySelector(".transition-shadow"),Kt=(0,c.c)(),en=(0,c.c)(),Nn=(0,c.c)();Kt.addElement(wt).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),en.addElement(st).beforeClearStyles([Ce]).fromTo(Ce,.1,0),Nn.addElement(nn).beforeClearStyles([Ce]).fromTo(Ce,.7,.03),Kt.addAnimation([en,Nn]),bt.addAnimation([Kt])}}Ot.forEach(wt=>{const st=(0,c.c)();st.addElement(wt);const nn=(0,c.c)();nn.addElement(wt.querySelector("ion-title"));const Kt=(0,c.c)(),en=wt.querySelectorAll("ion-buttons,[menuToggle]"),Nn=wt.closest("ion-header"),sr=null==Nn?void 0:Nn.classList.contains("header-collapse-condense-inactive"),Wn=Array.from(en).filter(ai=>{const Wt=ai.classList.contains("buttons-collapse");return Wt&&!sr||!Wt});Kt.addElement(Wn);const or=(0,c.c)(),cr=wt.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])");cr.length>0&&or.addElement(cr);const Mr=(0,c.c)();Mr.addElement(ve(wt).querySelector(".toolbar-background"));const Vr=(0,c.c)(),Dn=wt.querySelector("ion-back-button");if(Dn&&Vr.addElement(Dn),st.addAnimation([nn,Kt,or,Vr,Mr]),Me.addAnimation(st),Vr.fromTo(Ce,.99,0),Kt.fromTo(Ce,.99,0),or.fromTo(Ce,.99,0),Ze){if(sr||nn.fromTo("transform",`translateX(${He})`,Je?"translateX(-100%)":"translateX(100%)").fromTo(Ce,.99,0),or.fromTo("transform",`translateX(${He})`,Je?"translateX(-100%)":"translateX(100%)"),Mr.beforeClearStyles([Ce,"transform"]),(null==Nn?void 0:Nn.translucent)?Mr.fromTo("transform","translateX(0px)",Je?"translateX(-100%)":"translateX(100%)"):Mr.fromTo(Ce,"var(--opacity)",0),Dn&&!Rt){const Wt=(0,c.c)();Wt.addElement(ve(Dn).querySelector(".button-text")).fromTo("transform",`translateX(${He})`,`translateX(${(Je?-124:124)+"px"})`),st.addAnimation(Wt)}}else sr||nn.fromTo("transform",`translateX(${He})`,`translateX(${Ve})`).fromTo(Ce,.99,0).afterClearStyles([fe,Ce]),or.fromTo("transform",`translateX(${He})`,`translateX(${Ve})`).afterClearStyles([fe,Ce]),Vr.afterClearStyles([Ce]),nn.afterClearStyles([Ce]),Kt.afterClearStyles([Ce])})}return Me}catch(Se){throw Se}}},7838:(Jt,it,V)=>{"use strict";V.r(it),V.d(it,{mdTransitionAnimation:()=>_e});var c=V(181),J=V(1843);V(3457),V(1308);const _e=(ke,ve)=>{var Pe,Ne,we;const Re="back"===ve.direction,je=ve.leavingEl,Et=(0,J.g)(ve.enteringEl),Se=Et.querySelector("ion-toolbar"),Ce=(0,c.c)();if(Ce.addElement(Et).fill("both").beforeRemoveClass("ion-page-invisible"),Re?Ce.duration((null!==(Pe=ve.duration)&&void 0!==Pe?Pe:0)||200).easing("cubic-bezier(0.47,0,0.745,0.715)"):Ce.duration((null!==(Ne=ve.duration)&&void 0!==Ne?Ne:0)||280).easing("cubic-bezier(0.36,0.66,0.04,1)").fromTo("transform","translateY(40px)","translateY(0px)").fromTo("opacity",.01,1),Se){const fe=(0,c.c)();fe.addElement(Se),Ce.addAnimation(fe)}if(je&&Re){Ce.duration((null!==(we=ve.duration)&&void 0!==we?we:0)||200).easing("cubic-bezier(0.47,0,0.745,0.715)");const fe=(0,c.c)();fe.addElement((0,J.g)(je)).onFinish(He=>{1===He&&fe.elements.length>0&&fe.elements[0].style.setProperty("display","none")}).fromTo("transform","translateY(0px)","translateY(40px)").fromTo("opacity",1,0),Ce.addAnimation(fe)}return Ce}},3539:(Jt,it,V)=>{"use strict";V.d(it,{B:()=>ft,G:()=>Ot,a:()=>Pe,b:()=>Ne,c:()=>Re,d:()=>Ze,e:()=>je,f:()=>ye,g:()=>Xe,h:()=>ke,i:()=>on,j:()=>Ce,k:()=>Ge,m:()=>he,s:()=>bt});var c=V(5861),J=V(5179),G=V(7593),Ae=V(5730);let _e=0;const ke=new WeakMap,ve=pt=>({create:wt=>Et(pt,wt),dismiss:(wt,st,nn)=>Qe(document,wt,st,pt,nn),getTop:()=>(0,c.Z)(function*(){return Ge(document,pt)})()}),Pe=ve("ion-alert"),Ne=ve("ion-action-sheet"),he=ve("ion-modal"),Re=ve("ion-popover"),je=pt=>{typeof document<"u"&&Je(document);const wt=_e++;pt.overlayIndex=wt,pt.hasAttribute("id")||(pt.id=`ion-overlay-${wt}`)},Et=(pt,wt)=>typeof window<"u"&&typeof window.customElements<"u"?window.customElements.whenDefined(pt).then(()=>{const st=document.createElement(pt);return st.classList.add("overlay-hidden"),Object.assign(st,Object.assign(Object.assign({},wt),{hasController:!0})),xe(document).appendChild(st),new Promise(nn=>(0,Ae.c)(st,nn))}):Promise.resolve(),Se='[tabindex]:not([tabindex^="-"]):not([hidden]):not([disabled]), input:not([type=hidden]):not([tabindex^="-"]):not([hidden]):not([disabled]), textarea:not([tabindex^="-"]):not([hidden]):not([disabled]), button:not([tabindex^="-"]):not([hidden]):not([disabled]), select:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable[disabled="false"]:not([tabindex^="-"]):not([hidden])',Ce=(pt,wt)=>{let st=pt.querySelector(Se);const nn=null==st?void 0:st.shadowRoot;nn&&(st=nn.querySelector(Se)||st),st?(0,Ae.f)(st):wt.focus()},He=(pt,wt)=>{const st=Array.from(pt.querySelectorAll(Se));let nn=st.length>0?st[st.length-1]:null;const Kt=null==nn?void 0:nn.shadowRoot;Kt&&(nn=Kt.querySelector(Se)||nn),nn?nn.focus():wt.focus()},Je=pt=>{0===_e&&(_e=1,pt.addEventListener("focus",wt=>{((pt,wt)=>{const st=Ge(wt,"ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker,ion-popover"),nn=pt.target;st&&nn&&!st.classList.contains("ion-disable-focus-trap")&&(st.shadowRoot?(()=>{if(st.contains(nn))st.lastFocus=nn;else{const Nn=st.lastFocus;Ce(st,st),Nn===wt.activeElement&&He(st,st),st.lastFocus=wt.activeElement}})():(()=>{if(st===nn)st.lastFocus=void 0;else{const Nn=(0,Ae.g)(st);if(!Nn.contains(nn))return;const sr=Nn.querySelector(".ion-overlay-wrapper");if(!sr)return;if(sr.contains(nn))st.lastFocus=nn;else{const Wn=st.lastFocus;Ce(sr,st),Wn===wt.activeElement&&He(sr,st),st.lastFocus=wt.activeElement}}})())})(wt,pt)},!0),pt.addEventListener("ionBackButton",wt=>{const st=Ge(pt);null!=st&&st.backdropDismiss&&wt.detail.register(G.OVERLAY_BACK_BUTTON_PRIORITY,()=>st.dismiss(void 0,ft))}),pt.addEventListener("keyup",wt=>{if("Escape"===wt.key){const st=Ge(pt);null!=st&&st.backdropDismiss&&st.dismiss(void 0,ft)}}))},Qe=(pt,wt,st,nn,Kt)=>{const en=Ge(pt,nn,Kt);return en?en.dismiss(wt,st):Promise.reject("overlay does not exist")},Ge=(pt,wt,st)=>{const nn=((pt,wt)=>(void 0===wt&&(wt="ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker,ion-popover,ion-toast"),Array.from(pt.querySelectorAll(wt)).filter(st=>st.overlayIndex>0)))(pt,wt).filter(Kt=>!(pt=>pt.classList.contains("overlay-hidden"))(Kt));return void 0===st?nn[nn.length-1]:nn.find(Kt=>Kt.id===st)},te=(pt=!1)=>{const st=xe(document).querySelector("ion-router-outlet, ion-nav, #ion-view-container-root");!st||(pt?st.setAttribute("aria-hidden","true"):st.removeAttribute("aria-hidden"))},Ze=function(){var pt=(0,c.Z)(function*(wt,st,nn,Kt,en){var Nn,sr;if(wt.presented)return;te(!0),wt.presented=!0,wt.willPresent.emit(),null===(Nn=wt.willPresentShorthand)||void 0===Nn||Nn.emit();const Wn=(0,J.b)(wt),or=wt.enterAnimation?wt.enterAnimation:J.c.get(st,"ios"===Wn?nn:Kt);(yield Me(wt,or,wt.el,en))&&(wt.didPresent.emit(),null===(sr=wt.didPresentShorthand)||void 0===sr||sr.emit()),"ION-TOAST"!==wt.el.tagName&&le(wt.el),wt.keyboardClose&&(null===document.activeElement||!wt.el.contains(document.activeElement))&&wt.el.focus()});return function(st,nn,Kt,en,Nn){return pt.apply(this,arguments)}}(),le=function(){var pt=(0,c.Z)(function*(wt){let st=document.activeElement;if(!st)return;const nn=null==st?void 0:st.shadowRoot;nn&&(st=nn.querySelector(Se)||st),yield wt.onDidDismiss(),st.focus()});return function(st){return pt.apply(this,arguments)}}(),ye=function(){var pt=(0,c.Z)(function*(wt,st,nn,Kt,en,Nn,sr){var Wn,or;if(!wt.presented)return!1;te(!1),wt.presented=!1;try{wt.el.style.setProperty("pointer-events","none"),wt.willDismiss.emit({data:st,role:nn}),null===(Wn=wt.willDismissShorthand)||void 0===Wn||Wn.emit({data:st,role:nn});const cr=(0,J.b)(wt),Mr=wt.leaveAnimation?wt.leaveAnimation:J.c.get(Kt,"ios"===cr?en:Nn);nn!==Ot&&(yield Me(wt,Mr,wt.el,sr)),wt.didDismiss.emit({data:st,role:nn}),null===(or=wt.didDismissShorthand)||void 0===or||or.emit({data:st,role:nn}),ke.delete(wt),wt.el.classList.add("overlay-hidden"),wt.el.style.removeProperty("pointer-events"),void 0!==wt.el.lastFocus&&(wt.el.lastFocus=void 0)}catch(cr){console.error(cr)}return wt.el.remove(),!0});return function(st,nn,Kt,en,Nn,sr,Wn){return pt.apply(this,arguments)}}(),xe=pt=>pt.querySelector("ion-app")||pt.body,Me=function(){var pt=(0,c.Z)(function*(wt,st,nn,Kt){nn.classList.remove("overlay-hidden");const Nn=st(wt.el,Kt);(!wt.animated||!J.c.getBoolean("animated",!0))&&Nn.duration(0),wt.keyboardClose&&Nn.beforeAddWrite(()=>{const Wn=nn.ownerDocument.activeElement;null!=Wn&&Wn.matches("input,ion-input, ion-textarea")&&Wn.blur()});const sr=ke.get(wt)||[];return ke.set(wt,[...sr,Nn]),yield Nn.play(),!0});return function(st,nn,Kt,en){return pt.apply(this,arguments)}}(),Xe=(pt,wt)=>{let st;const nn=new Promise(Kt=>st=Kt);return Bt(pt,wt,Kt=>{st(Kt.detail)}),nn},Bt=(pt,wt,st)=>{const nn=Kt=>{(0,Ae.b)(pt,wt,nn),st(Kt)};(0,Ae.a)(pt,wt,nn)},on=pt=>"cancel"===pt||pt===ft,Rt=pt=>pt(),bt=(pt,wt)=>{if("function"==typeof pt)return J.c.get("_zoneGate",Rt)(()=>{try{return pt(wt)}catch(nn){throw nn}})},ft="backdrop",Ot="gesture"},5602:(Jt,it,V)=>{"use strict";V.d(it,{e:()=>Pe});var c=V(655),J=V(1135),G=V(3905),Ae=V(4650),_e=V(529);let ke=(()=>{class Ne{constructor(he){this.http=he,this.url="https://www.alfalbs.app/ApiOmega",this.Ws="api/login"}login(he){return this.http.post(`${this.url}/${this.Ws}`,he)}}return Ne.\u0275fac=function(he){return new(he||Ne)(Ae.LFG(_e.eN))},Ne.\u0275prov=Ae.Yz7({token:Ne,factory:Ne.\u0275fac,providedIn:"root"}),Ne})();var ve=V(5892);let Pe=(()=>{class Ne{constructor(he,me){this.loginService=he,this.router=me,this.authState=new J.X(!1),this.ifLoggedIn()}ifLoggedIn(){null!==localStorage.getItem("USER_INFO")&&this.authState.next(!0)}login(he){return(0,c.mG)(this,void 0,void 0,function*(){try{const me=yield(0,G.z)(this.loginService.login(he));localStorage.setItem("USER_INFO",me.token),this.authState.next(!0)}catch(me){throw 0==me.status?"Error con la conexi\xf3n al servidor":me.error}})}logout(){return new Promise((me,Re)=>{this.authState.next(!1),localStorage.clear(),me(this.authState.value),this.router.navigate(["login"])})}isAuthenticated(){return this.authState.value}}return Ne.\u0275fac=function(he){return new(he||Ne)(Ae.LFG(ke),Ae.LFG(ve.F0))},Ne.\u0275prov=Ae.Yz7({token:Ne,factory:Ne.\u0275fac,providedIn:"root"}),Ne})()},1826:(Jt,it,V)=>{"use strict";var c=V(1481),J=V(4650),G=V(5892),Ae=V(529),_e=V(603),ke=V(433);const ve_firebase={apiKey:"AIzaSyBEmvsrmYbh0MIRP067ga84jkvQf8OrDNw",appId:"1:721661318975:web:4094c0e3f064dbdc97258a",authDomain:"lbstest-284a3.firebaseapp.com",projectId:"lbstest-284a3",storageBucket:"lbstest-284a3.appspot.com",messagingSenderId:"721661318975",measurementId:"G-MN7S9M9RLS"};var Pe=V(2011),Ne=V(9659),we=V(2228),he=V(262),me=V(2843);let Re=(()=>{class Be{constructor(Qe){this.router=Qe}intercept(Qe,Ve){const Ge=localStorage.getItem("USER_INFO");let te=Qe;return Ge&&(te=Qe.clone({setHeaders:{Authorization:`Bearer ${Ge}`}})),Ve.handle(te).pipe((0,he.K)(Ze=>(401===Ze.status&&this.router.navigate(["login"],{replaceUrl:!0}),(0,me._)(Ze))))}}return Be.\u0275fac=function(Qe){return new(Qe||Be)(J.LFG(G.F0))},Be.\u0275prov=J.Yz7({token:Be,factory:Be.\u0275fac,providedIn:"root"}),Be})();var We=V(5602);const Et=[{path:"",redirectTo:"home",pathMatch:"full"},{path:"login",loadChildren:()=>V.e(5778).then(V.bind(V,5778)).then(Be=>Be.LoginPageModule)},{path:"home",loadChildren:()=>V.e(7312).then(V.bind(V,7312)).then(Be=>Be.HomePageModule),canActivate:[(()=>{class Be{constructor(Qe,Ve){this.authService=Qe,this.router=Ve}canActivate(){return!!this.authService.isAuthenticated()||(this.router.navigate(["login"]),!1)}}return Be.\u0275fac=function(Qe){return new(Qe||Be)(J.LFG(We.e),J.LFG(G.F0))},Be.\u0275prov=J.Yz7({token:Be,factory:Be.\u0275fac,providedIn:"root"}),Be})()]}];let Se=(()=>{class Be{}return Be.\u0275fac=function(Qe){return new(Qe||Be)},Be.\u0275mod=J.oAB({type:Be}),Be.\u0275inj=J.cJS({imports:[G.Bz.forRoot(Et,{preloadingStrategy:G.wm}),G.Bz]}),Be})();var Ce=V(6895);let fe=(()=>{class Be{constructor(){}ngOnInit(){}}return Be.\u0275fac=function(Qe){return new(Qe||Be)},Be.\u0275cmp=J.Xpm({type:Be,selectors:[["app-root"]],decls:2,vars:0,template:function(Qe,Ve){1&Qe&&(J.TgZ(0,"ion-app"),J._UZ(1,"ion-router-outlet"),J.qZA())},dependencies:[_e.dr,_e.jP]}),Be})(),He=(()=>{class Be{}return Be.\u0275fac=function(Qe){return new(Qe||Be)},Be.\u0275mod=J.oAB({type:Be,bootstrap:[fe]}),Be.\u0275inj=J.cJS({providers:[{provide:G.wN,useClass:_e.r4},{provide:Ae.TP,useClass:Re,multi:!0},{provide:Ce.S$,useClass:Ce.Do}],imports:[c.b2,_e.Pc.forRoot(),Se,ke.u5,Ae.JF,Pe.hO.initializeApp(ve_firebase),Ne.yb,we.Qv]}),Be})();(0,J.G48)(),c.q6().bootstrapModule(He).catch(Be=>console.log(Be))},1135:(Jt,it,V)=>{"use strict";V.d(it,{X:()=>J});var c=V(7579);class J extends c.x{constructor(Ae){super(),this._value=Ae}get value(){return this.getValue()}_subscribe(Ae){const _e=super._subscribe(Ae);return!_e.closed&&Ae.next(this._value),_e}getValue(){const{hasError:Ae,thrownError:_e,_value:ke}=this;if(Ae)throw _e;return this._throwIfClosed(),ke}next(Ae){super.next(this._value=Ae)}}},9751:(Jt,it,V)=>{"use strict";V.d(it,{y:()=>Pe});var c=V(930),J=V(727),G=V(8822),Ae=V(9635),_e=V(2416),ke=V(576),ve=V(2806);let Pe=(()=>{class me{constructor(We){We&&(this._subscribe=We)}lift(We){const je=new me;return je.source=this,je.operator=We,je}subscribe(We,je,Et){const Se=function he(me){return me&&me instanceof c.Lv||function we(me){return me&&(0,ke.m)(me.next)&&(0,ke.m)(me.error)&&(0,ke.m)(me.complete)}(me)&&(0,J.Nn)(me)}(We)?We:new c.Hp(We,je,Et);return(0,ve.x)(()=>{const{operator:Ce,source:fe}=this;Se.add(Ce?Ce.call(Se,fe):fe?this._subscribe(Se):this._trySubscribe(Se))}),Se}_trySubscribe(We){try{return this._subscribe(We)}catch(je){We.error(je)}}forEach(We,je){return new(je=Ne(je))((Et,Se)=>{const Ce=new c.Hp({next:fe=>{try{We(fe)}catch(He){Se(He),Ce.unsubscribe()}},error:Se,complete:Et});this.subscribe(Ce)})}_subscribe(We){var je;return null===(je=this.source)||void 0===je?void 0:je.subscribe(We)}[G.L](){return this}pipe(...We){return(0,Ae.U)(We)(this)}toPromise(We){return new(We=Ne(We))((je,Et)=>{let Se;this.subscribe(Ce=>Se=Ce,Ce=>Et(Ce),()=>je(Se))})}}return me.create=Re=>new me(Re),me})();function Ne(me){var Re;return null!==(Re=null!=me?me:_e.v.Promise)&&void 0!==Re?Re:Promise}},7579:(Jt,it,V)=>{"use strict";V.d(it,{x:()=>ve});var c=V(9751),J=V(727);const Ae=(0,V(3888).d)(Ne=>function(){Ne(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var _e=V(8737),ke=V(2806);let ve=(()=>{class Ne extends c.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(he){const me=new Pe(this,this);return me.operator=he,me}_throwIfClosed(){if(this.closed)throw new Ae}next(he){(0,ke.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const me of this.currentObservers)me.next(he)}})}error(he){(0,ke.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=he;const{observers:me}=this;for(;me.length;)me.shift().error(he)}})}complete(){(0,ke.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:he}=this;for(;he.length;)he.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var he;return(null===(he=this.observers)||void 0===he?void 0:he.length)>0}_trySubscribe(he){return this._throwIfClosed(),super._trySubscribe(he)}_subscribe(he){return this._throwIfClosed(),this._checkFinalizedStatuses(he),this._innerSubscribe(he)}_innerSubscribe(he){const{hasError:me,isStopped:Re,observers:We}=this;return me||Re?J.Lc:(this.currentObservers=null,We.push(he),new J.w0(()=>{this.currentObservers=null,(0,_e.P)(We,he)}))}_checkFinalizedStatuses(he){const{hasError:me,thrownError:Re,isStopped:We}=this;me?he.error(Re):We&&he.complete()}asObservable(){const he=new c.y;return he.source=this,he}}return Ne.create=(we,he)=>new Pe(we,he),Ne})();class Pe extends ve{constructor(we,he){super(),this.destination=we,this.source=he}next(we){var he,me;null===(me=null===(he=this.destination)||void 0===he?void 0:he.next)||void 0===me||me.call(he,we)}error(we){var he,me;null===(me=null===(he=this.destination)||void 0===he?void 0:he.error)||void 0===me||me.call(he,we)}complete(){var we,he;null===(he=null===(we=this.destination)||void 0===we?void 0:we.complete)||void 0===he||he.call(we)}_subscribe(we){var he,me;return null!==(me=null===(he=this.source)||void 0===he?void 0:he.subscribe(we))&&void 0!==me?me:J.Lc}}},930:(Jt,it,V)=>{"use strict";V.d(it,{Hp:()=>Et,Lv:()=>me});var c=V(576),J=V(727),G=V(2416),Ae=V(7849),_e=V(5032);const ke=Ne("C",void 0,void 0);function Ne(Be,Je,Qe){return{kind:Be,value:Je,error:Qe}}var we=V(3410),he=V(2806);class me extends J.w0{constructor(Je){super(),this.isStopped=!1,Je?(this.destination=Je,(0,J.Nn)(Je)&&Je.add(this)):this.destination=He}static create(Je,Qe,Ve){return new Et(Je,Qe,Ve)}next(Je){this.isStopped?fe(function Pe(Be){return Ne("N",Be,void 0)}(Je),this):this._next(Je)}error(Je){this.isStopped?fe(function ve(Be){return Ne("E",void 0,Be)}(Je),this):(this.isStopped=!0,this._error(Je))}complete(){this.isStopped?fe(ke,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Je){this.destination.next(Je)}_error(Je){try{this.destination.error(Je)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Re=Function.prototype.bind;function We(Be,Je){return Re.call(Be,Je)}class je{constructor(Je){this.partialObserver=Je}next(Je){const{partialObserver:Qe}=this;if(Qe.next)try{Qe.next(Je)}catch(Ve){Se(Ve)}}error(Je){const{partialObserver:Qe}=this;if(Qe.error)try{Qe.error(Je)}catch(Ve){Se(Ve)}else Se(Je)}complete(){const{partialObserver:Je}=this;if(Je.complete)try{Je.complete()}catch(Qe){Se(Qe)}}}class Et extends me{constructor(Je,Qe,Ve){let Ge;if(super(),(0,c.m)(Je)||!Je)Ge={next:null!=Je?Je:void 0,error:null!=Qe?Qe:void 0,complete:null!=Ve?Ve:void 0};else{let te;this&&G.v.useDeprecatedNextContext?(te=Object.create(Je),te.unsubscribe=()=>this.unsubscribe(),Ge={next:Je.next&&We(Je.next,te),error:Je.error&&We(Je.error,te),complete:Je.complete&&We(Je.complete,te)}):Ge=Je}this.destination=new je(Ge)}}function Se(Be){G.v.useDeprecatedSynchronousErrorHandling?(0,he.O)(Be):(0,Ae.h)(Be)}function fe(Be,Je){const{onStoppedNotification:Qe}=G.v;Qe&&we.z.setTimeout(()=>Qe(Be,Je))}const He={closed:!0,next:_e.Z,error:function Ce(Be){throw Be},complete:_e.Z}},727:(Jt,it,V)=>{"use strict";V.d(it,{Lc:()=>ke,w0:()=>_e,Nn:()=>ve});var c=V(576);const G=(0,V(3888).d)(Ne=>function(he){Ne(this),this.message=he?`${he.length} errors occurred during unsubscription:\n${he.map((me,Re)=>`${Re+1}) ${me.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=he});var Ae=V(8737);class _e{constructor(we){this.initialTeardown=we,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let we;if(!this.closed){this.closed=!0;const{_parentage:he}=this;if(he)if(this._parentage=null,Array.isArray(he))for(const We of he)We.remove(this);else he.remove(this);const{initialTeardown:me}=this;if((0,c.m)(me))try{me()}catch(We){we=We instanceof G?We.errors:[We]}const{_finalizers:Re}=this;if(Re){this._finalizers=null;for(const We of Re)try{Pe(We)}catch(je){we=null!=we?we:[],je instanceof G?we=[...we,...je.errors]:we.push(je)}}if(we)throw new G(we)}}add(we){var he;if(we&&we!==this)if(this.closed)Pe(we);else{if(we instanceof _e){if(we.closed||we._hasParent(this))return;we._addParent(this)}(this._finalizers=null!==(he=this._finalizers)&&void 0!==he?he:[]).push(we)}}_hasParent(we){const{_parentage:he}=this;return he===we||Array.isArray(he)&&he.includes(we)}_addParent(we){const{_parentage:he}=this;this._parentage=Array.isArray(he)?(he.push(we),he):he?[he,we]:we}_removeParent(we){const{_parentage:he}=this;he===we?this._parentage=null:Array.isArray(he)&&(0,Ae.P)(he,we)}remove(we){const{_finalizers:he}=this;he&&(0,Ae.P)(he,we),we instanceof _e&&we._removeParent(this)}}_e.EMPTY=(()=>{const Ne=new _e;return Ne.closed=!0,Ne})();const ke=_e.EMPTY;function ve(Ne){return Ne instanceof _e||Ne&&"closed"in Ne&&(0,c.m)(Ne.remove)&&(0,c.m)(Ne.add)&&(0,c.m)(Ne.unsubscribe)}function Pe(Ne){(0,c.m)(Ne)?Ne():Ne.unsubscribe()}},2416:(Jt,it,V)=>{"use strict";V.d(it,{v:()=>c});const c={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},3905:(Jt,it,V)=>{"use strict";V.d(it,{z:()=>G});var c=V(6805),J=V(930);function G(Ae,_e){const ke="object"==typeof _e;return new Promise((ve,Pe)=>{const Ne=new J.Hp({next:we=>{ve(we),Ne.unsubscribe()},error:Pe,complete:()=>{ke?ve(_e.defaultValue):Pe(new c.K)}});Ae.subscribe(Ne)})}},9841:(Jt,it,V)=>{"use strict";V.d(it,{a:()=>we});var c=V(9751),J=V(4742),G=V(8996),Ae=V(4671),_e=V(3268),ke=V(3269),ve=V(1810),Pe=V(5403),Ne=V(9672);function we(...Re){const We=(0,ke.yG)(Re),je=(0,ke.jO)(Re),{args:Et,keys:Se}=(0,J.D)(Re);if(0===Et.length)return(0,G.D)([],We);const Ce=new c.y(function he(Re,We,je=Ae.y){return Et=>{me(We,()=>{const{length:Se}=Re,Ce=new Array(Se);let fe=Se,He=Se;for(let Be=0;Be<Se;Be++)me(We,()=>{const Je=(0,G.D)(Re[Be],We);let Qe=!1;Je.subscribe((0,Pe.x)(Et,Ve=>{Ce[Be]=Ve,Qe||(Qe=!0,He--),He||Et.next(je(Ce.slice()))},()=>{--fe||Et.complete()}))},Et)},Et)}}(Et,We,Se?fe=>(0,ve.n)(Se,fe):Ae.y));return je?Ce.pipe((0,_e.Z)(je)):Ce}function me(Re,We,je){Re?(0,Ne.f)(je,Re,We):We()}},7272:(Jt,it,V)=>{"use strict";V.d(it,{z:()=>_e});var c=V(8189),G=V(3269),Ae=V(8996);function _e(...ke){return function J(){return(0,c.J)(1)}()((0,Ae.D)(ke,(0,G.yG)(ke)))}},9770:(Jt,it,V)=>{"use strict";V.d(it,{P:()=>G});var c=V(9751),J=V(8421);function G(Ae){return new c.y(_e=>{(0,J.Xf)(Ae()).subscribe(_e)})}},515:(Jt,it,V)=>{"use strict";V.d(it,{E:()=>J});const J=new(V(9751).y)(_e=>_e.complete())},8996:(Jt,it,V)=>{"use strict";V.d(it,{D:()=>Je});var c=V(8421),J=V(5363),G=V(9468),ke=V(9751),Pe=V(2202),Ne=V(576),we=V(9672);function me(Qe,Ve){if(!Qe)throw new Error("Iterable cannot be null");return new ke.y(Ge=>{(0,we.f)(Ge,Ve,()=>{const te=Qe[Symbol.asyncIterator]();(0,we.f)(Ge,Ve,()=>{te.next().then(Ze=>{Ze.done?Ge.complete():Ge.next(Ze.value)})},0,!0)})})}var Re=V(3670),We=V(8239),je=V(1144),Et=V(6495),Se=V(2206),Ce=V(4532),fe=V(3260);function Je(Qe,Ve){return Ve?function Be(Qe,Ve){if(null!=Qe){if((0,Re.c)(Qe))return function Ae(Qe,Ve){return(0,c.Xf)(Qe).pipe((0,G.R)(Ve),(0,J.Q)(Ve))}(Qe,Ve);if((0,je.z)(Qe))return function ve(Qe,Ve){return new ke.y(Ge=>{let te=0;return Ve.schedule(function(){te===Qe.length?Ge.complete():(Ge.next(Qe[te++]),Ge.closed||this.schedule())})})}(Qe,Ve);if((0,We.t)(Qe))return function _e(Qe,Ve){return(0,c.Xf)(Qe).pipe((0,G.R)(Ve),(0,J.Q)(Ve))}(Qe,Ve);if((0,Se.D)(Qe))return me(Qe,Ve);if((0,Et.T)(Qe))return function he(Qe,Ve){return new ke.y(Ge=>{let te;return(0,we.f)(Ge,Ve,()=>{te=Qe[Pe.h](),(0,we.f)(Ge,Ve,()=>{let Ze,le;try{({value:Ze,done:le}=te.next())}catch(ye){return void Ge.error(ye)}le?Ge.complete():Ge.next(Ze)},0,!0)}),()=>(0,Ne.m)(null==te?void 0:te.return)&&te.return()})}(Qe,Ve);if((0,fe.L)(Qe))return function He(Qe,Ve){return me((0,fe.Q)(Qe),Ve)}(Qe,Ve)}throw(0,Ce.z)(Qe)}(Qe,Ve):(0,c.Xf)(Qe)}},4968:(Jt,it,V)=>{"use strict";V.d(it,{R:()=>we});var c=V(8421),J=V(9751),G=V(5577),Ae=V(1144),_e=V(576),ke=V(3268);const ve=["addListener","removeListener"],Pe=["addEventListener","removeEventListener"],Ne=["on","off"];function we(je,Et,Se,Ce){if((0,_e.m)(Se)&&(Ce=Se,Se=void 0),Ce)return we(je,Et,Se).pipe((0,ke.Z)(Ce));const[fe,He]=function We(je){return(0,_e.m)(je.addEventListener)&&(0,_e.m)(je.removeEventListener)}(je)?Pe.map(Be=>Je=>je[Be](Et,Je,Se)):function me(je){return(0,_e.m)(je.addListener)&&(0,_e.m)(je.removeListener)}(je)?ve.map(he(je,Et)):function Re(je){return(0,_e.m)(je.on)&&(0,_e.m)(je.off)}(je)?Ne.map(he(je,Et)):[];if(!fe&&(0,Ae.z)(je))return(0,G.z)(Be=>we(Be,Et,Se))((0,c.Xf)(je));if(!fe)throw new TypeError("Invalid event target");return new J.y(Be=>{const Je=(...Qe)=>Be.next(1<Qe.length?Qe:Qe[0]);return fe(Je),()=>He(Je)})}function he(je,Et){return Se=>Ce=>je[Se](Et,Ce)}},8421:(Jt,it,V)=>{"use strict";V.d(it,{Xf:()=>Re});var c=V(655),J=V(1144),G=V(8239),Ae=V(9751),_e=V(3670),ke=V(2206),ve=V(4532),Pe=V(6495),Ne=V(3260),we=V(576),he=V(7849),me=V(8822);function Re(Be){if(Be instanceof Ae.y)return Be;if(null!=Be){if((0,_e.c)(Be))return function We(Be){return new Ae.y(Je=>{const Qe=Be[me.L]();if((0,we.m)(Qe.subscribe))return Qe.subscribe(Je);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Be);if((0,J.z)(Be))return function je(Be){return new Ae.y(Je=>{for(let Qe=0;Qe<Be.length&&!Je.closed;Qe++)Je.next(Be[Qe]);Je.complete()})}(Be);if((0,G.t)(Be))return function Et(Be){return new Ae.y(Je=>{Be.then(Qe=>{Je.closed||(Je.next(Qe),Je.complete())},Qe=>Je.error(Qe)).then(null,he.h)})}(Be);if((0,ke.D)(Be))return Ce(Be);if((0,Pe.T)(Be))return function Se(Be){return new Ae.y(Je=>{for(const Qe of Be)if(Je.next(Qe),Je.closed)return;Je.complete()})}(Be);if((0,Ne.L)(Be))return function fe(Be){return Ce((0,Ne.Q)(Be))}(Be)}throw(0,ve.z)(Be)}function Ce(Be){return new Ae.y(Je=>{(function He(Be,Je){var Qe,Ve,Ge,te;return(0,c.mG)(this,void 0,void 0,function*(){try{for(Qe=(0,c.KL)(Be);!(Ve=yield Qe.next()).done;)if(Je.next(Ve.value),Je.closed)return}catch(Ze){Ge={error:Ze}}finally{try{Ve&&!Ve.done&&(te=Qe.return)&&(yield te.call(Qe))}finally{if(Ge)throw Ge.error}}Je.complete()})})(Be,Je).catch(Qe=>Je.error(Qe))})}},6451:(Jt,it,V)=>{"use strict";V.d(it,{T:()=>ke});var c=V(8189),J=V(8421),G=V(515),Ae=V(3269),_e=V(8996);function ke(...ve){const Pe=(0,Ae.yG)(ve),Ne=(0,Ae._6)(ve,1/0),we=ve;return we.length?1===we.length?(0,J.Xf)(we[0]):(0,c.J)(Ne)((0,_e.D)(we,Pe)):G.E}},9646:(Jt,it,V)=>{"use strict";V.d(it,{of:()=>G});var c=V(3269),J=V(8996);function G(...Ae){const _e=(0,c.yG)(Ae);return(0,J.D)(Ae,_e)}},2843:(Jt,it,V)=>{"use strict";V.d(it,{_:()=>G});var c=V(9751),J=V(576);function G(Ae,_e){const ke=(0,J.m)(Ae)?Ae:()=>Ae,ve=Pe=>Pe.error(ke());return new c.y(_e?Pe=>_e.schedule(ve,0,Pe):ve)}},5403:(Jt,it,V)=>{"use strict";V.d(it,{x:()=>J});var c=V(930);function J(Ae,_e,ke,ve,Pe){return new G(Ae,_e,ke,ve,Pe)}class G extends c.Lv{constructor(_e,ke,ve,Pe,Ne,we){super(_e),this.onFinalize=Ne,this.shouldUnsubscribe=we,this._next=ke?function(he){try{ke(he)}catch(me){_e.error(me)}}:super._next,this._error=Pe?function(he){try{Pe(he)}catch(me){_e.error(me)}finally{this.unsubscribe()}}:super._error,this._complete=ve?function(){try{ve()}catch(he){_e.error(he)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var _e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:ke}=this;super.unsubscribe(),!ke&&(null===(_e=this.onFinalize)||void 0===_e||_e.call(this))}}}},262:(Jt,it,V)=>{"use strict";V.d(it,{K:()=>Ae});var c=V(8421),J=V(5403),G=V(4482);function Ae(_e){return(0,G.e)((ke,ve)=>{let we,Pe=null,Ne=!1;Pe=ke.subscribe((0,J.x)(ve,void 0,void 0,he=>{we=(0,c.Xf)(_e(he,Ae(_e)(ke))),Pe?(Pe.unsubscribe(),Pe=null,we.subscribe(ve)):Ne=!0})),Ne&&(Pe.unsubscribe(),Pe=null,we.subscribe(ve))})}},4351:(Jt,it,V)=>{"use strict";V.d(it,{b:()=>G});var c=V(5577),J=V(576);function G(Ae,_e){return(0,J.m)(_e)?(0,c.z)(Ae,_e,1):(0,c.z)(Ae,1)}},6590:(Jt,it,V)=>{"use strict";V.d(it,{d:()=>G});var c=V(4482),J=V(5403);function G(Ae){return(0,c.e)((_e,ke)=>{let ve=!1;_e.subscribe((0,J.x)(ke,Pe=>{ve=!0,ke.next(Pe)},()=>{ve||ke.next(Ae),ke.complete()}))})}},1884:(Jt,it,V)=>{"use strict";V.d(it,{x:()=>Ae});var c=V(4671),J=V(4482),G=V(5403);function Ae(ke,ve=c.y){return ke=null!=ke?ke:_e,(0,J.e)((Pe,Ne)=>{let we,he=!0;Pe.subscribe((0,G.x)(Ne,me=>{const Re=ve(me);(he||!ke(we,Re))&&(he=!1,we=Re,Ne.next(me))}))})}function _e(ke,ve){return ke===ve}},9300:(Jt,it,V)=>{"use strict";V.d(it,{h:()=>G});var c=V(4482),J=V(5403);function G(Ae,_e){return(0,c.e)((ke,ve)=>{let Pe=0;ke.subscribe((0,J.x)(ve,Ne=>Ae.call(_e,Ne,Pe++)&&ve.next(Ne)))})}},590:(Jt,it,V)=>{"use strict";V.d(it,{P:()=>ve});var c=V(6805),J=V(9300),G=V(5698),Ae=V(6590),_e=V(8068),ke=V(4671);function ve(Pe,Ne){const we=arguments.length>=2;return he=>he.pipe(Pe?(0,J.h)((me,Re)=>Pe(me,Re,he)):ke.y,(0,G.q)(1),we?(0,Ae.d)(Ne):(0,_e.T)(()=>new c.K))}},4004:(Jt,it,V)=>{"use strict";V.d(it,{U:()=>G});var c=V(4482),J=V(5403);function G(Ae,_e){return(0,c.e)((ke,ve)=>{let Pe=0;ke.subscribe((0,J.x)(ve,Ne=>{ve.next(Ae.call(_e,Ne,Pe++))}))})}},9718:(Jt,it,V)=>{"use strict";V.d(it,{h:()=>J});var c=V(4004);function J(G){return(0,c.U)(()=>G)}},8189:(Jt,it,V)=>{"use strict";V.d(it,{J:()=>G});var c=V(5577),J=V(4671);function G(Ae=1/0){return(0,c.z)(J.y,Ae)}},5577:(Jt,it,V)=>{"use strict";V.d(it,{z:()=>Pe});var c=V(4004),J=V(8421),G=V(4482),Ae=V(9672),_e=V(5403),ve=V(576);function Pe(Ne,we,he=1/0){return(0,ve.m)(we)?Pe((me,Re)=>(0,c.U)((We,je)=>we(me,We,Re,je))((0,J.Xf)(Ne(me,Re))),he):("number"==typeof we&&(he=we),(0,G.e)((me,Re)=>function ke(Ne,we,he,me,Re,We,je,Et){const Se=[];let Ce=0,fe=0,He=!1;const Be=()=>{He&&!Se.length&&!Ce&&we.complete()},Je=Ve=>Ce<me?Qe(Ve):Se.push(Ve),Qe=Ve=>{We&&we.next(Ve),Ce++;let Ge=!1;(0,J.Xf)(he(Ve,fe++)).subscribe((0,_e.x)(we,te=>{null==Re||Re(te),We?Je(te):we.next(te)},()=>{Ge=!0},void 0,()=>{if(Ge)try{for(Ce--;Se.length&&Ce<me;){const te=Se.shift();je?(0,Ae.f)(we,je,()=>Qe(te)):Qe(te)}Be()}catch(te){we.error(te)}}))};return Ne.subscribe((0,_e.x)(we,Je,()=>{He=!0,Be()})),()=>{null==Et||Et()}}(me,Re,Ne,he)))}},5363:(Jt,it,V)=>{"use strict";V.d(it,{Q:()=>Ae});var c=V(9672),J=V(4482),G=V(5403);function Ae(_e,ke=0){return(0,J.e)((ve,Pe)=>{ve.subscribe((0,G.x)(Pe,Ne=>(0,c.f)(Pe,_e,()=>Pe.next(Ne),ke),()=>(0,c.f)(Pe,_e,()=>Pe.complete(),ke),Ne=>(0,c.f)(Pe,_e,()=>Pe.error(Ne),ke)))})}},5026:(Jt,it,V)=>{"use strict";V.d(it,{R:()=>Ae});var c=V(4482),J=V(5403);function G(_e,ke,ve,Pe,Ne){return(we,he)=>{let me=ve,Re=ke,We=0;we.subscribe((0,J.x)(he,je=>{const Et=We++;Re=me?_e(Re,je,Et):(me=!0,je),Pe&&he.next(Re)},Ne&&(()=>{me&&he.next(Re),he.complete()})))}}function Ae(_e,ke){return(0,c.e)(G(_e,ke,arguments.length>=2,!0))}},3099:(Jt,it,V)=>{"use strict";V.d(it,{B:()=>_e});var c=V(8421),J=V(7579),G=V(930),Ae=V(4482);function _e(ve={}){const{connector:Pe=(()=>new J.x),resetOnError:Ne=!0,resetOnComplete:we=!0,resetOnRefCountZero:he=!0}=ve;return me=>{let Re,We,je,Et=0,Se=!1,Ce=!1;const fe=()=>{null==We||We.unsubscribe(),We=void 0},He=()=>{fe(),Re=je=void 0,Se=Ce=!1},Be=()=>{const Je=Re;He(),null==Je||Je.unsubscribe()};return(0,Ae.e)((Je,Qe)=>{Et++,!Ce&&!Se&&fe();const Ve=je=null!=je?je:Pe();Qe.add(()=>{Et--,0===Et&&!Ce&&!Se&&(We=ke(Be,he))}),Ve.subscribe(Qe),!Re&&Et>0&&(Re=new G.Hp({next:Ge=>Ve.next(Ge),error:Ge=>{Ce=!0,fe(),We=ke(He,Ne,Ge),Ve.error(Ge)},complete:()=>{Se=!0,fe(),We=ke(He,we),Ve.complete()}}),(0,c.Xf)(Je).subscribe(Re))})(me)}}function ke(ve,Pe,...Ne){if(!0===Pe)return void ve();if(!1===Pe)return;const we=new G.Hp({next:()=>{we.unsubscribe(),ve()}});return Pe(...Ne).subscribe(we)}},3151:(Jt,it,V)=>{"use strict";V.d(it,{d:()=>_e});var c=V(7579),J=V(6063);class G extends c.x{constructor(ve=1/0,Pe=1/0,Ne=J.l){super(),this._bufferSize=ve,this._windowTime=Pe,this._timestampProvider=Ne,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=Pe===1/0,this._bufferSize=Math.max(1,ve),this._windowTime=Math.max(1,Pe)}next(ve){const{isStopped:Pe,_buffer:Ne,_infiniteTimeWindow:we,_timestampProvider:he,_windowTime:me}=this;Pe||(Ne.push(ve),!we&&Ne.push(he.now()+me)),this._trimBuffer(),super.next(ve)}_subscribe(ve){this._throwIfClosed(),this._trimBuffer();const Pe=this._innerSubscribe(ve),{_infiniteTimeWindow:Ne,_buffer:we}=this,he=we.slice();for(let me=0;me<he.length&&!ve.closed;me+=Ne?1:2)ve.next(he[me]);return this._checkFinalizedStatuses(ve),Pe}_trimBuffer(){const{_bufferSize:ve,_timestampProvider:Pe,_buffer:Ne,_infiniteTimeWindow:we}=this,he=(we?1:2)*ve;if(ve<1/0&&he<Ne.length&&Ne.splice(0,Ne.length-he),!we){const me=Pe.now();let Re=0;for(let We=1;We<Ne.length&&Ne[We]<=me;We+=2)Re=We;Re&&Ne.splice(0,Re+1)}}}var Ae=V(3099);function _e(ke,ve,Pe){let Ne,we=!1;return ke&&"object"==typeof ke?({bufferSize:Ne=1/0,windowTime:ve=1/0,refCount:we=!1,scheduler:Pe}=ke):Ne=null!=ke?ke:1/0,(0,Ae.B)({connector:()=>new G(Ne,ve,Pe),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:we})}},8675:(Jt,it,V)=>{"use strict";V.d(it,{O:()=>Ae});var c=V(7272),J=V(3269),G=V(4482);function Ae(..._e){const ke=(0,J.yG)(_e);return(0,G.e)((ve,Pe)=>{(ke?(0,c.z)(_e,ve,ke):(0,c.z)(_e,ve)).subscribe(Pe)})}},9468:(Jt,it,V)=>{"use strict";V.d(it,{R:()=>J});var c=V(4482);function J(G,Ae=0){return(0,c.e)((_e,ke)=>{ke.add(G.schedule(()=>_e.subscribe(ke),Ae))})}},3900:(Jt,it,V)=>{"use strict";V.d(it,{w:()=>Ae});var c=V(8421),J=V(4482),G=V(5403);function Ae(_e,ke){return(0,J.e)((ve,Pe)=>{let Ne=null,we=0,he=!1;const me=()=>he&&!Ne&&Pe.complete();ve.subscribe((0,G.x)(Pe,Re=>{null==Ne||Ne.unsubscribe();let We=0;const je=we++;(0,c.Xf)(_e(Re,je)).subscribe(Ne=(0,G.x)(Pe,Et=>Pe.next(ke?ke(Re,Et,je,We++):Et),()=>{Ne=null,me()}))},()=>{he=!0,me()}))})}},5698:(Jt,it,V)=>{"use strict";V.d(it,{q:()=>Ae});var c=V(515),J=V(4482),G=V(5403);function Ae(_e){return _e<=0?()=>c.E:(0,J.e)((ke,ve)=>{let Pe=0;ke.subscribe((0,G.x)(ve,Ne=>{++Pe<=_e&&(ve.next(Ne),_e<=Pe&&ve.complete())}))})}},8505:(Jt,it,V)=>{"use strict";V.d(it,{b:()=>_e});var c=V(576),J=V(4482),G=V(5403),Ae=V(4671);function _e(ke,ve,Pe){const Ne=(0,c.m)(ke)||ve||Pe?{next:ke,error:ve,complete:Pe}:ke;return Ne?(0,J.e)((we,he)=>{var me;null===(me=Ne.subscribe)||void 0===me||me.call(Ne);let Re=!0;we.subscribe((0,G.x)(he,We=>{var je;null===(je=Ne.next)||void 0===je||je.call(Ne,We),he.next(We)},()=>{var We;Re=!1,null===(We=Ne.complete)||void 0===We||We.call(Ne),he.complete()},We=>{var je;Re=!1,null===(je=Ne.error)||void 0===je||je.call(Ne,We),he.error(We)},()=>{var We,je;Re&&(null===(We=Ne.unsubscribe)||void 0===We||We.call(Ne)),null===(je=Ne.finalize)||void 0===je||je.call(Ne)}))}):Ae.y}},8068:(Jt,it,V)=>{"use strict";V.d(it,{T:()=>Ae});var c=V(6805),J=V(4482),G=V(5403);function Ae(ke=_e){return(0,J.e)((ve,Pe)=>{let Ne=!1;ve.subscribe((0,G.x)(Pe,we=>{Ne=!0,Pe.next(we)},()=>Ne?Pe.complete():Pe.error(ke())))})}function _e(){return new c.K}},4408:(Jt,it,V)=>{"use strict";V.d(it,{o:()=>_e});var c=V(727);class J extends c.w0{constructor(ve,Pe){super()}schedule(ve,Pe=0){return this}}const G={setInterval(ke,ve,...Pe){const{delegate:Ne}=G;return null!=Ne&&Ne.setInterval?Ne.setInterval(ke,ve,...Pe):setInterval(ke,ve,...Pe)},clearInterval(ke){const{delegate:ve}=G;return((null==ve?void 0:ve.clearInterval)||clearInterval)(ke)},delegate:void 0};var Ae=V(8737);class _e extends J{constructor(ve,Pe){super(ve,Pe),this.scheduler=ve,this.work=Pe,this.pending=!1}schedule(ve,Pe=0){var Ne;if(this.closed)return this;this.state=ve;const we=this.id,he=this.scheduler;return null!=we&&(this.id=this.recycleAsyncId(he,we,Pe)),this.pending=!0,this.delay=Pe,this.id=null!==(Ne=this.id)&&void 0!==Ne?Ne:this.requestAsyncId(he,this.id,Pe),this}requestAsyncId(ve,Pe,Ne=0){return G.setInterval(ve.flush.bind(ve,this),Ne)}recycleAsyncId(ve,Pe,Ne=0){if(null!=Ne&&this.delay===Ne&&!1===this.pending)return Pe;null!=Pe&&G.clearInterval(Pe)}execute(ve,Pe){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const Ne=this._execute(ve,Pe);if(Ne)return Ne;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(ve,Pe){let we,Ne=!1;try{this.work(ve)}catch(he){Ne=!0,we=he||new Error("Scheduled action threw falsy error")}if(Ne)return this.unsubscribe(),we}unsubscribe(){if(!this.closed){const{id:ve,scheduler:Pe}=this,{actions:Ne}=Pe;this.work=this.state=this.scheduler=null,this.pending=!1,(0,Ae.P)(Ne,this),null!=ve&&(this.id=this.recycleAsyncId(Pe,ve,null)),this.delay=null,super.unsubscribe()}}}},7565:(Jt,it,V)=>{"use strict";V.d(it,{v:()=>G});var c=V(6063);class J{constructor(_e,ke=J.now){this.schedulerActionCtor=_e,this.now=ke}schedule(_e,ke=0,ve){return new this.schedulerActionCtor(this,_e).schedule(ve,ke)}}J.now=c.l.now;class G extends J{constructor(_e,ke=J.now){super(_e,ke),this.actions=[],this._active=!1}flush(_e){const{actions:ke}=this;if(this._active)return void ke.push(_e);let ve;this._active=!0;do{if(ve=_e.execute(_e.state,_e.delay))break}while(_e=ke.shift());if(this._active=!1,ve){for(;_e=ke.shift();)_e.unsubscribe();throw ve}}}},4986:(Jt,it,V)=>{"use strict";V.d(it,{P:()=>Ae,z:()=>G});var c=V(4408);const G=new(V(7565).v)(c.o),Ae=G},6063:(Jt,it,V)=>{"use strict";V.d(it,{l:()=>c});const c={now:()=>(c.delegate||Date).now(),delegate:void 0}},3410:(Jt,it,V)=>{"use strict";V.d(it,{z:()=>c});const c={setTimeout(J,G,...Ae){const{delegate:_e}=c;return null!=_e&&_e.setTimeout?_e.setTimeout(J,G,...Ae):setTimeout(J,G,...Ae)},clearTimeout(J){const{delegate:G}=c;return((null==G?void 0:G.clearTimeout)||clearTimeout)(J)},delegate:void 0}},2202:(Jt,it,V)=>{"use strict";V.d(it,{h:()=>J});const J=function c(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(Jt,it,V)=>{"use strict";V.d(it,{L:()=>c});const c="function"==typeof Symbol&&Symbol.observable||"@@observable"},6805:(Jt,it,V)=>{"use strict";V.d(it,{K:()=>J});const J=(0,V(3888).d)(G=>function(){G(this),this.name="EmptyError",this.message="no elements in sequence"})},3269:(Jt,it,V)=>{"use strict";V.d(it,{_6:()=>ke,jO:()=>Ae,yG:()=>_e});var c=V(576),J=V(3532);function G(ve){return ve[ve.length-1]}function Ae(ve){return(0,c.m)(G(ve))?ve.pop():void 0}function _e(ve){return(0,J.K)(G(ve))?ve.pop():void 0}function ke(ve,Pe){return"number"==typeof G(ve)?ve.pop():Pe}},4742:(Jt,it,V)=>{"use strict";V.d(it,{D:()=>_e});const{isArray:c}=Array,{getPrototypeOf:J,prototype:G,keys:Ae}=Object;function _e(ve){if(1===ve.length){const Pe=ve[0];if(c(Pe))return{args:Pe,keys:null};if(function ke(ve){return ve&&"object"==typeof ve&&J(ve)===G}(Pe)){const Ne=Ae(Pe);return{args:Ne.map(we=>Pe[we]),keys:Ne}}}return{args:ve,keys:null}}},8737:(Jt,it,V)=>{"use strict";function c(J,G){if(J){const Ae=J.indexOf(G);0<=Ae&&J.splice(Ae,1)}}V.d(it,{P:()=>c})},3888:(Jt,it,V)=>{"use strict";function c(J){const Ae=J(_e=>{Error.call(_e),_e.stack=(new Error).stack});return Ae.prototype=Object.create(Error.prototype),Ae.prototype.constructor=Ae,Ae}V.d(it,{d:()=>c})},1810:(Jt,it,V)=>{"use strict";function c(J,G){return J.reduce((Ae,_e,ke)=>(Ae[_e]=G[ke],Ae),{})}V.d(it,{n:()=>c})},2806:(Jt,it,V)=>{"use strict";V.d(it,{O:()=>Ae,x:()=>G});var c=V(2416);let J=null;function G(_e){if(c.v.useDeprecatedSynchronousErrorHandling){const ke=!J;if(ke&&(J={errorThrown:!1,error:null}),_e(),ke){const{errorThrown:ve,error:Pe}=J;if(J=null,ve)throw Pe}}else _e()}function Ae(_e){c.v.useDeprecatedSynchronousErrorHandling&&J&&(J.errorThrown=!0,J.error=_e)}},9672:(Jt,it,V)=>{"use strict";function c(J,G,Ae,_e=0,ke=!1){const ve=G.schedule(function(){Ae(),ke?J.add(this.schedule(null,_e)):this.unsubscribe()},_e);if(J.add(ve),!ke)return ve}V.d(it,{f:()=>c})},4671:(Jt,it,V)=>{"use strict";function c(J){return J}V.d(it,{y:()=>c})},1144:(Jt,it,V)=>{"use strict";V.d(it,{z:()=>c});const c=J=>J&&"number"==typeof J.length&&"function"!=typeof J},2206:(Jt,it,V)=>{"use strict";V.d(it,{D:()=>J});var c=V(576);function J(G){return Symbol.asyncIterator&&(0,c.m)(null==G?void 0:G[Symbol.asyncIterator])}},576:(Jt,it,V)=>{"use strict";function c(J){return"function"==typeof J}V.d(it,{m:()=>c})},3670:(Jt,it,V)=>{"use strict";V.d(it,{c:()=>G});var c=V(8822),J=V(576);function G(Ae){return(0,J.m)(Ae[c.L])}},6495:(Jt,it,V)=>{"use strict";V.d(it,{T:()=>G});var c=V(2202),J=V(576);function G(Ae){return(0,J.m)(null==Ae?void 0:Ae[c.h])}},8239:(Jt,it,V)=>{"use strict";V.d(it,{t:()=>J});var c=V(576);function J(G){return(0,c.m)(null==G?void 0:G.then)}},3260:(Jt,it,V)=>{"use strict";V.d(it,{L:()=>Ae,Q:()=>G});var c=V(655),J=V(576);function G(_e){return(0,c.FC)(this,arguments,function*(){const ve=_e.getReader();try{for(;;){const{value:Pe,done:Ne}=yield(0,c.qq)(ve.read());if(Ne)return yield(0,c.qq)(void 0);yield yield(0,c.qq)(Pe)}}finally{ve.releaseLock()}})}function Ae(_e){return(0,J.m)(null==_e?void 0:_e.getReader)}},3532:(Jt,it,V)=>{"use strict";V.d(it,{K:()=>J});var c=V(576);function J(G){return G&&(0,c.m)(G.schedule)}},4482:(Jt,it,V)=>{"use strict";V.d(it,{A:()=>J,e:()=>G});var c=V(576);function J(Ae){return(0,c.m)(null==Ae?void 0:Ae.lift)}function G(Ae){return _e=>{if(J(_e))return _e.lift(function(ke){try{return Ae(ke,this)}catch(ve){this.error(ve)}});throw new TypeError("Unable to lift unknown Observable type")}}},3268:(Jt,it,V)=>{"use strict";V.d(it,{Z:()=>Ae});var c=V(4004);const{isArray:J}=Array;function Ae(_e){return(0,c.U)(ke=>function G(_e,ke){return J(ke)?_e(...ke):_e(ke)}(_e,ke))}},5032:(Jt,it,V)=>{"use strict";function c(){}V.d(it,{Z:()=>c})},9635:(Jt,it,V)=>{"use strict";V.d(it,{U:()=>G,z:()=>J});var c=V(4671);function J(...Ae){return G(Ae)}function G(Ae){return 0===Ae.length?c.y:1===Ae.length?Ae[0]:function(ke){return Ae.reduce((ve,Pe)=>Pe(ve),ke)}}},7849:(Jt,it,V)=>{"use strict";V.d(it,{h:()=>G});var c=V(2416),J=V(3410);function G(Ae){J.z.setTimeout(()=>{const{onUnhandledError:_e}=c.v;if(!_e)throw Ae;_e(Ae)})}},4532:(Jt,it,V)=>{"use strict";function c(J){return new TypeError(`You provided ${null!==J&&"object"==typeof J?"an invalid object":`'${J}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}V.d(it,{z:()=>c})},863:(Jt,it,V)=>{var c={"./ion-accordion_2.entry.js":[9654,8592,9654],"./ion-action-sheet.entry.js":[3648,8592,3648],"./ion-alert.entry.js":[1118,8592,1118],"./ion-app_8.entry.js":[53,8592,3236],"./ion-avatar_3.entry.js":[4753,4753],"./ion-back-button.entry.js":[2073,8592,2073],"./ion-backdrop.entry.js":[8939,8939],"./ion-breadcrumb_2.entry.js":[7544,8592,7544],"./ion-button_2.entry.js":[5652,5652],"./ion-card_5.entry.js":[388,388],"./ion-checkbox.entry.js":[9922,9922],"./ion-chip.entry.js":[657,657],"./ion-col_3.entry.js":[9824,9824],"./ion-datetime-button.entry.js":[9230,7206,9230],"./ion-datetime_3.entry.js":[4959,7206,8592,4959],"./ion-fab_3.entry.js":[5836,8592,5836],"./ion-img.entry.js":[1033,1033],"./ion-infinite-scroll_2.entry.js":[8034,8592,5817],"./ion-input.entry.js":[1217,8592,1217],"./ion-item-option_3.entry.js":[2933,8592,4651],"./ion-item_8.entry.js":[4711,8592,4711],"./ion-loading.entry.js":[9434,9434],"./ion-menu_3.entry.js":[8136,8592,8136],"./ion-modal.entry.js":[2349,8592,2349],"./ion-nav_2.entry.js":[5349,8592,5349],"./ion-picker-column-internal.entry.js":[7602,8592,7602],"./ion-picker-internal.entry.js":[9016,9016],"./ion-popover.entry.js":[3804,8592,3804],"./ion-progress-bar.entry.js":[4174,4174],"./ion-radio_2.entry.js":[4432,4432],"./ion-range.entry.js":[1709,8592,1709],"./ion-refresher_2.entry.js":[3326,8592,2175],"./ion-reorder_2.entry.js":[3583,8592,1186],"./ion-ripple-effect.entry.js":[9958,9958],"./ion-route_4.entry.js":[4330,4330],"./ion-searchbar.entry.js":[8628,8592,8628],"./ion-segment_2.entry.js":[9325,8592,9325],"./ion-select_3.entry.js":[2773,2773],"./ion-slide_2.entry.js":[1650,1650],"./ion-spinner.entry.js":[4908,8592,4908],"./ion-split-pane.entry.js":[9536,9536],"./ion-tab-bar_2.entry.js":[438,8592,438],"./ion-tab_2.entry.js":[1536,8592,1536],"./ion-text.entry.js":[4376,4376],"./ion-textarea.entry.js":[6560,6560],"./ion-toast.entry.js":[6120,6120],"./ion-toggle.entry.js":[5168,8592,5168],"./ion-virtual-scroll.entry.js":[2289,2289]};function J(G){if(!V.o(c,G))return Promise.resolve().then(()=>{var ke=new Error("Cannot find module '"+G+"'");throw ke.code="MODULE_NOT_FOUND",ke});var Ae=c[G],_e=Ae[0];return Promise.all(Ae.slice(1).map(V.e)).then(()=>V(_e))}J.keys=()=>Object.keys(c),J.id=863,Jt.exports=J},655:(Jt,it,V)=>{"use strict";function Ae(le,ye){var xe={};for(var Me in le)Object.prototype.hasOwnProperty.call(le,Me)&&ye.indexOf(Me)<0&&(xe[Me]=le[Me]);if(null!=le&&"function"==typeof Object.getOwnPropertySymbols){var Xe=0;for(Me=Object.getOwnPropertySymbols(le);Xe<Me.length;Xe++)ye.indexOf(Me[Xe])<0&&Object.prototype.propertyIsEnumerable.call(le,Me[Xe])&&(xe[Me[Xe]]=le[Me[Xe]])}return xe}function _e(le,ye,xe,Me){var on,Xe=arguments.length,Bt=Xe<3?ye:null===Me?Me=Object.getOwnPropertyDescriptor(ye,xe):Me;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Bt=Reflect.decorate(le,ye,xe,Me);else for(var Rt=le.length-1;Rt>=0;Rt--)(on=le[Rt])&&(Bt=(Xe<3?on(Bt):Xe>3?on(ye,xe,Bt):on(ye,xe))||Bt);return Xe>3&&Bt&&Object.defineProperty(ye,xe,Bt),Bt}function Pe(le,ye,xe,Me){return new(xe||(xe=Promise))(function(Bt,on){function Rt(Ot){try{ft(Me.next(Ot))}catch(pt){on(pt)}}function bt(Ot){try{ft(Me.throw(Ot))}catch(pt){on(pt)}}function ft(Ot){Ot.done?Bt(Ot.value):function Xe(Bt){return Bt instanceof xe?Bt:new xe(function(on){on(Bt)})}(Ot.value).then(Rt,bt)}ft((Me=Me.apply(le,ye||[])).next())})}function Se(le){return this instanceof Se?(this.v=le,this):new Se(le)}function Ce(le,ye,xe){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Xe,Me=xe.apply(le,ye||[]),Bt=[];return Xe={},on("next"),on("throw"),on("return"),Xe[Symbol.asyncIterator]=function(){return this},Xe;function on(wt){Me[wt]&&(Xe[wt]=function(st){return new Promise(function(nn,Kt){Bt.push([wt,st,nn,Kt])>1||Rt(wt,st)})})}function Rt(wt,st){try{!function bt(wt){wt.value instanceof Se?Promise.resolve(wt.value.v).then(ft,Ot):pt(Bt[0][2],wt)}(Me[wt](st))}catch(nn){pt(Bt[0][3],nn)}}function ft(wt){Rt("next",wt)}function Ot(wt){Rt("throw",wt)}function pt(wt,st){wt(st),Bt.shift(),Bt.length&&Rt(Bt[0][0],Bt[0][1])}}function He(le){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var xe,ye=le[Symbol.asyncIterator];return ye?ye.call(le):(le=function me(le){var ye="function"==typeof Symbol&&Symbol.iterator,xe=ye&&le[ye],Me=0;if(xe)return xe.call(le);if(le&&"number"==typeof le.length)return{next:function(){return le&&Me>=le.length&&(le=void 0),{value:le&&le[Me++],done:!le}}};throw new TypeError(ye?"Object is not iterable.":"Symbol.iterator is not defined.")}(le),xe={},Me("next"),Me("throw"),Me("return"),xe[Symbol.asyncIterator]=function(){return this},xe);function Me(Bt){xe[Bt]=le[Bt]&&function(on){return new Promise(function(Rt,bt){!function Xe(Bt,on,Rt,bt){Promise.resolve(bt).then(function(ft){Bt({value:ft,done:Rt})},on)}(Rt,bt,(on=le[Bt](on)).done,on.value)})}}}V.d(it,{FC:()=>Ce,KL:()=>He,_T:()=>Ae,gn:()=>_e,mG:()=>Pe,qq:()=>Se})},6895:(Jt,it,V)=>{"use strict";V.d(it,{Do:()=>fe,EM:()=>Us,HT:()=>Ae,JF:()=>Qs,K0:()=>ke,Mn:()=>Rt,Mx:()=>Jr,NF:()=>Ki,O5:()=>Ie,PC:()=>Vn,PM:()=>co,S$:()=>Et,Tn:()=>ye,UT:()=>bt,V_:()=>Ne,Ye:()=>He,Zx:()=>Xs,ax:()=>mi,b0:()=>Ce,bD:()=>na,ez:()=>xs,mk:()=>gs,ol:()=>on,p6:()=>zn,q:()=>G,rS:()=>Or,sg:()=>mi,tP:()=>kn,w_:()=>_e,x:()=>le});var c=V(4650);let J=null;function G(){return J}function Ae(O){J||(J=O)}class _e{}const ke=new c.OlP("DocumentToken");let ve=(()=>{class O{historyGo(B){throw new Error("Not implemented")}}return O.\u0275fac=function(B){return new(B||O)},O.\u0275prov=c.Yz7({token:O,factory:function(){return function Pe(){return(0,c.LFG)(we)}()},providedIn:"platform"}),O})();const Ne=new c.OlP("Location Initialized");let we=(()=>{class O extends ve{constructor(B){super(),this._doc=B,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return G().getBaseHref(this._doc)}onPopState(B){const ie=G().getGlobalEventTarget(this._doc,"window");return ie.addEventListener("popstate",B,!1),()=>ie.removeEventListener("popstate",B)}onHashChange(B){const ie=G().getGlobalEventTarget(this._doc,"window");return ie.addEventListener("hashchange",B,!1),()=>ie.removeEventListener("hashchange",B)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(B){this.location.pathname=B}pushState(B,ie,qe){he()?this._history.pushState(B,ie,qe):this.location.hash=qe}replaceState(B,ie,qe){he()?this._history.replaceState(B,ie,qe):this.location.hash=qe}forward(){this._history.forward()}back(){this._history.back()}historyGo(B=0){this._history.go(B)}getState(){return this._history.state}}return O.\u0275fac=function(B){return new(B||O)(c.LFG(ke))},O.\u0275prov=c.Yz7({token:O,factory:function(){return function me(){return new we((0,c.LFG)(ke))}()},providedIn:"platform"}),O})();function he(){return!!window.history.pushState}function Re(O,X){if(0==O.length)return X;if(0==X.length)return O;let B=0;return O.endsWith("/")&&B++,X.startsWith("/")&&B++,2==B?O+X.substring(1):1==B?O+X:O+"/"+X}function We(O){const X=O.match(/#|\?|$/),B=X&&X.index||O.length;return O.slice(0,B-("/"===O[B-1]?1:0))+O.slice(B)}function je(O){return O&&"?"!==O[0]?"?"+O:O}let Et=(()=>{class O{historyGo(B){throw new Error("Not implemented")}}return O.\u0275fac=function(B){return new(B||O)},O.\u0275prov=c.Yz7({token:O,factory:function(){return(0,c.f3M)(Ce)},providedIn:"root"}),O})();const Se=new c.OlP("appBaseHref");let Ce=(()=>{class O extends Et{constructor(B,ie){var qe,$t,Xt;super(),this._platformLocation=B,this._removeListenerFns=[],this._baseHref=null!==(qe=null!==($t=null!=ie?ie:this._platformLocation.getBaseHrefFromDOM())&&void 0!==$t?$t:null===(Xt=(0,c.f3M)(ke).location)||void 0===Xt?void 0:Xt.origin)&&void 0!==qe?qe:""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(B){this._removeListenerFns.push(this._platformLocation.onPopState(B),this._platformLocation.onHashChange(B))}getBaseHref(){return this._baseHref}prepareExternalUrl(B){return Re(this._baseHref,B)}path(B=!1){const ie=this._platformLocation.pathname+je(this._platformLocation.search),qe=this._platformLocation.hash;return qe&&B?`${ie}${qe}`:ie}pushState(B,ie,qe,$t){const Xt=this.prepareExternalUrl(qe+je($t));this._platformLocation.pushState(B,ie,Xt)}replaceState(B,ie,qe,$t){const Xt=this.prepareExternalUrl(qe+je($t));this._platformLocation.replaceState(B,ie,Xt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(B=0){var ie,qe;null===(ie=(qe=this._platformLocation).historyGo)||void 0===ie||ie.call(qe,B)}}return O.\u0275fac=function(B){return new(B||O)(c.LFG(ve),c.LFG(Se,8))},O.\u0275prov=c.Yz7({token:O,factory:O.\u0275fac,providedIn:"root"}),O})(),fe=(()=>{class O extends Et{constructor(B,ie){super(),this._platformLocation=B,this._baseHref="",this._removeListenerFns=[],null!=ie&&(this._baseHref=ie)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(B){this._removeListenerFns.push(this._platformLocation.onPopState(B),this._platformLocation.onHashChange(B))}getBaseHref(){return this._baseHref}path(B=!1){let ie=this._platformLocation.hash;return null==ie&&(ie="#"),ie.length>0?ie.substring(1):ie}prepareExternalUrl(B){const ie=Re(this._baseHref,B);return ie.length>0?"#"+ie:ie}pushState(B,ie,qe,$t){let Xt=this.prepareExternalUrl(qe+je($t));0==Xt.length&&(Xt=this._platformLocation.pathname),this._platformLocation.pushState(B,ie,Xt)}replaceState(B,ie,qe,$t){let Xt=this.prepareExternalUrl(qe+je($t));0==Xt.length&&(Xt=this._platformLocation.pathname),this._platformLocation.replaceState(B,ie,Xt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(B=0){var ie,qe;null===(ie=(qe=this._platformLocation).historyGo)||void 0===ie||ie.call(qe,B)}}return O.\u0275fac=function(B){return new(B||O)(c.LFG(ve),c.LFG(Se,8))},O.\u0275prov=c.Yz7({token:O,factory:O.\u0275fac}),O})(),He=(()=>{class O{constructor(B){this._subject=new c.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=B;const ie=this._locationStrategy.getBaseHref();this._basePath=function Ve(O){if(new RegExp("^(https?:)?//").test(O)){const[,B]=O.split(/\/\/[^\/]+/);return B}return O}(We(Qe(ie))),this._locationStrategy.onPopState(qe=>{this._subject.emit({url:this.path(!0),pop:!0,state:qe.state,type:qe.type})})}ngOnDestroy(){var B;null===(B=this._urlChangeSubscription)||void 0===B||B.unsubscribe(),this._urlChangeListeners=[]}path(B=!1){return this.normalize(this._locationStrategy.path(B))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(B,ie=""){return this.path()==this.normalize(B+je(ie))}normalize(B){return O.stripTrailingSlash(function Je(O,X){return O&&X.startsWith(O)?X.substring(O.length):X}(this._basePath,Qe(B)))}prepareExternalUrl(B){return B&&"/"!==B[0]&&(B="/"+B),this._locationStrategy.prepareExternalUrl(B)}go(B,ie="",qe=null){this._locationStrategy.pushState(qe,"",B,ie),this._notifyUrlChangeListeners(this.prepareExternalUrl(B+je(ie)),qe)}replaceState(B,ie="",qe=null){this._locationStrategy.replaceState(qe,"",B,ie),this._notifyUrlChangeListeners(this.prepareExternalUrl(B+je(ie)),qe)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(B=0){var ie,qe;null===(ie=(qe=this._locationStrategy).historyGo)||void 0===ie||ie.call(qe,B)}onUrlChange(B){return this._urlChangeListeners.push(B),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(ie=>{this._notifyUrlChangeListeners(ie.url,ie.state)})),()=>{const ie=this._urlChangeListeners.indexOf(B);var qe;this._urlChangeListeners.splice(ie,1),0===this._urlChangeListeners.length&&(null===(qe=this._urlChangeSubscription)||void 0===qe||qe.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(B="",ie){this._urlChangeListeners.forEach(qe=>qe(B,ie))}subscribe(B,ie,qe){return this._subject.subscribe({next:B,error:ie,complete:qe})}}return O.normalizeQueryParams=je,O.joinWithSlash=Re,O.stripTrailingSlash=We,O.\u0275fac=function(B){return new(B||O)(c.LFG(Et))},O.\u0275prov=c.Yz7({token:O,factory:function(){return function Be(){return new He((0,c.LFG)(Et))}()},providedIn:"root"}),O})();function Qe(O){return O.replace(/\/index.html$/,"")}var te=(()=>((te=te||{})[te.Decimal=0]="Decimal",te[te.Percent=1]="Percent",te[te.Currency=2]="Currency",te[te.Scientific=3]="Scientific",te))(),le=(()=>((le=le||{})[le.Format=0]="Format",le[le.Standalone=1]="Standalone",le))(),ye=(()=>((ye=ye||{})[ye.Narrow=0]="Narrow",ye[ye.Abbreviated=1]="Abbreviated",ye[ye.Wide=2]="Wide",ye[ye.Short=3]="Short",ye))(),xe=(()=>((xe=xe||{})[xe.Short=0]="Short",xe[xe.Medium=1]="Medium",xe[xe.Long=2]="Long",xe[xe.Full=3]="Full",xe))(),Me=(()=>((Me=Me||{})[Me.Decimal=0]="Decimal",Me[Me.Group=1]="Group",Me[Me.List=2]="List",Me[Me.PercentSign=3]="PercentSign",Me[Me.PlusSign=4]="PlusSign",Me[Me.MinusSign=5]="MinusSign",Me[Me.Exponential=6]="Exponential",Me[Me.SuperscriptingExponent=7]="SuperscriptingExponent",Me[Me.PerMille=8]="PerMille",Me[Me.Infinity=9]="Infinity",Me[Me.NaN=10]="NaN",Me[Me.TimeSeparator=11]="TimeSeparator",Me[Me.CurrencyDecimal=12]="CurrencyDecimal",Me[Me.CurrencyGroup=13]="CurrencyGroup",Me))();function on(O,X,B){const ie=(0,c.cg1)(O),$t=Wt([ie[c.wAp.DayPeriodsFormat],ie[c.wAp.DayPeriodsStandalone]],X);return Wt($t,B)}function Rt(O,X,B){const ie=(0,c.cg1)(O),$t=Wt([ie[c.wAp.DaysFormat],ie[c.wAp.DaysStandalone]],X);return Wt($t,B)}function bt(O,X,B){const ie=(0,c.cg1)(O),$t=Wt([ie[c.wAp.MonthsFormat],ie[c.wAp.MonthsStandalone]],X);return Wt($t,B)}function wt(O,X){return Wt((0,c.cg1)(O)[c.wAp.DateFormat],X)}function st(O,X){return Wt((0,c.cg1)(O)[c.wAp.TimeFormat],X)}function nn(O,X){return Wt((0,c.cg1)(O)[c.wAp.DateTimeFormat],X)}function Kt(O,X){const B=(0,c.cg1)(O),ie=B[c.wAp.NumberSymbols][X];if(typeof ie>"u"){if(X===Me.CurrencyDecimal)return B[c.wAp.NumberSymbols][Me.Decimal];if(X===Me.CurrencyGroup)return B[c.wAp.NumberSymbols][Me.Group]}return ie}function Mr(O){if(!O[c.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${O[c.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function Wt(O,X){for(let B=X;B>-1;B--)if(typeof O[B]<"u")return O[B];throw new Error("Locale data API: locale data undefined")}function Ur(O){const[X,B]=O.split(":");return{hours:+X,minutes:+B}}const vr=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Si={},Oi=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var xn=(()=>((xn=xn||{})[xn.Short=0]="Short",xn[xn.ShortGMT=1]="ShortGMT",xn[xn.Long=2]="Long",xn[xn.Extended=3]="Extended",xn))(),On=(()=>((On=On||{})[On.FullYear=0]="FullYear",On[On.Month=1]="Month",On[On.Date=2]="Date",On[On.Hours=3]="Hours",On[On.Minutes=4]="Minutes",On[On.Seconds=5]="Seconds",On[On.FractionalSeconds=6]="FractionalSeconds",On[On.Day=7]="Day",On))(),fn=(()=>((fn=fn||{})[fn.DayPeriods=0]="DayPeriods",fn[fn.Days=1]="Days",fn[fn.Months=2]="Months",fn[fn.Eras=3]="Eras",fn))();function zn(O,X,B,ie){let qe=function ln(O){if(Ht(O))return O;if("number"==typeof O&&!isNaN(O))return new Date(O);if("string"==typeof O){if(O=O.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(O)){const[qe,$t=1,Xt=1]=O.split("-").map(qn=>+qn);return _r(qe,$t-1,Xt)}const B=parseFloat(O);if(!isNaN(O-B))return new Date(B);let ie;if(ie=O.match(vr))return function $n(O){const X=new Date(0);let B=0,ie=0;const qe=O[8]?X.setUTCFullYear:X.setFullYear,$t=O[8]?X.setUTCHours:X.setHours;O[9]&&(B=Number(O[9]+O[10]),ie=Number(O[9]+O[11])),qe.call(X,Number(O[1]),Number(O[2])-1,Number(O[3]));const Xt=Number(O[4]||0)-B,qn=Number(O[5]||0)-ie,pr=Number(O[6]||0),Cr=Math.floor(1e3*parseFloat("0."+(O[7]||0)));return $t.call(X,Xt,qn,pr,Cr),X}(ie)}const X=new Date(O);if(!Ht(X))throw new Error(`Unable to convert "${O}" into a date`);return X}(O);X=wr(B,X)||X;let qn,Xt=[];for(;X;){if(qn=Oi.exec(X),!qn){Xt.push(X);break}{Xt=Xt.concat(qn.slice(1));const $r=Xt.pop();if(!$r)break;X=$r}}let pr=qe.getTimezoneOffset();ie&&(pr=ze(ie,pr),qe=function ct(O,X,B){const ie=B?-1:1,qe=O.getTimezoneOffset();return function At(O,X){return(O=new Date(O.getTime())).setMinutes(O.getMinutes()+X),O}(O,ie*(ze(X,qe)-qe))}(qe,ie,!0));let Cr="";return Xt.forEach($r=>{const kr=function De(O){if(ge[O])return ge[O];let X;switch(O){case"G":case"GG":case"GGG":X=ar(fn.Eras,ye.Abbreviated);break;case"GGGG":X=ar(fn.Eras,ye.Wide);break;case"GGGGG":X=ar(fn.Eras,ye.Narrow);break;case"y":X=Rr(On.FullYear,1,0,!1,!0);break;case"yy":X=Rr(On.FullYear,2,0,!0,!0);break;case"yyy":X=Rr(On.FullYear,3,0,!1,!0);break;case"yyyy":X=Rr(On.FullYear,4,0,!1,!0);break;case"Y":X=xt(1);break;case"YY":X=xt(2,!0);break;case"YYY":X=xt(3);break;case"YYYY":X=xt(4);break;case"M":case"L":X=Rr(On.Month,1,1);break;case"MM":case"LL":X=Rr(On.Month,2,1);break;case"MMM":X=ar(fn.Months,ye.Abbreviated);break;case"MMMM":X=ar(fn.Months,ye.Wide);break;case"MMMMM":X=ar(fn.Months,ye.Narrow);break;case"LLL":X=ar(fn.Months,ye.Abbreviated,le.Standalone);break;case"LLLL":X=ar(fn.Months,ye.Wide,le.Standalone);break;case"LLLLL":X=ar(fn.Months,ye.Narrow,le.Standalone);break;case"w":X=Ke(1);break;case"ww":X=Ke(2);break;case"W":X=Ke(1,!0);break;case"d":X=Rr(On.Date,1);break;case"dd":X=Rr(On.Date,2);break;case"c":case"cc":X=Rr(On.Day,1);break;case"ccc":X=ar(fn.Days,ye.Abbreviated,le.Standalone);break;case"cccc":X=ar(fn.Days,ye.Wide,le.Standalone);break;case"ccccc":X=ar(fn.Days,ye.Narrow,le.Standalone);break;case"cccccc":X=ar(fn.Days,ye.Short,le.Standalone);break;case"E":case"EE":case"EEE":X=ar(fn.Days,ye.Abbreviated);break;case"EEEE":X=ar(fn.Days,ye.Wide);break;case"EEEEE":X=ar(fn.Days,ye.Narrow);break;case"EEEEEE":X=ar(fn.Days,ye.Short);break;case"a":case"aa":case"aaa":X=ar(fn.DayPeriods,ye.Abbreviated);break;case"aaaa":X=ar(fn.DayPeriods,ye.Wide);break;case"aaaaa":X=ar(fn.DayPeriods,ye.Narrow);break;case"b":case"bb":case"bbb":X=ar(fn.DayPeriods,ye.Abbreviated,le.Standalone,!0);break;case"bbbb":X=ar(fn.DayPeriods,ye.Wide,le.Standalone,!0);break;case"bbbbb":X=ar(fn.DayPeriods,ye.Narrow,le.Standalone,!0);break;case"B":case"BB":case"BBB":X=ar(fn.DayPeriods,ye.Abbreviated,le.Format,!0);break;case"BBBB":X=ar(fn.DayPeriods,ye.Wide,le.Format,!0);break;case"BBBBB":X=ar(fn.DayPeriods,ye.Narrow,le.Format,!0);break;case"h":X=Rr(On.Hours,1,-12);break;case"hh":X=Rr(On.Hours,2,-12);break;case"H":X=Rr(On.Hours,1);break;case"HH":X=Rr(On.Hours,2);break;case"m":X=Rr(On.Minutes,1);break;case"mm":X=Rr(On.Minutes,2);break;case"s":X=Rr(On.Seconds,1);break;case"ss":X=Rr(On.Seconds,2);break;case"S":X=Rr(On.FractionalSeconds,1);break;case"SS":X=Rr(On.FractionalSeconds,2);break;case"SSS":X=Rr(On.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":X=fr(xn.Short);break;case"ZZZZZ":X=fr(xn.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":X=fr(xn.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":X=fr(xn.Long);break;default:return null}return ge[O]=X,X}($r);Cr+=kr?kr(qe,B,pr):"''"===$r?"'":$r.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),Cr}function _r(O,X,B){const ie=new Date(0);return ie.setFullYear(O,X,B),ie.setHours(0,0,0),ie}function wr(O,X){const B=function Bt(O){return(0,c.cg1)(O)[c.wAp.LocaleId]}(O);if(Si[B]=Si[B]||{},Si[B][X])return Si[B][X];let ie="";switch(X){case"shortDate":ie=wt(O,xe.Short);break;case"mediumDate":ie=wt(O,xe.Medium);break;case"longDate":ie=wt(O,xe.Long);break;case"fullDate":ie=wt(O,xe.Full);break;case"shortTime":ie=st(O,xe.Short);break;case"mediumTime":ie=st(O,xe.Medium);break;case"longTime":ie=st(O,xe.Long);break;case"fullTime":ie=st(O,xe.Full);break;case"short":const qe=wr(O,"shortTime"),$t=wr(O,"shortDate");ie=Nr(nn(O,xe.Short),[qe,$t]);break;case"medium":const Xt=wr(O,"mediumTime"),qn=wr(O,"mediumDate");ie=Nr(nn(O,xe.Medium),[Xt,qn]);break;case"long":const pr=wr(O,"longTime"),Cr=wr(O,"longDate");ie=Nr(nn(O,xe.Long),[pr,Cr]);break;case"full":const $r=wr(O,"fullTime"),kr=wr(O,"fullDate");ie=Nr(nn(O,xe.Full),[$r,kr])}return ie&&(Si[B][X]=ie),ie}function Nr(O,X){return X&&(O=O.replace(/\{([^}]+)}/g,function(B,ie){return null!=X&&ie in X?X[ie]:B})),O}function xi(O,X,B="-",ie,qe){let $t="";(O<0||qe&&O<=0)&&(qe?O=1-O:(O=-O,$t=B));let Xt=String(O);for(;Xt.length<X;)Xt="0"+Xt;return ie&&(Xt=Xt.slice(Xt.length-X)),$t+Xt}function Rr(O,X,B=0,ie=!1,qe=!1){return function($t,Xt){let qn=function is(O,X){switch(O){case On.FullYear:return X.getFullYear();case On.Month:return X.getMonth();case On.Date:return X.getDate();case On.Hours:return X.getHours();case On.Minutes:return X.getMinutes();case On.Seconds:return X.getSeconds();case On.FractionalSeconds:return X.getMilliseconds();case On.Day:return X.getDay();default:throw new Error(`Unknown DateType value "${O}".`)}}(O,$t);if((B>0||qn>-B)&&(qn+=B),O===On.Hours)0===qn&&-12===B&&(qn=12);else if(O===On.FractionalSeconds)return function ki(O,X){return xi(O,3).substring(0,X)}(qn,X);const pr=Kt(Xt,Me.MinusSign);return xi(qn,X,pr,ie,qe)}}function ar(O,X,B=le.Format,ie=!1){return function(qe,$t){return function li(O,X,B,ie,qe,$t){switch(B){case fn.Months:return bt(X,qe,ie)[O.getMonth()];case fn.Days:return Rt(X,qe,ie)[O.getDay()];case fn.DayPeriods:const Xt=O.getHours(),qn=O.getMinutes();if($t){const Cr=function Vr(O){const X=(0,c.cg1)(O);return Mr(X),(X[c.wAp.ExtraData][2]||[]).map(ie=>"string"==typeof ie?Ur(ie):[Ur(ie[0]),Ur(ie[1])])}(X),$r=function Dn(O,X,B){const ie=(0,c.cg1)(O);Mr(ie);const $t=Wt([ie[c.wAp.ExtraData][0],ie[c.wAp.ExtraData][1]],X)||[];return Wt($t,B)||[]}(X,qe,ie),kr=Cr.findIndex(Xi=>{if(Array.isArray(Xi)){const[Qt,jr]=Xi,Fs=Xt>=Qt.hours&&qn>=Qt.minutes,go=Xt<jr.hours||Xt===jr.hours&&qn<jr.minutes;if(Qt.hours<jr.hours){if(Fs&&go)return!0}else if(Fs||go)return!0}else if(Xi.hours===Xt&&Xi.minutes===qn)return!0;return!1});if(-1!==kr)return $r[kr]}return on(X,qe,ie)[Xt<12?0:1];case fn.Eras:return function ft(O,X){return Wt((0,c.cg1)(O)[c.wAp.Eras],X)}(X,ie)[O.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${B}`)}}(qe,$t,O,X,B,ie)}}function fr(O){return function(X,B,ie){const qe=-1*ie,$t=Kt(B,Me.MinusSign),Xt=qe>0?Math.floor(qe/60):Math.ceil(qe/60);switch(O){case xn.Short:return(qe>=0?"+":"")+xi(Xt,2,$t)+xi(Math.abs(qe%60),2,$t);case xn.ShortGMT:return"GMT"+(qe>=0?"+":"")+xi(Xt,1,$t);case xn.Long:return"GMT"+(qe>=0?"+":"")+xi(Xt,2,$t)+":"+xi(Math.abs(qe%60),2,$t);case xn.Extended:return 0===ie?"Z":(qe>=0?"+":"")+xi(Xt,2,$t)+":"+xi(Math.abs(qe%60),2,$t);default:throw new Error(`Unknown zone width "${O}"`)}}}function Fe(O){return _r(O.getFullYear(),O.getMonth(),O.getDate()+(4-O.getDay()))}function Ke(O,X=!1){return function(B,ie){let qe;if(X){const $t=new Date(B.getFullYear(),B.getMonth(),1).getDay()-1,Xt=B.getDate();qe=1+Math.floor((Xt+$t)/7)}else{const $t=Fe(B),Xt=function gt(O){const X=_r(O,0,1).getDay();return _r(O,0,1+(X<=4?4:11)-X)}($t.getFullYear()),qn=$t.getTime()-Xt.getTime();qe=1+Math.round(qn/6048e5)}return xi(qe,O,Kt(ie,Me.MinusSign))}}function xt(O,X=!1){return function(B,ie){return xi(Fe(B).getFullYear(),O,Kt(ie,Me.MinusSign),X)}}const ge={};function ze(O,X){O=O.replace(/:/g,"");const B=Date.parse("Jan 01, 1970 00:00:00 "+O)/6e4;return isNaN(B)?X:B}function Ht(O){return O instanceof Date&&!isNaN(O.valueOf())}const Tr=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function ps(O){const X=parseInt(O);if(isNaN(X))throw new Error("Invalid integer literal when parsing "+O);return X}function Jr(O,X){X=encodeURIComponent(X);for(const B of O.split(";")){const ie=B.indexOf("="),[qe,$t]=-1==ie?[B,""]:[B.slice(0,ie),B.slice(ie+1)];if(qe.trim()===X)return decodeURIComponent($t)}return null}let gs=(()=>{class O{constructor(B,ie,qe,$t){this._iterableDiffers=B,this._keyValueDiffers=ie,this._ngEl=qe,this._renderer=$t,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(B){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof B?B.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(B){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof B?B.split(/\s+/):B,this._rawClass&&((0,c.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const B=this._iterableDiffer.diff(this._rawClass);B&&this._applyIterableChanges(B)}else if(this._keyValueDiffer){const B=this._keyValueDiffer.diff(this._rawClass);B&&this._applyKeyValueChanges(B)}}_applyKeyValueChanges(B){B.forEachAddedItem(ie=>this._toggleClass(ie.key,ie.currentValue)),B.forEachChangedItem(ie=>this._toggleClass(ie.key,ie.currentValue)),B.forEachRemovedItem(ie=>{ie.previousValue&&this._toggleClass(ie.key,!1)})}_applyIterableChanges(B){B.forEachAddedItem(ie=>{if("string"!=typeof ie.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,c.AaK)(ie.item)}`);this._toggleClass(ie.item,!0)}),B.forEachRemovedItem(ie=>this._toggleClass(ie.item,!1))}_applyClasses(B){B&&(Array.isArray(B)||B instanceof Set?B.forEach(ie=>this._toggleClass(ie,!0)):Object.keys(B).forEach(ie=>this._toggleClass(ie,!!B[ie])))}_removeClasses(B){B&&(Array.isArray(B)||B instanceof Set?B.forEach(ie=>this._toggleClass(ie,!1)):Object.keys(B).forEach(ie=>this._toggleClass(ie,!1)))}_toggleClass(B,ie){(B=B.trim())&&B.split(/\s+/g).forEach(qe=>{ie?this._renderer.addClass(this._ngEl.nativeElement,qe):this._renderer.removeClass(this._ngEl.nativeElement,qe)})}}return O.\u0275fac=function(B){return new(B||O)(c.Y36(c.ZZ4),c.Y36(c.aQg),c.Y36(c.SBq),c.Y36(c.Qsj))},O.\u0275dir=c.lG2({type:O,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),O})();class Li{constructor(X,B,ie,qe){this.$implicit=X,this.ngForOf=B,this.index=ie,this.count=qe}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let mi=(()=>{class O{constructor(B,ie,qe){this._viewContainer=B,this._template=ie,this._differs=qe,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(B){this._ngForOf=B,this._ngForOfDirty=!0}set ngForTrackBy(B){this._trackByFn=B}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(B){B&&(this._template=B)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const B=this._ngForOf;!this._differ&&B&&(this._differ=this._differs.find(B).create(this.ngForTrackBy))}if(this._differ){const B=this._differ.diff(this._ngForOf);B&&this._applyChanges(B)}}_applyChanges(B){const ie=this._viewContainer;B.forEachOperation((qe,$t,Xt)=>{if(null==qe.previousIndex)ie.createEmbeddedView(this._template,new Li(qe.item,this._ngForOf,-1,-1),null===Xt?void 0:Xt);else if(null==Xt)ie.remove(null===$t?void 0:$t);else if(null!==$t){const qn=ie.get($t);ie.move(qn,Xt),ni(qn,qe)}});for(let qe=0,$t=ie.length;qe<$t;qe++){const qn=ie.get(qe).context;qn.index=qe,qn.count=$t,qn.ngForOf=this._ngForOf}B.forEachIdentityChange(qe=>{ni(ie.get(qe.currentIndex),qe)})}static ngTemplateContextGuard(B,ie){return!0}}return O.\u0275fac=function(B){return new(B||O)(c.Y36(c.s_b),c.Y36(c.Rgc),c.Y36(c.ZZ4))},O.\u0275dir=c.lG2({type:O,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),O})();function ni(O,X){O.context.$implicit=X.item}let Ie=(()=>{class O{constructor(B,ie){this._viewContainer=B,this._context=new at,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=ie}set ngIf(B){this._context.$implicit=this._context.ngIf=B,this._updateView()}set ngIfThen(B){mt("ngIfThen",B),this._thenTemplateRef=B,this._thenViewRef=null,this._updateView()}set ngIfElse(B){mt("ngIfElse",B),this._elseTemplateRef=B,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(B,ie){return!0}}return O.\u0275fac=function(B){return new(B||O)(c.Y36(c.s_b),c.Y36(c.Rgc))},O.\u0275dir=c.lG2({type:O,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),O})();class at{constructor(){this.$implicit=null,this.ngIf=null}}function mt(O,X){if(X&&!X.createEmbeddedView)throw new Error(`${O} must be a TemplateRef, but received '${(0,c.AaK)(X)}'.`)}let Vn=(()=>{class O{constructor(B,ie,qe){this._ngEl=B,this._differs=ie,this._renderer=qe,this._ngStyle=null,this._differ=null}set ngStyle(B){this._ngStyle=B,!this._differ&&B&&(this._differ=this._differs.find(B).create())}ngDoCheck(){if(this._differ){const B=this._differ.diff(this._ngStyle);B&&this._applyChanges(B)}}_setStyle(B,ie){const[qe,$t]=B.split("."),Xt=-1===qe.indexOf("-")?void 0:c.JOm.DashCase;null!=ie?this._renderer.setStyle(this._ngEl.nativeElement,qe,$t?`${ie}${$t}`:ie,Xt):this._renderer.removeStyle(this._ngEl.nativeElement,qe,Xt)}_applyChanges(B){B.forEachRemovedItem(ie=>this._setStyle(ie.key,null)),B.forEachAddedItem(ie=>this._setStyle(ie.key,ie.currentValue)),B.forEachChangedItem(ie=>this._setStyle(ie.key,ie.currentValue))}}return O.\u0275fac=function(B){return new(B||O)(c.Y36(c.SBq),c.Y36(c.aQg),c.Y36(c.Qsj))},O.\u0275dir=c.lG2({type:O,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0}),O})(),kn=(()=>{class O{constructor(B){this._viewContainerRef=B,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(B){if(B.ngTemplateOutlet||B.ngTemplateOutletInjector){const ie=this._viewContainerRef;if(this._viewRef&&ie.remove(ie.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:qe,ngTemplateOutletContext:$t,ngTemplateOutletInjector:Xt}=this;this._viewRef=ie.createEmbeddedView(qe,$t,Xt?{injector:Xt}:void 0)}else this._viewRef=null}else this._viewRef&&B.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return O.\u0275fac=function(B){return new(B||O)(c.Y36(c.s_b))},O.\u0275dir=c.lG2({type:O,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[c.TTD]}),O})();function Hr(O,X){return new c.vHH(2100,!1)}const Xn=/(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])\S*/g;let Or=(()=>{class O{transform(B){if(null==B)return null;if("string"!=typeof B)throw Hr();return B.replace(Xn,ie=>ie[0].toUpperCase()+ie.slice(1).toLowerCase())}}return O.\u0275fac=function(B){return new(B||O)},O.\u0275pipe=c.Yjl({name:"titlecase",type:O,pure:!0,standalone:!0}),O})(),Xs=(()=>{class O{constructor(B){this._locale=B}transform(B,ie,qe){if(!function ms(O){return!(null==O||""===O||O!=O)}(B))return null;qe=qe||this._locale;try{return function wi(O,X,B){return function Yr(O,X,B,ie,qe,$t,Xt=!1){let qn="",pr=!1;if(isFinite(O)){let Cr=function ss(O){let ie,qe,$t,Xt,qn,X=Math.abs(O)+"",B=0;for((qe=X.indexOf("."))>-1&&(X=X.replace(".","")),($t=X.search(/e/i))>0?(qe<0&&(qe=$t),qe+=+X.slice($t+1),X=X.substring(0,$t)):qe<0&&(qe=X.length),$t=0;"0"===X.charAt($t);$t++);if($t===(qn=X.length))ie=[0],qe=1;else{for(qn--;"0"===X.charAt(qn);)qn--;for(qe-=$t,ie=[],Xt=0;$t<=qn;$t++,Xt++)ie[Xt]=Number(X.charAt($t))}return qe>22&&(ie=ie.splice(0,21),B=qe-1,qe=1),{digits:ie,exponent:B,integerLen:qe}}(O);Xt&&(Cr=function Ps(O){if(0===O.digits[0])return O;const X=O.digits.length-O.integerLen;return O.exponent?O.exponent+=2:(0===X?O.digits.push(0,0):1===X&&O.digits.push(0),O.integerLen+=2),O}(Cr));let $r=X.minInt,kr=X.minFrac,Xi=X.maxFrac;if($t){const jn=$t.match(Tr);if(null===jn)throw new Error(`${$t} is not a valid digit info`);const oa=jn[1],bn=jn[3],Gt=jn[5];null!=oa&&($r=ps(oa)),null!=bn&&(kr=ps(bn)),null!=Gt?Xi=ps(Gt):null!=bn&&kr>Xi&&(Xi=kr)}!function ti(O,X,B){if(X>B)throw new Error(`The minimum number of digits after fraction (${X}) is higher than the maximum (${B}).`);let ie=O.digits,qe=ie.length-O.integerLen;const $t=Math.min(Math.max(X,qe),B);let Xt=$t+O.integerLen,qn=ie[Xt];if(Xt>0){ie.splice(Math.max(O.integerLen,Xt));for(let kr=Xt;kr<ie.length;kr++)ie[kr]=0}else{qe=Math.max(0,qe),O.integerLen=1,ie.length=Math.max(1,Xt=$t+1),ie[0]=0;for(let kr=1;kr<Xt;kr++)ie[kr]=0}if(qn>=5)if(Xt-1<0){for(let kr=0;kr>Xt;kr--)ie.unshift(0),O.integerLen++;ie.unshift(1),O.integerLen++}else ie[Xt-1]++;for(;qe<Math.max(0,$t);qe++)ie.push(0);let pr=0!==$t;const Cr=X+O.integerLen,$r=ie.reduceRight(function(kr,Xi,Qt,jr){return jr[Qt]=(Xi+=kr)<10?Xi:Xi-10,pr&&(0===jr[Qt]&&Qt>=Cr?jr.pop():pr=!1),Xi>=10?1:0},0);$r&&(ie.unshift($r),O.integerLen++)}(Cr,kr,Xi);let Qt=Cr.digits,jr=Cr.integerLen;const Fs=Cr.exponent;let go=[];for(pr=Qt.every(jn=>!jn);jr<$r;jr++)Qt.unshift(0);for(;jr<0;jr++)Qt.unshift(0);jr>0?go=Qt.splice(jr,Qt.length):(go=Qt,Qt=[0]);const mn=[];for(Qt.length>=X.lgSize&&mn.unshift(Qt.splice(-X.lgSize,Qt.length).join(""));Qt.length>X.gSize;)mn.unshift(Qt.splice(-X.gSize,Qt.length).join(""));Qt.length&&mn.unshift(Qt.join("")),qn=mn.join(Kt(B,ie)),go.length&&(qn+=Kt(B,qe)+go.join("")),Fs&&(qn+=Kt(B,Me.Exponential)+"+"+Fs)}else qn=Kt(B,Me.Infinity);return qn=O<0&&!pr?X.negPre+qn+X.negSuf:X.posPre+qn+X.posSuf,qn}(O,function xr(O,X="-"){const B={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},ie=O.split(";"),qe=ie[0],$t=ie[1],Xt=-1!==qe.indexOf(".")?qe.split("."):[qe.substring(0,qe.lastIndexOf("0")+1),qe.substring(qe.lastIndexOf("0")+1)],qn=Xt[0],pr=Xt[1]||"";B.posPre=qn.substring(0,qn.indexOf("#"));for(let $r=0;$r<pr.length;$r++){const kr=pr.charAt($r);"0"===kr?B.minFrac=B.maxFrac=$r+1:"#"===kr?B.maxFrac=$r+1:B.posSuf+=kr}const Cr=qn.split(",");if(B.gSize=Cr[1]?Cr[1].length:0,B.lgSize=Cr[2]||Cr[1]?(Cr[2]||Cr[1]).length:0,$t){const $r=qe.length-B.posPre.length-B.posSuf.length,kr=$t.indexOf("#");B.negPre=$t.substring(0,kr).replace(/'/g,""),B.negSuf=$t.slice(kr+$r).replace(/'/g,"")}else B.negPre=X+B.posPre,B.negSuf=B.posSuf;return B}(function en(O,X){return(0,c.cg1)(O)[c.wAp.NumberFormats][X]}(X,te.Percent),Kt(X,Me.MinusSign)),X,Me.Group,Me.Decimal,B,!0).replace(new RegExp("%","g"),Kt(X,Me.PercentSign))}(function uo(O){if("string"==typeof O&&!isNaN(Number(O)-parseFloat(O)))return Number(O);if("number"!=typeof O)throw new Error(`${O} is not a number`);return O}(B),qe,ie)}catch($t){throw Hr()}}}return O.\u0275fac=function(B){return new(B||O)(c.Y36(c.soG,16))},O.\u0275pipe=c.Yjl({name:"percent",type:O,pure:!0,standalone:!0}),O})();let xs=(()=>{class O{}return O.\u0275fac=function(B){return new(B||O)},O.\u0275mod=c.oAB({type:O}),O.\u0275inj=c.cJS({}),O})();const na="browser";function Ki(O){return O===na}function co(O){return"server"===O}let Us=(()=>{class O{}return O.\u0275prov=(0,c.Yz7)({token:O,providedIn:"root",factory:()=>new Ct((0,c.LFG)(ke),window)}),O})();class Ct{constructor(X,B){this.document=X,this.window=B,this.offset=()=>[0,0]}setOffset(X){this.offset=Array.isArray(X)?()=>X:X}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(X){this.supportsScrolling()&&this.window.scrollTo(X[0],X[1])}scrollToAnchor(X){if(!this.supportsScrolling())return;const B=function ga(O,X){const B=O.getElementById(X)||O.getElementsByName(X)[0];if(B)return B;if("function"==typeof O.createTreeWalker&&O.body&&(O.body.createShadowRoot||O.body.attachShadow)){const ie=O.createTreeWalker(O.body,NodeFilter.SHOW_ELEMENT);let qe=ie.currentNode;for(;qe;){const $t=qe.shadowRoot;if($t){const Xt=$t.getElementById(X)||$t.querySelector(`[name="${X}"]`);if(Xt)return Xt}qe=ie.nextNode()}}return null}(this.document,X);B&&(this.scrollToElement(B),B.focus())}setHistoryScrollRestoration(X){if(this.supportScrollRestoration()){const B=this.window.history;B&&B.scrollRestoration&&(B.scrollRestoration=X)}}scrollToElement(X){const B=X.getBoundingClientRect(),ie=B.left+this.window.pageXOffset,qe=B.top+this.window.pageYOffset,$t=this.offset();this.window.scrollTo(ie-$t[0],qe-$t[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const X=Ue(this.window.history)||Ue(Object.getPrototypeOf(this.window.history));return!(!X||!X.writable&&!X.set)}catch(X){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(X){return!1}}}function Ue(O){return Object.getOwnPropertyDescriptor(O,"scrollRestoration")}class Qs{}},529:(Jt,it,V)=>{"use strict";V.d(it,{JF:()=>fr,TP:()=>ft,eN:()=>Bt});var c=V(6895),J=V(4650),G=V(9646),Ae=V(9751),_e=V(4351),ke=V(9300),ve=V(4004);class Pe{}class Ne{}class we{constructor(Fe){this.normalizedNames=new Map,this.lazyUpdate=null,Fe?this.lazyInit="string"==typeof Fe?()=>{this.headers=new Map,Fe.split("\n").forEach(Ke=>{const xt=Ke.indexOf(":");if(xt>0){const ge=Ke.slice(0,xt),De=ge.toLowerCase(),ze=Ke.slice(xt+1).trim();this.maybeSetNormalizedName(ge,De),this.headers.has(De)?this.headers.get(De).push(ze):this.headers.set(De,[ze])}})}:()=>{this.headers=new Map,Object.keys(Fe).forEach(Ke=>{let xt=Fe[Ke];const ge=Ke.toLowerCase();"string"==typeof xt&&(xt=[xt]),xt.length>0&&(this.headers.set(ge,xt),this.maybeSetNormalizedName(Ke,ge))})}:this.headers=new Map}has(Fe){return this.init(),this.headers.has(Fe.toLowerCase())}get(Fe){this.init();const Ke=this.headers.get(Fe.toLowerCase());return Ke&&Ke.length>0?Ke[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(Fe){return this.init(),this.headers.get(Fe.toLowerCase())||null}append(Fe,Ke){return this.clone({name:Fe,value:Ke,op:"a"})}set(Fe,Ke){return this.clone({name:Fe,value:Ke,op:"s"})}delete(Fe,Ke){return this.clone({name:Fe,value:Ke,op:"d"})}maybeSetNormalizedName(Fe,Ke){this.normalizedNames.has(Ke)||this.normalizedNames.set(Ke,Fe)}init(){this.lazyInit&&(this.lazyInit instanceof we?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(Fe=>this.applyUpdate(Fe)),this.lazyUpdate=null))}copyFrom(Fe){Fe.init(),Array.from(Fe.headers.keys()).forEach(Ke=>{this.headers.set(Ke,Fe.headers.get(Ke)),this.normalizedNames.set(Ke,Fe.normalizedNames.get(Ke))})}clone(Fe){const Ke=new we;return Ke.lazyInit=this.lazyInit&&this.lazyInit instanceof we?this.lazyInit:this,Ke.lazyUpdate=(this.lazyUpdate||[]).concat([Fe]),Ke}applyUpdate(Fe){const Ke=Fe.name.toLowerCase();switch(Fe.op){case"a":case"s":let xt=Fe.value;if("string"==typeof xt&&(xt=[xt]),0===xt.length)return;this.maybeSetNormalizedName(Fe.name,Ke);const ge=("a"===Fe.op?this.headers.get(Ke):void 0)||[];ge.push(...xt),this.headers.set(Ke,ge);break;case"d":const De=Fe.value;if(De){let ze=this.headers.get(Ke);if(!ze)return;ze=ze.filter(At=>-1===De.indexOf(At)),0===ze.length?(this.headers.delete(Ke),this.normalizedNames.delete(Ke)):this.headers.set(Ke,ze)}else this.headers.delete(Ke),this.normalizedNames.delete(Ke)}}forEach(Fe){this.init(),Array.from(this.normalizedNames.keys()).forEach(Ke=>Fe(this.normalizedNames.get(Ke),this.headers.get(Ke)))}}class me{encodeKey(Fe){return Et(Fe)}encodeValue(Fe){return Et(Fe)}decodeKey(Fe){return decodeURIComponent(Fe)}decodeValue(Fe){return decodeURIComponent(Fe)}}const We=/%(\d[a-f0-9])/gi,je={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Et(gt){return encodeURIComponent(gt).replace(We,(Fe,Ke)=>{var xt;return null!==(xt=je[Ke])&&void 0!==xt?xt:Fe})}function Se(gt){return`${gt}`}class Ce{constructor(Fe={}){if(this.updates=null,this.cloneFrom=null,this.encoder=Fe.encoder||new me,Fe.fromString){if(Fe.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function Re(gt,Fe){const Ke=new Map;return gt.length>0&&gt.replace(/^\?/,"").split("&").forEach(ge=>{const De=ge.indexOf("="),[ze,At]=-1==De?[Fe.decodeKey(ge),""]:[Fe.decodeKey(ge.slice(0,De)),Fe.decodeValue(ge.slice(De+1))],ct=Ke.get(ze)||[];ct.push(At),Ke.set(ze,ct)}),Ke}(Fe.fromString,this.encoder)}else Fe.fromObject?(this.map=new Map,Object.keys(Fe.fromObject).forEach(Ke=>{const xt=Fe.fromObject[Ke],ge=Array.isArray(xt)?xt.map(Se):[Se(xt)];this.map.set(Ke,ge)})):this.map=null}has(Fe){return this.init(),this.map.has(Fe)}get(Fe){this.init();const Ke=this.map.get(Fe);return Ke?Ke[0]:null}getAll(Fe){return this.init(),this.map.get(Fe)||null}keys(){return this.init(),Array.from(this.map.keys())}append(Fe,Ke){return this.clone({param:Fe,value:Ke,op:"a"})}appendAll(Fe){const Ke=[];return Object.keys(Fe).forEach(xt=>{const ge=Fe[xt];Array.isArray(ge)?ge.forEach(De=>{Ke.push({param:xt,value:De,op:"a"})}):Ke.push({param:xt,value:ge,op:"a"})}),this.clone(Ke)}set(Fe,Ke){return this.clone({param:Fe,value:Ke,op:"s"})}delete(Fe,Ke){return this.clone({param:Fe,value:Ke,op:"d"})}toString(){return this.init(),this.keys().map(Fe=>{const Ke=this.encoder.encodeKey(Fe);return this.map.get(Fe).map(xt=>Ke+"="+this.encoder.encodeValue(xt)).join("&")}).filter(Fe=>""!==Fe).join("&")}clone(Fe){const Ke=new Ce({encoder:this.encoder});return Ke.cloneFrom=this.cloneFrom||this,Ke.updates=(this.updates||[]).concat(Fe),Ke}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(Fe=>this.map.set(Fe,this.cloneFrom.map.get(Fe))),this.updates.forEach(Fe=>{switch(Fe.op){case"a":case"s":const Ke=("a"===Fe.op?this.map.get(Fe.param):void 0)||[];Ke.push(Se(Fe.value)),this.map.set(Fe.param,Ke);break;case"d":if(void 0===Fe.value){this.map.delete(Fe.param);break}{let xt=this.map.get(Fe.param)||[];const ge=xt.indexOf(Se(Fe.value));-1!==ge&&xt.splice(ge,1),xt.length>0?this.map.set(Fe.param,xt):this.map.delete(Fe.param)}}}),this.cloneFrom=this.updates=null)}}class He{constructor(){this.map=new Map}set(Fe,Ke){return this.map.set(Fe,Ke),this}get(Fe){return this.map.has(Fe)||this.map.set(Fe,Fe.defaultValue()),this.map.get(Fe)}delete(Fe){return this.map.delete(Fe),this}has(Fe){return this.map.has(Fe)}keys(){return this.map.keys()}}function Je(gt){return typeof ArrayBuffer<"u"&&gt instanceof ArrayBuffer}function Qe(gt){return typeof Blob<"u"&&gt instanceof Blob}function Ve(gt){return typeof FormData<"u"&&gt instanceof FormData}class te{constructor(Fe,Ke,xt,ge){let De;if(this.url=Ke,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=Fe.toUpperCase(),function Be(gt){switch(gt){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||ge?(this.body=void 0!==xt?xt:null,De=ge):De=xt,De&&(this.reportProgress=!!De.reportProgress,this.withCredentials=!!De.withCredentials,De.responseType&&(this.responseType=De.responseType),De.headers&&(this.headers=De.headers),De.context&&(this.context=De.context),De.params&&(this.params=De.params)),this.headers||(this.headers=new we),this.context||(this.context=new He),this.params){const ze=this.params.toString();if(0===ze.length)this.urlWithParams=Ke;else{const At=Ke.indexOf("?");this.urlWithParams=Ke+(-1===At?"?":At<Ke.length-1?"&":"")+ze}}else this.params=new Ce,this.urlWithParams=Ke}serializeBody(){return null===this.body?null:Je(this.body)||Qe(this.body)||Ve(this.body)||function Ge(gt){return typeof URLSearchParams<"u"&&gt instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Ce?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||Ve(this.body)?null:Qe(this.body)?this.body.type||null:Je(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Ce?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(Fe={}){var Ke;const xt=Fe.method||this.method,ge=Fe.url||this.url,De=Fe.responseType||this.responseType,ze=void 0!==Fe.body?Fe.body:this.body,At=void 0!==Fe.withCredentials?Fe.withCredentials:this.withCredentials,ct=void 0!==Fe.reportProgress?Fe.reportProgress:this.reportProgress;let ln=Fe.headers||this.headers,$n=Fe.params||this.params;const Ht=null!==(Ke=Fe.context)&&void 0!==Ke?Ke:this.context;return void 0!==Fe.setHeaders&&(ln=Object.keys(Fe.setHeaders).reduce((Tr,pn)=>Tr.set(pn,Fe.setHeaders[pn]),ln)),Fe.setParams&&($n=Object.keys(Fe.setParams).reduce((Tr,pn)=>Tr.set(pn,Fe.setParams[pn]),$n)),new te(xt,ge,ze,{params:$n,headers:ln,context:Ht,reportProgress:ct,responseType:De,withCredentials:At})}}var Ze=(()=>((Ze=Ze||{})[Ze.Sent=0]="Sent",Ze[Ze.UploadProgress=1]="UploadProgress",Ze[Ze.ResponseHeader=2]="ResponseHeader",Ze[Ze.DownloadProgress=3]="DownloadProgress",Ze[Ze.Response=4]="Response",Ze[Ze.User=5]="User",Ze))();class le{constructor(Fe,Ke=200,xt="OK"){this.headers=Fe.headers||new we,this.status=void 0!==Fe.status?Fe.status:Ke,this.statusText=Fe.statusText||xt,this.url=Fe.url||null,this.ok=this.status>=200&&this.status<300}}class ye extends le{constructor(Fe={}){super(Fe),this.type=Ze.ResponseHeader}clone(Fe={}){return new ye({headers:Fe.headers||this.headers,status:void 0!==Fe.status?Fe.status:this.status,statusText:Fe.statusText||this.statusText,url:Fe.url||this.url||void 0})}}class xe extends le{constructor(Fe={}){super(Fe),this.type=Ze.Response,this.body=void 0!==Fe.body?Fe.body:null}clone(Fe={}){return new xe({body:void 0!==Fe.body?Fe.body:this.body,headers:Fe.headers||this.headers,status:void 0!==Fe.status?Fe.status:this.status,statusText:Fe.statusText||this.statusText,url:Fe.url||this.url||void 0})}}class Me extends le{constructor(Fe){super(Fe,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${Fe.url||"(unknown url)"}`:`Http failure response for ${Fe.url||"(unknown url)"}: ${Fe.status} ${Fe.statusText}`,this.error=Fe.error||null}}function Xe(gt,Fe){return{body:Fe,headers:gt.headers,context:gt.context,observe:gt.observe,params:gt.params,reportProgress:gt.reportProgress,responseType:gt.responseType,withCredentials:gt.withCredentials}}let Bt=(()=>{class gt{constructor(Ke){this.handler=Ke}request(Ke,xt,ge={}){let De;if(Ke instanceof te)De=Ke;else{let ct,ln;ct=ge.headers instanceof we?ge.headers:new we(ge.headers),ge.params&&(ln=ge.params instanceof Ce?ge.params:new Ce({fromObject:ge.params})),De=new te(Ke,xt,void 0!==ge.body?ge.body:null,{headers:ct,context:ge.context,params:ln,reportProgress:ge.reportProgress,responseType:ge.responseType||"json",withCredentials:ge.withCredentials})}const ze=(0,G.of)(De).pipe((0,_e.b)(ct=>this.handler.handle(ct)));if(Ke instanceof te||"events"===ge.observe)return ze;const At=ze.pipe((0,ke.h)(ct=>ct instanceof xe));switch(ge.observe||"body"){case"body":switch(De.responseType){case"arraybuffer":return At.pipe((0,ve.U)(ct=>{if(null!==ct.body&&!(ct.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return ct.body}));case"blob":return At.pipe((0,ve.U)(ct=>{if(null!==ct.body&&!(ct.body instanceof Blob))throw new Error("Response is not a Blob.");return ct.body}));case"text":return At.pipe((0,ve.U)(ct=>{if(null!==ct.body&&"string"!=typeof ct.body)throw new Error("Response is not a string.");return ct.body}));default:return At.pipe((0,ve.U)(ct=>ct.body))}case"response":return At;default:throw new Error(`Unreachable: unhandled observe type ${ge.observe}}`)}}delete(Ke,xt={}){return this.request("DELETE",Ke,xt)}get(Ke,xt={}){return this.request("GET",Ke,xt)}head(Ke,xt={}){return this.request("HEAD",Ke,xt)}jsonp(Ke,xt){return this.request("JSONP",Ke,{params:(new Ce).append(xt,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(Ke,xt={}){return this.request("OPTIONS",Ke,xt)}patch(Ke,xt,ge={}){return this.request("PATCH",Ke,Xe(ge,xt))}post(Ke,xt,ge={}){return this.request("POST",Ke,Xe(ge,xt))}put(Ke,xt,ge={}){return this.request("PUT",Ke,Xe(ge,xt))}}return gt.\u0275fac=function(Ke){return new(Ke||gt)(J.LFG(Pe))},gt.\u0275prov=J.Yz7({token:gt,factory:gt.\u0275fac}),gt})();function on(gt,Fe){return Fe(gt)}function Rt(gt,Fe){return(Ke,xt)=>Fe.intercept(Ke,{handle:ge=>gt(ge,xt)})}const ft=new J.OlP("HTTP_INTERCEPTORS"),Ot=new J.OlP("HTTP_INTERCEPTOR_FNS");function pt(){let gt=null;return(Fe,Ke)=>{var xt;return null===gt&&(gt=(null!==(xt=(0,J.f3M)(ft,{optional:!0}))&&void 0!==xt?xt:[]).reduceRight(Rt,on)),gt(Fe,Ke)}}let wt=(()=>{class gt extends Pe{constructor(Ke,xt){super(),this.backend=Ke,this.injector=xt,this.chain=null}handle(Ke){if(null===this.chain){const xt=Array.from(new Set(this.injector.get(Ot)));this.chain=xt.reduceRight((ge,De)=>function bt(gt,Fe,Ke){return(xt,ge)=>Ke.runInContext(()=>Fe(xt,De=>gt(De,ge)))}(ge,De,this.injector),on)}return this.chain(Ke,xt=>this.backend.handle(xt))}}return gt.\u0275fac=function(Ke){return new(Ke||gt)(J.LFG(Ne),J.LFG(J.lqb))},gt.\u0275prov=J.Yz7({token:gt,factory:gt.\u0275fac}),gt})();const Dn=/^\)\]\}',?\n/;let Wt=(()=>{class gt{constructor(Ke){this.xhrFactory=Ke}handle(Ke){if("JSONP"===Ke.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new Ae.y(xt=>{const ge=this.xhrFactory.build();if(ge.open(Ke.method,Ke.urlWithParams),Ke.withCredentials&&(ge.withCredentials=!0),Ke.headers.forEach((pn,tt)=>ge.setRequestHeader(pn,tt.join(","))),Ke.headers.has("Accept")||ge.setRequestHeader("Accept","application/json, text/plain, */*"),!Ke.headers.has("Content-Type")){const pn=Ke.detectContentTypeHeader();null!==pn&&ge.setRequestHeader("Content-Type",pn)}if(Ke.responseType){const pn=Ke.responseType.toLowerCase();ge.responseType="json"!==pn?pn:"text"}const De=Ke.serializeBody();let ze=null;const At=()=>{if(null!==ze)return ze;const pn=ge.statusText||"OK",tt=new we(ge.getAllResponseHeaders()),Oe=function ai(gt){return"responseURL"in gt&&gt.responseURL?gt.responseURL:/^X-Request-URL:/m.test(gt.getAllResponseHeaders())?gt.getResponseHeader("X-Request-URL"):null}(ge)||Ke.url;return ze=new ye({headers:tt,status:ge.status,statusText:pn,url:Oe}),ze},ct=()=>{let{headers:pn,status:tt,statusText:Oe,url:Te}=At(),ht=null;204!==tt&&(ht=typeof ge.response>"u"?ge.responseText:ge.response),0===tt&&(tt=ht?200:0);let vt=tt>=200&&tt<300;if("json"===Ke.responseType&&"string"==typeof ht){const Tn=ht;ht=ht.replace(Dn,"");try{ht=""!==ht?JSON.parse(ht):null}catch(nr){ht=Tn,vt&&(vt=!1,ht={error:nr,text:ht})}}vt?(xt.next(new xe({body:ht,headers:pn,status:tt,statusText:Oe,url:Te||void 0})),xt.complete()):xt.error(new Me({error:ht,headers:pn,status:tt,statusText:Oe,url:Te||void 0}))},ln=pn=>{const{url:tt}=At(),Oe=new Me({error:pn,status:ge.status||0,statusText:ge.statusText||"Unknown Error",url:tt||void 0});xt.error(Oe)};let $n=!1;const Ht=pn=>{$n||(xt.next(At()),$n=!0);let tt={type:Ze.DownloadProgress,loaded:pn.loaded};pn.lengthComputable&&(tt.total=pn.total),"text"===Ke.responseType&&!!ge.responseText&&(tt.partialText=ge.responseText),xt.next(tt)},Tr=pn=>{let tt={type:Ze.UploadProgress,loaded:pn.loaded};pn.lengthComputable&&(tt.total=pn.total),xt.next(tt)};return ge.addEventListener("load",ct),ge.addEventListener("error",ln),ge.addEventListener("timeout",ln),ge.addEventListener("abort",ln),Ke.reportProgress&&(ge.addEventListener("progress",Ht),null!==De&&ge.upload&&ge.upload.addEventListener("progress",Tr)),ge.send(De),xt.next({type:Ze.Sent}),()=>{ge.removeEventListener("error",ln),ge.removeEventListener("abort",ln),ge.removeEventListener("load",ct),ge.removeEventListener("timeout",ln),Ke.reportProgress&&(ge.removeEventListener("progress",Ht),null!==De&&ge.upload&&ge.upload.removeEventListener("progress",Tr)),ge.readyState!==ge.DONE&&ge.abort()}})}}return gt.\u0275fac=function(Ke){return new(Ke||gt)(J.LFG(c.JF))},gt.\u0275prov=J.Yz7({token:gt,factory:gt.\u0275fac}),gt})();const Ur=new J.OlP("XSRF_ENABLED"),hn="XSRF-TOKEN",ui=new J.OlP("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>hn}),gr="X-XSRF-TOKEN",vr=new J.OlP("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>gr});class Si{}let Oi=(()=>{class gt{constructor(Ke,xt,ge){this.doc=Ke,this.platform=xt,this.cookieName=ge,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const Ke=this.doc.cookie||"";return Ke!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,c.Mx)(Ke,this.cookieName),this.lastCookieString=Ke),this.lastToken}}return gt.\u0275fac=function(Ke){return new(Ke||gt)(J.LFG(c.K0),J.LFG(J.Lbi),J.LFG(ui))},gt.\u0275prov=J.Yz7({token:gt,factory:gt.\u0275fac}),gt})();function xn(gt,Fe){const Ke=gt.url.toLowerCase();if(!(0,J.f3M)(Ur)||"GET"===gt.method||"HEAD"===gt.method||Ke.startsWith("http://")||Ke.startsWith("https://"))return Fe(gt);const xt=(0,J.f3M)(Si).getToken(),ge=(0,J.f3M)(vr);return null!=xt&&!gt.headers.has(ge)&&(gt=gt.clone({headers:gt.headers.set(ge,xt)})),Fe(gt)}var fn=(()=>((fn=fn||{})[fn.Interceptors=0]="Interceptors",fn[fn.LegacyInterceptors=1]="LegacyInterceptors",fn[fn.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",fn[fn.NoXsrfProtection=3]="NoXsrfProtection",fn[fn.JsonpSupport=4]="JsonpSupport",fn[fn.RequestsMadeViaParent=5]="RequestsMadeViaParent",fn))();function zn(gt,Fe){return{\u0275kind:gt,\u0275providers:Fe}}function _r(...gt){const Fe=[Bt,Wt,wt,{provide:Pe,useExisting:wt},{provide:Ne,useExisting:Wt},{provide:Ot,useValue:xn,multi:!0},{provide:Ur,useValue:!0},{provide:Si,useClass:Oi}];for(const Ke of gt)Fe.push(...Ke.\u0275providers);return(0,J.MR2)(Fe)}const Nr=new J.OlP("LEGACY_INTERCEPTOR_FN");function ki({cookieName:gt,headerName:Fe}){const Ke=[];return void 0!==gt&&Ke.push({provide:ui,useValue:gt}),void 0!==Fe&&Ke.push({provide:vr,useValue:Fe}),zn(fn.CustomXsrfConfiguration,Ke)}let fr=(()=>{class gt{}return gt.\u0275fac=function(Ke){return new(Ke||gt)},gt.\u0275mod=J.oAB({type:gt}),gt.\u0275inj=J.cJS({providers:[_r(zn(fn.LegacyInterceptors,[{provide:Nr,useFactory:pt},{provide:Ot,useExisting:Nr,multi:!0}]),ki({cookieName:hn,headerName:gr}))]}),gt})()},4650:(Jt,it,V)=>{"use strict";V.d(it,{$8M:()=>Mu,$Z:()=>jm,AFp:()=>EE,ALo:()=>V0,AaK:()=>Pe,Akn:()=>tu,BQk:()=>eu,CHM:()=>F,CRH:()=>Z0,CZH:()=>R_,CqO:()=>Bp,D6c:()=>RI,DdM:()=>R0,EJc:()=>qw,EiD:()=>wm,EpF:()=>pv,F$t:()=>vv,F4k:()=>Lp,FYo:()=>np,FiY:()=>Nu,G48:()=>fI,Gf:()=>K0,GfV:()=>nf,GkF:()=>Fp,Gpc:()=>he,Hsn:()=>Vp,Ikx:()=>d,JOm:()=>Wo,JVY:()=>_t,JZr:()=>Et,Jzz:()=>Ry,KtG:()=>oe,L6k:()=>Yt,LAX:()=>Qn,LFG:()=>sn,LMc:()=>NI,Lbi:()=>jw,Lck:()=>w,MAs:()=>dc,MGl:()=>wf,MMx:()=>et,MR2:()=>Wf,MT6:()=>Xp,NdJ:()=>$p,OlP:()=>pi,Oqu:()=>od,P3R:()=>lh,PXZ:()=>aI,Q6J:()=>$i,QGY:()=>Oh,QP$:()=>ci,Qsj:()=>tf,QtT:()=>b_,R0b:()=>cd,RDi:()=>Ha,Rgc:()=>Zy,SBq:()=>jc,SDv:()=>Gy,Sil:()=>Kw,Suo:()=>Y0,TTD:()=>Ct,TgZ:()=>Nh,Tol:()=>Vl,Udp:()=>bv,VKq:()=>P0,W1O:()=>eE,WLB:()=>N0,X6Q:()=>hI,XFs:()=>hn,Xpm:()=>Yr,Xts:()=>Ad,Y36:()=>_h,YKP:()=>v,YNc:()=>Zg,Yjl:()=>ps,Yz7:()=>Kt,Z0I:()=>Wn,ZZ4:()=>S0,_Bn:()=>a,_UZ:()=>kp,_Vd:()=>Uc,_c5:()=>xI,_uU:()=>um,aQg:()=>T0,c2e:()=>Gw,cJS:()=>Nn,cg1:()=>z,dDg:()=>rI,dqk:()=>xn,eBb:()=>Pn,eFA:()=>NE,ekj:()=>Yd,eoX:()=>ME,f3M:()=>gt,g9A:()=>IE,h0i:()=>f,hGG:()=>MI,hij:()=>bf,iGM:()=>W0,ifc:()=>Ht,ip1:()=>_E,jDz:()=>tn,kEZ:()=>O0,kL8:()=>ae,kYT:()=>Ps,lG2:()=>ti,lcZ:()=>U0,lqb:()=>Zu,lri:()=>AE,mCW:()=>mu,n5z:()=>wc,oAB:()=>xr,oJD:()=>Sr,oxw:()=>rd,pB0:()=>Pr,pQV:()=>Bv,q3G:()=>yo,q4F:()=>yu,qLn:()=>Pd,qOj:()=>vf,qZA:()=>nd,qzn:()=>Z,rWj:()=>xE,s9C:()=>Ef,sBO:()=>pI,sIi:()=>xh,s_b:()=>A_,soG:()=>P_,tb:()=>CE,tp0:()=>q,uIk:()=>Kg,uOi:()=>Ku,vHH:()=>Se,vpe:()=>Kh,wAp:()=>Tt,xp6:()=>yg,ynx:()=>As,z2F:()=>N_,z3N:()=>A,zSh:()=>$c,zs3:()=>Wc});var c=V(7579),J=V(727),G=V(9751),Ae=V(6451),_e=V(3099);function ke(r){for(let i in r)if(r[i]===ke)return i;throw Error("Could not find renamed property on target object.")}function ve(r,i){for(const u in i)i.hasOwnProperty(u)&&!r.hasOwnProperty(u)&&(r[u]=i[u])}function Pe(r){if("string"==typeof r)return r;if(Array.isArray(r))return"["+r.map(Pe).join(", ")+"]";if(null==r)return""+r;if(r.overriddenName)return`${r.overriddenName}`;if(r.name)return`${r.name}`;const i=r.toString();if(null==i)return""+i;const u=i.indexOf("\n");return-1===u?i:i.substring(0,u)}function Ne(r,i){return null==r||""===r?null===i?"":i:null==i||""===i?r:r+" "+i}const we=ke({__forward_ref__:ke});function he(r){return r.__forward_ref__=he,r.toString=function(){return Pe(this())},r}function me(r){return Re(r)?r():r}function Re(r){return"function"==typeof r&&r.hasOwnProperty(we)&&r.__forward_ref__===he}function We(r){return r&&!!r.\u0275providers}const Et="https://g.co/ng/security#xss";class Se extends Error{constructor(i,u){super(function Ce(r,i){return`NG0${Math.abs(r)}${i?": "+i.trim():""}`}(i,u)),this.code=i}}function fe(r){return"string"==typeof r?r:null==r?"":String(r)}function Ve(r,i){throw new Se(-201,!1)}function pt(r,i,u,h){throw new Error(`ASSERTION ERROR: ${r}`+(null==h?"":` [Expected=> ${u} ${h} ${i} <=Actual]`))}function Kt(r){return{token:r.token,providedIn:r.providedIn||null,factory:r.factory,value:void 0}}function Nn(r){return{providers:r.providers||[],imports:r.imports||[]}}function sr(r){return or(r,Dn)||or(r,Wt)}function Wn(r){return null!==sr(r)}function or(r,i){return r.hasOwnProperty(i)?r[i]:null}function Vr(r){return r&&(r.hasOwnProperty(ai)||r.hasOwnProperty(Ur))?r[ai]:null}const Dn=ke({\u0275prov:ke}),ai=ke({\u0275inj:ke}),Wt=ke({ngInjectableDef:ke}),Ur=ke({ngInjectorDef:ke});var hn=(()=>((hn=hn||{})[hn.Default=0]="Default",hn[hn.Host=1]="Host",hn[hn.Self=2]="Self",hn[hn.SkipSelf=4]="SkipSelf",hn[hn.Optional=8]="Optional",hn))();let ui;function vr(r){const i=ui;return ui=r,i}function Si(r,i,u){const h=sr(r);return h&&"root"==h.providedIn?void 0===h.value?h.value=h.factory():h.value:u&hn.Optional?null:void 0!==i?i:void Ve(Pe(r))}const xn=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),_r={},wr="__NG_DI_FLAG__",Nr="ngTempTokenPath",ki=/\n/gm,is="__source";let ar;function li(r){const i=ar;return ar=r,i}function fr(r,i=hn.Default){if(void 0===ar)throw new Se(-203,!1);return null===ar?Si(r,void 0,i):ar.get(r,i&hn.Optional?null:void 0,i)}function sn(r,i=hn.Default){return(function gr(){return ui}()||fr)(me(r),i)}function gt(r,i=hn.Default){return sn(r,Fe(i))}function Fe(r){return typeof r>"u"||"number"==typeof r?r:0|(r.optional&&8)|(r.host&&1)|(r.self&&2)|(r.skipSelf&&4)}function Ke(r){const i=[];for(let u=0;u<r.length;u++){const h=me(r[u]);if(Array.isArray(h)){if(0===h.length)throw new Se(900,!1);let p,y=hn.Default;for(let S=0;S<h.length;S++){const P=h[S],$=ge(P);"number"==typeof $?-1===$?p=P.token:y|=$:p=P}i.push(sn(p,y))}else i.push(sn(h))}return i}function xt(r,i){return r[wr]=i,r.prototype[wr]=i,r}function ge(r){return r[wr]}function At(r){return{toString:r}.toString()}var ct=(()=>((ct=ct||{})[ct.OnPush=0]="OnPush",ct[ct.Default=1]="Default",ct))(),Ht=(()=>{return(r=Ht||(Ht={}))[r.Emulated=0]="Emulated",r[r.None=2]="None",r[r.ShadowDom=3]="ShadowDom",Ht;var r})();const Tr={},pn=[],tt=ke({\u0275cmp:ke}),Oe=ke({\u0275dir:ke}),Te=ke({\u0275pipe:ke}),ht=ke({\u0275mod:ke}),vt=ke({\u0275fac:ke}),Tn=ke({__NG_ELEMENT_ID__:ke});let nr=0;function Yr(r){return At(()=>{const u=!0===r.standalone,h={},p={type:r.type,providersResolver:null,decls:r.decls,vars:r.vars,factory:null,template:r.template||null,consts:r.consts||null,ngContentSelectors:r.ngContentSelectors,hostBindings:r.hostBindings||null,hostVars:r.hostVars||0,hostAttrs:r.hostAttrs||null,contentQueries:r.contentQueries||null,declaredInputs:h,inputs:null,outputs:null,exportAs:r.exportAs||null,onPush:r.changeDetection===ct.OnPush,directiveDefs:null,pipeDefs:null,standalone:u,dependencies:u&&r.dependencies||null,getStandaloneInjector:null,selectors:r.selectors||pn,viewQuery:r.viewQuery||null,features:r.features||null,data:r.data||{},encapsulation:r.encapsulation||Ht.Emulated,id:"c"+nr++,styles:r.styles||pn,_:null,setInput:null,schemas:r.schemas||null,tView:null,findHostDirectiveDefs:null,hostDirectives:null},y=r.dependencies,S=r.features;return p.inputs=ss(r.inputs,h),p.outputs=ss(r.outputs),S&&S.forEach(P=>P(p)),p.directiveDefs=y?()=>("function"==typeof y?y():y).map(wi).filter(ei):null,p.pipeDefs=y?()=>("function"==typeof y?y():y).map(Fi).filter(ei):null,p})}function wi(r){return mr(r)||gi(r)}function ei(r){return null!==r}function xr(r){return At(()=>({type:r.type,bootstrap:r.bootstrap||pn,declarations:r.declarations||pn,imports:r.imports||pn,exports:r.exports||pn,transitiveCompileScopes:null,schemas:r.schemas||null,id:r.id||null}))}function Ps(r,i){return At(()=>{const u=Jr(r,!0);u.declarations=i.declarations||pn,u.imports=i.imports||pn,u.exports=i.exports||pn})}function ss(r,i){if(null==r)return Tr;const u={};for(const h in r)if(r.hasOwnProperty(h)){let p=r[h],y=p;Array.isArray(p)&&(y=p[1],p=p[0]),u[p]=h,i&&(i[p]=y)}return u}const ti=Yr;function ps(r){return{type:r.type,name:r.name,factory:null,pure:!1!==r.pure,standalone:!0===r.standalone,onDestroy:r.type.prototype.ngOnDestroy||null}}function mr(r){return r[tt]||null}function gi(r){return r[Oe]||null}function Fi(r){return r[Te]||null}function ci(r){const i=mr(r)||gi(r)||Fi(r);return null!==i&&i.standalone}function Jr(r,i){const u=r[ht]||null;if(!u&&!0===i)throw new Error(`Type ${Pe(r)} does not have '\u0275mod' property.`);return u}function vi(r){return Array.isArray(r)&&"object"==typeof r[1]}function ir(r){return Array.isArray(r)&&!0===r[1]}function gn(r){return 0!=(4&r.flags)}function Vs(r){return r.componentOffset>-1}function Ti(r){return 1==(1&r.flags)}function es(r){return null!==r.template}function Ir(r){return 0!=(256&r[2])}function yi(r,i){return r.hasOwnProperty(vt)?r[vt]:null}class Us{constructor(i,u,h){this.previousValue=i,this.currentValue=u,this.firstChange=h}isFirstChange(){return this.firstChange}}function Ct(){return Ue}function Ue(r){return r.type.prototype.ngOnChanges&&(r.setInput=Vo),ga}function ga(){const r=Uo(this),i=null==r?void 0:r.current;if(i){const u=r.previous;if(u===Tr)r.previous=i;else for(let h in i)u[h]=i[h];r.current=null,this.ngOnChanges(i)}}function Vo(r,i,u,h){const p=this.declaredInputs[u],y=Uo(r)||function Ho(r,i){return r[Qs]=i}(r,{previous:Tr,current:null}),S=y.current||(y.current={}),P=y.previous,$=P[p];S[p]=new Us($&&$.currentValue,i,P===Tr),r[h]=i}Ct.ngInherit=!0;const Qs="__ngSimpleChanges__";function Uo(r){return r[Qs]||null}function Bi(r){for(;Array.isArray(r);)r=r[0];return r}function jo(r,i){return Bi(i[r])}function ns(r,i){return Bi(i[r.index])}function Eo(r,i){return r.data[i]}function eo(r,i){return r[i]}function Yi(r,i){const u=i[r];return vi(u)?u:u[0]}function ia(r){return 64==(64&r[2])}function K(r,i){return null==i?null:r[i]}function C(r){r[18]=0}function H(r,i){r[5]+=i;let u=r,h=r[3];for(;null!==h&&(1===i&&1===u[5]||-1===i&&0===u[5]);)h[5]+=i,u=h,h=h[3]}const re={lFrame:ou(null),bindingsEnabled:!0};function ri(){return re.bindingsEnabled}function L(){return re.lFrame.lView}function k(){return re.lFrame.tView}function F(r){return re.lFrame.contextLView=r,r[8]}function oe(r){return re.lFrame.contextLView=null,r}function Mt(){let r=Ln();for(;null!==r&&64===r.type;)r=r.parent;return r}function Ln(){return re.lFrame.currentTNode}function Ri(){const r=re.lFrame,i=r.currentTNode;return r.isParent?i:i.parent}function Zi(r,i){const u=re.lFrame;u.currentTNode=r,u.isParent=i}function Ws(){return re.lFrame.isParent}function ks(){re.lFrame.isParent=!1}function zi(){const r=re.lFrame;let i=r.bindingRootIndex;return-1===i&&(i=r.bindingRootIndex=r.tView.bindingStartIndex),i}function vs(){return re.lFrame.bindingIndex}function zo(){return re.lFrame.bindingIndex++}function fo(r){const i=re.lFrame,u=i.bindingIndex;return i.bindingIndex=i.bindingIndex+r,u}function rl(r){re.lFrame.inI18n=r}function Ma(r,i){const u=re.lFrame;u.bindingIndex=u.bindingRootIndex=r,Ks(i)}function Ks(r){re.lFrame.currentDirectiveIndex=r}function po(){return re.lFrame.currentQueryIndex}function wo(r){re.lFrame.currentQueryIndex=r}function Ys(r){const i=r[1];return 2===i.type?i.declTNode:1===i.type?r[6]:null}function va(r,i,u){if(u&hn.SkipSelf){let p=i,y=r;for(;!(p=p.parent,null!==p||u&hn.Host||(p=Ys(y),null===p||(y=y[15],10&p.type))););if(null===p)return!1;i=p,r=y}const h=re.lFrame=No();return h.currentTNode=i,h.lView=r,!0}function Ba(r){const i=No(),u=r[1];re.lFrame=i,i.currentTNode=u.firstChild,i.lView=r,i.tView=u,i.contextLView=r,i.bindingIndex=u.bindingStartIndex,i.inI18n=!1}function No(){const r=re.lFrame,i=null===r?null:r.child;return null===i?ou(r):i}function ou(r){const i={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:r,child:null,inI18n:!1};return null!==r&&(r.child=i),i}function _c(){const r=re.lFrame;return re.lFrame=r.parent,r.currentTNode=null,r.lView=null,r}const ya=_c;function Il(){const r=_c();r.isParent=!0,r.tView=null,r.selectedIndex=-1,r.contextLView=null,r.elementDepthCount=0,r.currentDirectiveIndex=-1,r.currentNamespace=null,r.bindingRootIndex=-1,r.bindingIndex=-1,r.currentQueryIndex=0}function no(){return re.lFrame.selectedIndex}function Ra(r){re.lFrame.selectedIndex=r}function fi(){const r=re.lFrame;return Eo(r.tView,r.selectedIndex)}function X(r,i){for(let u=i.directiveStart,h=i.directiveEnd;u<h;u++){const y=r.data[u].type.prototype,{ngAfterContentInit:S,ngAfterContentChecked:P,ngAfterViewInit:$,ngAfterViewChecked:Y,ngOnDestroy:de}=y;S&&(r.contentHooks||(r.contentHooks=[])).push(-u,S),P&&((r.contentHooks||(r.contentHooks=[])).push(u,P),(r.contentCheckHooks||(r.contentCheckHooks=[])).push(u,P)),$&&(r.viewHooks||(r.viewHooks=[])).push(-u,$),Y&&((r.viewHooks||(r.viewHooks=[])).push(u,Y),(r.viewCheckHooks||(r.viewCheckHooks=[])).push(u,Y)),null!=de&&(r.destroyHooks||(r.destroyHooks=[])).push(u,de)}}function B(r,i,u){$t(r,i,3,u)}function ie(r,i,u,h){(3&r[2])===u&&$t(r,i,u,h)}function qe(r,i){let u=r[2];(3&u)===i&&(u&=2047,u+=1,r[2]=u)}function $t(r,i,u,h){const y=null!=h?h:-1,S=i.length-1;let P=0;for(let $=void 0!==h?65535&r[18]:0;$<S;$++)if("number"==typeof i[$+1]){if(P=i[$],null!=h&&P>=h)break}else i[$]<0&&(r[18]+=65536),(P<y||-1==y)&&(Xt(r,u,i,$),r[18]=(4294901760&r[18])+$+2),$++}function Xt(r,i,u,h){const p=u[h]<0,y=u[h+1],P=r[p?-u[h]:u[h]];if(p){if(r[2]>>11<r[18]>>16&&(3&r[2])===i){r[2]+=2048;try{y.call(P)}finally{}}}else try{y.call(P)}finally{}}class pr{constructor(i,u,h){this.factory=i,this.resolving=!1,this.canSeeViewProviders=u,this.injectImpl=h}}function mn(r,i,u){let h=0;for(;h<u.length;){const p=u[h];if("number"==typeof p){if(0!==p)break;h++;const y=u[h++],S=u[h++],P=u[h++];r.setAttribute(i,S,P,y)}else{const y=p,S=u[++h];oa(y)?r.setProperty(i,y,S):r.setAttribute(i,y,S),h++}}return h}function jn(r){return 3===r||4===r||6===r}function oa(r){return 64===r.charCodeAt(0)}function bn(r,i){if(null!==i&&0!==i.length)if(null===r||0===r.length)r=i.slice();else{let u=-1;for(let h=0;h<i.length;h++){const p=i[h];"number"==typeof p?u=p:0===u||Gt(r,u,p,null,-1===u||2===u?i[++h]:null)}}return r}function Gt(r,i,u,h,p){let y=0,S=r.length;if(-1===i)S=-1;else for(;y<r.length;){const P=r[y++];if("number"==typeof P){if(P===i){S=-1;break}if(P>i){S=y-1;break}}}for(;y<r.length;){const P=r[y];if("number"==typeof P)break;if(P===u){if(null===h)return void(null!==p&&(r[y+1]=p));if(h===r[y+1])return void(r[y+2]=p)}y++,null!==h&&y++,null!==p&&y++}-1!==S&&(r.splice(S,0,i),y=S+1),r.splice(y++,0,u),null!==h&&r.splice(y++,0,h),null!==p&&r.splice(y++,0,p)}function rn(r){return-1!==r}function ls(r){return 32767&r}function Cl(r,i){let u=function sl(r){return r>>16}(r),h=i;for(;u>0;)h=h[15],u--;return h}let $a=!0;function Ea(r){const i=$a;return $a=r,i}let xu=0;const qo={};function wa(r,i){const u=Va(r,i);if(-1!==u)return u;const h=i[1];h.firstCreatePass&&(r.injectorIndex=i.length,Jn(h.data,r),Jn(i,null),Jn(h.blueprint,null));const p=Wa(r,i),y=r.injectorIndex;if(rn(p)){const S=ls(p),P=Cl(p,i),$=P[1].data;for(let Y=0;Y<8;Y++)i[y+Y]=P[S+Y]|$[S+Y]}return i[y+8]=p,y}function Jn(r,i){r.push(0,0,0,0,0,0,0,0,i)}function Va(r,i){return-1===r.injectorIndex||r.parent&&r.parent.injectorIndex===r.injectorIndex||null===i[r.injectorIndex+8]?-1:r.injectorIndex}function Wa(r,i){if(r.parent&&-1!==r.parent.injectorIndex)return r.parent.injectorIndex;let u=0,h=null,p=i;for(;null!==p;){if(h=Is(p),null===h)return-1;if(u++,p=p[15],-1!==h.injectorIndex)return h.injectorIndex|u<<16}return-1}function Qi(r,i,u){!function al(r,i,u){let h;"string"==typeof u?h=u.charCodeAt(0)||0:u.hasOwnProperty(Tn)&&(h=u[Tn]),null==h&&(h=u[Tn]=xu++);const p=255&h;i.data[r+(p>>5)]|=1<<p}(r,i,u)}function mo(r,i,u){if(u&hn.Optional||void 0!==r)return r;Ve()}function _i(r,i,u,h){if(u&hn.Optional&&void 0===h&&(h=null),0==(u&(hn.Self|hn.Host))){const p=r[9],y=vr(void 0);try{return p?p.get(i,h,u&hn.Optional):Si(i,h,u&hn.Optional)}finally{vr(y)}}return mo(h,0,u)}function dd(r,i,u,h=hn.Default,p){if(null!==r){if(1024&i[2]){const S=function Io(r,i,u,h,p){let y=r,S=i;for(;null!==y&&null!==S&&1024&S[2]&&!(256&S[2]);){const P=Hi(y,S,u,h|hn.Self,qo);if(P!==qo)return P;let $=y.parent;if(!$){const Y=S[21];if(Y){const de=Y.get(u,qo,h);if(de!==qo)return de}$=Is(S),S=S[15]}y=$}return p}(r,i,u,h,qo);if(S!==qo)return S}const y=Hi(r,i,u,h,qo);if(y!==qo)return y}return _i(i,u,h,p)}function Hi(r,i,u,h,p){const y=function Oo(r){if("string"==typeof r)return r.charCodeAt(0)||0;const i=r.hasOwnProperty(Tn)?r[Tn]:void 0;return"number"==typeof i?i>=0?255&i:uu:i}(u);if("function"==typeof y){if(!va(i,r,h))return h&hn.Host?mo(p,0,h):_i(i,u,h,p);try{const S=y(h);if(null!=S||h&hn.Optional)return S;Ve()}finally{ya()}}else if("number"==typeof y){let S=null,P=Va(r,i),$=-1,Y=h&hn.Host?i[16][6]:null;for((-1===P||h&hn.SkipSelf)&&($=-1===P?Wa(r,i):i[P+8],-1!==$&&Ds(h,!1)?(S=i[1],P=ls($),i=Cl($,i)):P=-1);-1!==P;){const de=i[1];if(ul(y,P,de.data)){const $e=Mn(P,i,u,S,h,Y);if($e!==qo)return $e}$=i[P+8],-1!==$&&Ds(h,i[1].data[P+8]===Y)&&ul(y,P,i)?(S=de,P=ls($),i=Cl($,i)):P=-1}}return p}function Mn(r,i,u,h,p,y){const S=i[1],P=S.data[r+8],de=Ua(P,S,u,null==h?Vs(P)&&$a:h!=S&&0!=(3&P.type),p&hn.Host&&y===P);return null!==de?Zs(i,S,de,P):qo}function Ua(r,i,u,h,p){const y=r.providerIndexes,S=i.data,P=1048575&y,$=r.directiveStart,de=y>>20,yt=p?P+de:r.directiveEnd;for(let Vt=h?P:P+de;Vt<yt;Vt++){const an=S[Vt];if(Vt<$&&u===an||Vt>=$&&an.type===u)return Vt}if(p){const Vt=S[$];if(Vt&&es(Vt)&&Vt.type===u)return $}return null}function Zs(r,i,u,h){let p=r[u];const y=i.data;if(function Cr(r){return r instanceof pr}(p)){const S=p;S.resolving&&function Be(r,i){const u=i?`. Dependency path: ${i.join(" > ")} > ${r}`:"";throw new Se(-200,`Circular dependency in DI detected for ${r}${u}`)}(function He(r){return"function"==typeof r?r.name||r.toString():"object"==typeof r&&null!=r&&"function"==typeof r.type?r.type.name||r.type.toString():fe(r)}(y[u]));const P=Ea(S.canSeeViewProviders);S.resolving=!0;const $=S.injectImpl?vr(S.injectImpl):null;va(r,h,hn.Default);try{p=r[u]=S.factory(void 0,y,r,h),i.firstCreatePass&&u>=h.directiveStart&&function O(r,i,u){const{ngOnChanges:h,ngOnInit:p,ngDoCheck:y}=i.type.prototype;if(h){const S=Ue(i);(u.preOrderHooks||(u.preOrderHooks=[])).push(r,S),(u.preOrderCheckHooks||(u.preOrderCheckHooks=[])).push(r,S)}p&&(u.preOrderHooks||(u.preOrderHooks=[])).push(0-r,p),y&&((u.preOrderHooks||(u.preOrderHooks=[])).push(r,y),(u.preOrderCheckHooks||(u.preOrderCheckHooks=[])).push(r,y))}(u,y[u],i)}finally{null!==$&&vr($),Ea(P),S.resolving=!1,ya()}}return p}function ul(r,i,u){return!!(u[i+(r>>5)]&1<<r)}function Ds(r,i){return!(r&hn.Self||r&hn.Host&&i)}class _s{constructor(i,u){this._tNode=i,this._lView=u}get(i,u,h){return dd(this._tNode,this._lView,i,Fe(h),u)}}function uu(){return new _s(Mt(),L())}function wc(r){return At(()=>{const i=r.prototype.constructor,u=i[vt]||ll(i),h=Object.prototype;let p=Object.getPrototypeOf(r.prototype).constructor;for(;p&&p!==h;){const y=p[vt]||ll(p);if(y&&y!==u)return y;p=Object.getPrototypeOf(p)}return y=>new y})}function ll(r){return Re(r)?()=>{const i=ll(me(r));return i&&i()}:yi(r)}function Is(r){const i=r[1],u=i.type;return 2===u?i.declTNode:1===u?r[6]:null}function Mu(r){return function Yn(r,i){if("class"===i)return r.classes;if("style"===i)return r.styles;const u=r.attrs;if(u){const h=u.length;let p=0;for(;p<h;){const y=u[p];if(jn(y))break;if(0===y)p+=2;else if("number"==typeof y)for(p++;p<h&&"string"==typeof u[p];)p++;else{if(y===i)return u[p+1];p+=2}}}return null}(Mt(),r)}const bo="__parameters__";function Do(r,i,u){return At(()=>{const h=function Ru(r){return function(...u){if(r){const h=r(...u);for(const p in h)this[p]=h[p]}}}(i);function p(...y){if(this instanceof p)return h.apply(this,y),this;const S=new p(...y);return P.annotation=S,P;function P($,Y,de){const $e=$.hasOwnProperty(bo)?$[bo]:Object.defineProperty($,bo,{value:[]})[bo];for(;$e.length<=de;)$e.push(null);return($e[de]=$e[de]||[]).push(S),$}}return u&&(p.prototype=Object.create(u.prototype)),p.prototype.ngMetadataName=r,p.annotationCls=p,p})}class pi{constructor(i,u){this._desc=i,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof u?this.__NG_ELEMENT_ID__=u:void 0!==u&&(this.\u0275prov=Kt({token:this,providedIn:u.providedIn||"root",factory:u.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function j(r,i){r.forEach(u=>Array.isArray(u)?j(u,i):i(u))}function ne(r,i,u){i>=r.length?r.push(u):r.splice(i,0,u)}function ce(r,i){return i>=r.length-1?r.pop():r.splice(i,1)[0]}function ot(r,i){const u=[];for(let h=0;h<r;h++)u.push(i);return u}function Er(r,i,u){let h=bi(r,i);return h>=0?r[1|h]=u:(h=~h,function Rn(r,i,u,h){let p=r.length;if(p==i)r.push(u,h);else if(1===p)r.push(h,r[0]),r[0]=u;else{for(p--,r.push(r[p-1],r[p]);p>i;)r[p]=r[p-2],p--;r[i]=u,r[i+1]=h}}(r,h,i,u)),h}function Ci(r,i){const u=bi(r,i);if(u>=0)return r[1|u]}function bi(r,i){return function cs(r,i,u){let h=0,p=r.length>>u;for(;p!==h;){const y=h+(p-h>>1),S=r[y<<u];if(i===S)return y<<u;S>i?p=y:h=y+1}return~(p<<u)}(r,i,1)}const Nu=xt(Do("Optional"),8),q=xt(Do("SkipSelf"),4);var Wo=(()=>((Wo=Wo||{})[Wo.Important=1]="Important",Wo[Wo.DashCase=2]="DashCase",Wo))();const vd=/^>|^->|<!--|-->|--!>|<!-$/g,yd=/(<|>)/;const bc=new Map;let ku=0;const Ed="__ngContext__";function vo(r,i){vi(i)?(r[Ed]=i[20],function Dc(r){bc.set(r[20],r)}(i)):r[Ed]=i}let Za;function Id(r,i){return Za(r,i)}function Da(r){const i=r[3];return ir(i)?i[3]:i}function Pa(r){return Vu(r[13])}function ca(r){return Vu(r[4])}function Vu(r){for(;null!==r&&!ir(r);)r=r[4];return r}function fl(r,i,u,h,p){if(null!=h){let y,S=!1;ir(h)?y=h:vi(h)&&(S=!0,h=h[0]);const P=Bi(h);0===r&&null!==u?null==p?Al(i,u,P):Hu(i,u,P,p||null,!0):1===r&&null!==u?Hu(i,u,P,p||null,!0):2===r?ec(i,P,S):3===r&&i.destroyNode(P),null!=y&&function Pc(r,i,u,h,p){const y=u[7];y!==Bi(u)&&fl(i,r,h,y,p);for(let P=10;P<u.length;P++){const $=u[P];Rc($[1],$,r,i,h,y)}}(i,r,y,u,p)}}function Lo(r,i){return r.createText(i)}function Sa(r,i,u){r.setValue(i,u)}function Uu(r,i){return r.createComment(function Yh(r){return r.replace(vd,i=>i.replace(yd,"\u200b$1\u200b"))}(i))}function Wl(r,i,u){return r.createElement(i,u)}function Cd(r,i){const u=r[9],h=u.indexOf(i),p=i[3];512&i[2]&&(i[2]&=-513,H(p,-1)),u.splice(h,1)}function nh(r,i){if(r.length<=10)return;const u=10+i,h=r[u];if(h){const p=h[17];null!==p&&p!==r&&Cd(p,h),i>0&&(r[u-1][4]=h[4]);const y=ce(r,10+i);!function Ts(r,i){Rc(r,i,i[11],2,null,null),i[0]=null,i[6]=null}(h[1],h);const S=y[19];null!==S&&S.detachView(y[1]),h[3]=null,h[4]=null,h[2]&=-65}return h}function Yl(r,i){if(!(128&i[2])){const u=i[11];u.destroyNode&&Rc(r,i,u,3,null,null),function Na(r){let i=r[13];if(!i)return pu(r[1],r);for(;i;){let u=null;if(vi(i))u=i[13];else{const h=i[10];h&&(u=h)}if(!u){for(;i&&!i[4]&&i!==r;)vi(i)&&pu(i[1],i),i=i[3];null===i&&(i=r),vi(i)&&pu(i[1],i),u=i&&i[4]}i=u}}(i)}}function pu(r,i){if(!(128&i[2])){i[2]&=-65,i[2]|=128,function Ta(r,i){let u;if(null!=r&&null!=(u=r.destroyHooks))for(let h=0;h<u.length;h+=2){const p=i[u[h]];if(!(p instanceof pr)){const y=u[h+1];if(Array.isArray(y))for(let S=0;S<y.length;S+=2){const P=p[y[S]],$=y[S+1];try{$.call(P)}finally{}}else try{y.call(p)}finally{}}}}(r,i),function bd(r,i){const u=r.cleanup,h=i[7];let p=-1;if(null!==u)for(let y=0;y<u.length-1;y+=2)if("string"==typeof u[y]){const S=u[y+3];S>=0?h[p=S]():h[p=-S].unsubscribe(),y+=2}else{const S=h[p=u[y+1]];u[y].call(S)}if(null!==h){for(let y=p+1;y<h.length;y++)(0,h[y])();i[7]=null}}(r,i),1===i[1].type&&i[11].destroy();const u=i[17];if(null!==u&&ir(i[3])){u!==i[3]&&Cd(u,i);const h=i[19];null!==h&&h.detachView(r)}!function Zh(r){bc.delete(r[20])}(i)}}function rh(r,i,u){return Zl(r,i.parent,u)}function Zl(r,i,u){let h=i;for(;null!==h&&40&h.type;)h=(i=h).parent;if(null===h)return u[0];{const{componentOffset:p}=h;if(p>-1){const{encapsulation:y}=r.data[h.directiveStart+p];if(y===Ht.None||y===Ht.Emulated)return null}return ns(h,u)}}function Hu(r,i,u,h,p){r.insertBefore(i,u,h,p)}function Al(r,i,u){r.appendChild(i,u)}function so(r,i,u,h,p){null!==h?Hu(r,i,u,h,p):Al(r,i,u)}function Mc(r,i){return r.parentNode(i)}function Xh(r,i,u){return Xl(r,i,u)}function da(r,i,u){return 40&r.type?ns(r,u):null}let ju,sh,ml,bs,Xl=da;function ih(r,i){Xl=r,ju=i}function Gr(r,i,u,h){const p=rh(r,h,i),y=i[11],P=Xh(h.parent||i[6],h,i);if(null!=p)if(Array.isArray(u))for(let $=0;$<u.length;$++)so(y,p,u[$],P,!1);else so(y,p,u,P,!1);void 0!==ju&&ju(y,h,i,u,p)}function Ql(r,i){if(null!==i){const u=i.type;if(3&u)return ns(i,r);if(4&u)return fs(-1,r[i.index]);if(8&u){const h=i.child;if(null!==h)return Ql(r,h);{const p=r[i.index];return ir(p)?fs(-1,p):Bi(p)}}if(32&u)return Id(i,r)()||Bi(r[i.index]);{const h=Jl(r,i);return null!==h?Array.isArray(h)?h[0]:Ql(Da(r[16]),h):Ql(r,i.next)}}return null}function Jl(r,i){return null!==i?r[16][6].projection[i.projection]:null}function fs(r,i){const u=10+r+1;if(u<i.length){const h=i[u],p=h[1].firstChild;if(null!==p)return Ql(h,p)}return i[7]}function ec(r,i,u){const h=Mc(r,i);h&&function ji(r,i,u,h){r.removeChild(i,u,h)}(r,h,i,u)}function qr(r,i,u,h,p,y,S){for(;null!=u;){const P=h[u.index],$=u.type;if(S&&0===i&&(P&&vo(Bi(P),h),u.flags|=2),32!=(32&u.flags))if(8&$)qr(r,i,u.child,h,p,y,!1),fl(i,r,p,P,y);else if(32&$){const Y=Id(u,h);let de;for(;de=Y();)fl(i,r,p,de,y);fl(i,r,p,P,y)}else 16&$?Rl(r,i,h,u,p,y):fl(i,r,p,P,y);u=S?u.projectionNext:u.next}}function Rc(r,i,u,h,p,y){qr(u,h,r.firstChild,i,p,y,!1)}function Rl(r,i,u,h,p,y){const S=u[16],$=S[6].projection[h.projection];if(Array.isArray($))for(let Y=0;Y<$.length;Y++)fl(i,r,p,$[Y],y);else qr(r,i,$,S[3],p,y,!0)}function gu(r,i,u){""===u?r.removeAttribute(i,"class"):r.setAttribute(i,"class",u)}function tc(r,i,u){const{mergedAttrs:h,classes:p,styles:y}=u;null!==h&&mn(r,i,h),null!==p&&gu(r,i,p),null!==y&&function Dd(r,i,u){r.setAttribute(i,"style",u)}(r,i,y)}function Pl(r){var i;return(null===(i=function Sd(){if(void 0===sh&&(sh=null,xn.trustedTypes))try{sh=xn.trustedTypes.createPolicy("angular",{createHTML:r=>r,createScript:r=>r,createScriptURL:r=>r})}catch(r){}return sh}())||void 0===i?void 0:i.createHTML(r))||r}function Ha(r){ml=r}function Nl(){return void 0!==ml?ml:typeof document<"u"?document:void 0}function Nc(){if(void 0===bs&&(bs=null,xn.trustedTypes))try{bs=xn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:r=>r,createScript:r=>r,createScriptURL:r=>r})}catch(r){}return bs}function Jh(r){var i;return(null===(i=Nc())||void 0===i?void 0:i.createHTML(r))||r}function Zo(r){var i;return(null===(i=Nc())||void 0===i?void 0:i.createScriptURL(r))||r}class zu{constructor(i){this.changingThisBreaksApplicationSecurity=i}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Et})`}}class Uf extends zu{getTypeName(){return"HTML"}}class Oc extends zu{getTypeName(){return"Style"}}class b extends zu{getTypeName(){return"Script"}}class m extends zu{getTypeName(){return"URL"}}class _ extends zu{getTypeName(){return"ResourceURL"}}function A(r){return r instanceof zu?r.changingThisBreaksApplicationSecurity:r}function Z(r,i){const u=function pe(r){return r instanceof zu&&r.getTypeName()||null}(r);if(null!=u&&u!==i){if("ResourceURL"===u&&"URL"===i)return!0;throw new Error(`Required a safe ${i}, got a ${u} (see ${Et})`)}return u===i}function _t(r){return new Uf(r)}function Yt(r){return new Oc(r)}function Pn(r){return new b(r)}function Qn(r){return new m(r)}function Pr(r){return new _(r)}function Dr(r){const i=new Xa(r);return function oh(){try{return!!(new window.DOMParser).parseFromString(Pl(""),"text/html")}catch(r){return!1}}()?new oo(i):i}class oo{constructor(i){this.inertDocumentHelper=i}getInertBodyElement(i){i="<body><remove></remove>"+i;try{const u=(new window.DOMParser).parseFromString(Pl(i),"text/html").body;return null===u?this.inertDocumentHelper.getInertBodyElement(i):(u.removeChild(u.firstChild),u)}catch(u){return null}}}class Xa{constructor(i){if(this.defaultDoc=i,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const u=this.inertDocument.createElement("html");this.inertDocument.appendChild(u);const h=this.inertDocument.createElement("body");u.appendChild(h)}}getInertBodyElement(i){const u=this.inertDocument.createElement("template");if("content"in u)return u.innerHTML=Pl(i),u;const h=this.inertDocument.createElement("body");return h.innerHTML=Pl(i),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(h),h}stripCustomNsAttrs(i){const u=i.attributes;for(let p=u.length-1;0<p;p--){const S=u.item(p).name;("xmlns:ns1"===S||0===S.indexOf("ns1:"))&&i.removeAttribute(S)}let h=i.firstChild;for(;h;)h.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(h),h=h.nextSibling}}const Hf=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;function mu(r){return(r=String(r)).match(Hf)?r:"unsafe:"+r}function Xo(r){const i={};for(const u of r.split(","))i[u]=!0;return i}function qu(...r){const i={};for(const u of r)for(const h in u)u.hasOwnProperty(h)&&(i[h]=!0);return i}const ah=Xo("area,br,col,hr,img,wbr"),uh=Xo("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Qo=Xo("rp,rt"),kc=qu(ah,qu(uh,Xo("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),qu(Qo,Xo("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),qu(Qo,uh)),Fc=Xo("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),ug=qu(Fc,Xo("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Xo("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),zv=Xo("script,style,template");class zf{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(i){let u=i.firstChild,h=!0;for(;u;)if(u.nodeType===Node.ELEMENT_NODE?h=this.startElement(u):u.nodeType===Node.TEXT_NODE?this.chars(u.nodeValue):this.sanitizedSomething=!0,h&&u.firstChild)u=u.firstChild;else for(;u;){u.nodeType===Node.ELEMENT_NODE&&this.endElement(u);let p=this.checkClobberedElement(u,u.nextSibling);if(p){u=p;break}u=this.checkClobberedElement(u,u.parentNode)}return this.buf.join("")}startElement(i){const u=i.nodeName.toLowerCase();if(!kc.hasOwnProperty(u))return this.sanitizedSomething=!0,!zv.hasOwnProperty(u);this.buf.push("<"),this.buf.push(u);const h=i.attributes;for(let p=0;p<h.length;p++){const y=h.item(p),S=y.name,P=S.toLowerCase();if(!ug.hasOwnProperty(P)){this.sanitizedSomething=!0;continue}let $=y.value;Fc[P]&&($=mu($)),this.buf.push(" ",S,'="',lg($),'"')}return this.buf.push(">"),!0}endElement(i){const u=i.nodeName.toLowerCase();kc.hasOwnProperty(u)&&!ah.hasOwnProperty(u)&&(this.buf.push("</"),this.buf.push(u),this.buf.push(">"))}chars(i){this.buf.push(lg(i))}checkClobberedElement(i,u){if(u&&(i.compareDocumentPosition(u)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${i.outerHTML}`);return u}}const _m=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Em=/([^\#-~ |!])/g;function lg(r){return r.replace(/&/g,"&amp;").replace(_m,function(i){return"&#"+(1024*(i.charCodeAt(0)-55296)+(i.charCodeAt(1)-56320)+65536)+";"}).replace(Em,function(i){return"&#"+i.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let qf;function wm(r,i){let u=null;try{qf=qf||Dr(r);let h=i?String(i):"";u=qf.getInertBodyElement(h);let p=5,y=h;do{if(0===p)throw new Error("Failed to sanitize html because the input is unstable");p--,h=y,y=u.innerHTML,u=qf.getInertBodyElement(h)}while(h!==y);return Pl((new zf).sanitizeChildren(cg(u)||u))}finally{if(u){const h=cg(u)||u;for(;h.firstChild;)h.removeChild(h.firstChild)}}}function cg(r){return"content"in r&&function qv(r){return r.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===r.nodeName}(r)?r.content:null}var yo=(()=>((yo=yo||{})[yo.NONE=0]="NONE",yo[yo.HTML=1]="HTML",yo[yo.STYLE=2]="STYLE",yo[yo.SCRIPT=3]="SCRIPT",yo[yo.URL=4]="URL",yo[yo.RESOURCE_URL=5]="RESOURCE_URL",yo))();function Sr(r){const i=Td();return i?Jh(i.sanitize(yo.HTML,r)||""):Z(r,"HTML")?Jh(A(r)):wm(Nl(),fe(r))}function dg(r){const i=Td();return i?i.sanitize(yo.URL,r)||"":Z(r,"URL")?A(r):mu(fe(r))}function Ku(r){const i=Td();if(i)return Zo(i.sanitize(yo.RESOURCE_URL,r)||"");if(Z(r,"ResourceURL"))return Zo(A(r));throw new Se(904,!1)}function lh(r,i,u){return function Kv(r,i){return"src"===i&&("embed"===r||"frame"===r||"iframe"===r||"media"===r||"script"===r)||"href"===i&&("base"===r||"link"===r)?Ku:dg}(i,u)(r)}function Td(){const r=L();return r&&r[12]}const Ad=new pi("ENVIRONMENT_INITIALIZER"),kl=new pi("INJECTOR",-1),ef=new pi("INJECTOR_DEF_TYPES");class Yv{get(i,u=_r){if(u===_r){const h=new Error(`NullInjectorError: No provider for ${Pe(i)}!`);throw h.name="NullInjectorError",h}return u}}function Wf(r){return{\u0275providers:r}}function Kf(...r){return{\u0275providers:Lc(0,r),\u0275fromNgModule:!0}}function Lc(r,...i){const u=[],h=new Set;let p;return j(i,y=>{const S=y;nc(S,u,[],h)&&(p||(p=[]),p.push(S))}),void 0!==p&&Bc(p,u),u}function Bc(r,i){for(let u=0;u<r.length;u++){const{providers:p}=r[u];Zf(p,y=>{i.push(y)})}}function nc(r,i,u,h){if(!(r=me(r)))return!1;let p=null,y=Vr(r);const S=!y&&mr(r);if(y||S){if(S&&!S.standalone)return!1;p=r}else{const $=r.ngModule;if(y=Vr($),!y)return!1;p=$}const P=h.has(p);if(S){if(P)return!1;if(h.add(p),S.dependencies){const $="function"==typeof S.dependencies?S.dependencies():S.dependencies;for(const Y of $)nc(Y,i,u,h)}}else{if(!y)return!1;{if(null!=y.imports&&!P){let Y;h.add(p);try{j(y.imports,de=>{nc(de,i,u,h)&&(Y||(Y=[]),Y.push(de))})}finally{}void 0!==Y&&Bc(Y,i)}if(!P){const Y=yi(p)||(()=>new p);i.push({provide:p,useFactory:Y,deps:pn},{provide:ef,useValue:p,multi:!0},{provide:Ad,useValue:()=>sn(p),multi:!0})}const $=y.providers;null==$||P||Zf($,de=>{i.push(de)})}}return p!==r&&void 0!==r.providers}function Zf(r,i){for(let u of r)We(u)&&(u=u.\u0275providers),Array.isArray(u)?Zf(u,i):i(u)}const Xf=ke({provide:String,useValue:ke});function ja(r){return null!==r&&"object"==typeof r&&Xf in r}function Md(r){return"function"==typeof r}const $c=new pi("Set Injector scope."),vl={},dh={};let Yu;function Vc(){return void 0===Yu&&(Yu=new Yv),Yu}class Zu{}class Pi extends Zu{constructor(i,u,h,p){super(),this.parent=u,this.source=h,this.scopes=p,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Jf(i,S=>this.processProvider(S)),this.records.set(kl,vu(void 0,this)),p.has("environment")&&this.records.set(Zu,vu(void 0,this));const y=this.records.get($c);null!=y&&"string"==typeof y.value&&this.scopes.add(y.value),this.injectorDefTypes=new Set(this.get(ef.multi,pn,hn.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const i of this._ngOnDestroyHooks)i.ngOnDestroy();for(const i of this._onDestroyHooks)i()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(i){this._onDestroyHooks.push(i)}runInContext(i){this.assertNotDestroyed();const u=li(this),h=vr(void 0);try{return i()}finally{li(u),vr(h)}}get(i,u=_r,h=hn.Default){this.assertNotDestroyed(),h=Fe(h);const p=li(this),y=vr(void 0);try{if(!(h&hn.SkipSelf)){let P=this.records.get(i);if(void 0===P){const $=function fh(r){return"function"==typeof r||"object"==typeof r&&r instanceof pi}(i)&&sr(i);P=$&&this.injectableDefInScope($)?vu(Sm(i),vl):null,this.records.set(i,P)}if(null!=P)return this.hydrate(i,P)}return(h&hn.Self?Vc():this.parent).get(i,u=h&hn.Optional&&u===_r?null:u)}catch(S){if("NullInjectorError"===S.name){if((S[Nr]=S[Nr]||[]).unshift(Pe(i)),p)throw S;return function De(r,i,u,h){const p=r[Nr];throw i[is]&&p.unshift(i[is]),r.message=function ze(r,i,u,h=null){r=r&&"\n"===r.charAt(0)&&"\u0275"==r.charAt(1)?r.slice(2):r;let p=Pe(i);if(Array.isArray(i))p=i.map(Pe).join(" -> ");else if("object"==typeof i){let y=[];for(let S in i)if(i.hasOwnProperty(S)){let P=i[S];y.push(S+":"+("string"==typeof P?JSON.stringify(P):Pe(P)))}p=`{${y.join(", ")}}`}return`${u}${h?"("+h+")":""}[${p}]: ${r.replace(ki,"\n  ")}`}("\n"+r.message,p,u,h),r.ngTokenPath=p,r[Nr]=null,r}(S,i,"R3InjectorError",this.source)}throw S}finally{vr(y),li(p)}}resolveInjectorInitializers(){const i=li(this),u=vr(void 0);try{const h=this.get(Ad.multi,pn,hn.Self);for(const p of h)p()}finally{li(i),vr(u)}}toString(){const i=[],u=this.records;for(const h of u.keys())i.push(Pe(h));return`R3Injector[${i.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Se(205,!1)}processProvider(i){let u=Md(i=me(i))?i:me(i&&i.provide);const h=function hh(r){return ja(r)?vu(void 0,r.useValue):vu(Fl(r),vl)}(i);if(Md(i)||!0!==i.multi)this.records.get(u);else{let p=this.records.get(u);p||(p=vu(void 0,vl,!0),p.factory=()=>Ke(p.multi),this.records.set(u,p)),u=i,p.multi.push(i)}this.records.set(u,h)}hydrate(i,u){return u.value===vl&&(u.value=dh,u.value=u.factory()),"object"==typeof u.value&&u.value&&function Zv(r){return null!==r&&"object"==typeof r&&"function"==typeof r.ngOnDestroy}(u.value)&&this._ngOnDestroyHooks.add(u.value),u.value}injectableDefInScope(i){if(!i.providedIn)return!1;const u=me(i.providedIn);return"string"==typeof u?"any"===u||this.scopes.has(u):this.injectorDefTypes.has(u)}}function Sm(r){const i=sr(r),u=null!==i?i.factory:yi(r);if(null!==u)return u;if(r instanceof pi)throw new Se(204,!1);if(r instanceof Function)return function Qf(r){const i=r.length;if(i>0)throw ot(i,"?"),new Se(204,!1);const u=function cr(r){const i=r&&(r[Dn]||r[Wt]);if(i){const u=function Mr(r){if(r.hasOwnProperty("name"))return r.name;const i=(""+r).match(/^function\s*([^\s(]+)/);return null===i?"":i[1]}(r);return console.warn(`DEPRECATED: DI is instantiating a token "${u}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${u}" class.`),i}return null}(r);return null!==u?()=>u.factory(r):()=>new r}(r);throw new Se(204,!1)}function Fl(r,i,u){let h;if(Md(r)){const p=me(r);return yi(p)||Sm(p)}if(ja(r))h=()=>me(r.useValue);else if(function hg(r){return!(!r||!r.useFactory)}(r))h=()=>r.useFactory(...Ke(r.deps||[]));else if(function xd(r){return!(!r||!r.useExisting)}(r))h=()=>sn(me(r.useExisting));else{const p=me(r&&(r.useClass||r.provide));if(!function Tm(r){return!!r.deps}(r))return yi(p)||Sm(p);h=()=>new p(...Ke(r.deps))}return h}function vu(r,i,u=!1){return{factory:r,value:i,multi:u?[]:void 0}}function Jf(r,i){for(const u of r)Array.isArray(u)?Jf(u,i):u&&We(u)?Jf(u.\u0275providers,i):i(u)}class fg{}class Ll{}class pg{resolveComponentFactory(i){throw function ep(r){const i=Error(`No component factory found for ${Pe(r)}. Did you add it to @NgModule.entryComponents?`);return i.ngComponent=r,i}(i)}}let Uc=(()=>{class r{}return r.NULL=new pg,r})();function Xv(){return Hc(Mt(),L())}function Hc(r,i){return new jc(ns(r,i))}let jc=(()=>{class r{constructor(u){this.nativeElement=u}}return r.__NG_ELEMENT_ID__=Xv,r})();function Qv(r){return r instanceof jc?r.nativeElement:r}class np{}let tf=(()=>{class r{}return r.__NG_ELEMENT_ID__=()=>function Gc(){const r=L(),u=Yi(Mt().index,r);return(vi(u)?u:r)[11]}(),r})(),zc=(()=>{class r{}return r.\u0275prov=Kt({token:r,providedIn:"root",factory:()=>null}),r})();class nf{constructor(i){this.full=i,this.major=i.split(".")[0],this.minor=i.split(".")[1],this.patch=i.split(".").slice(2).join(".")}}const yu=new nf("15.0.4"),Bo={};function Rd(r){return r.ngOriginalError}class Pd{constructor(){this._console=console}handleError(i){const u=this._findOriginalError(i);this._console.error("ERROR",i),u&&this._console.error("ORIGINAL ERROR",u)}_findOriginalError(i){let u=i&&Rd(i);for(;u&&Rd(u);)u=Rd(u);return u||null}}function yl(r){return r instanceof Function?r():r}function Rm(r,i,u){let h=r.length;for(;;){const p=r.indexOf(i,u);if(-1===p)return p;if(0===p||r.charCodeAt(p-1)<=32){const y=i.length;if(p+y===h||r.charCodeAt(p+y)<=32)return p}u=p+1}}const gg="ng-template";function ty(r,i,u){let h=0;for(;h<r.length;){let p=r[h++];if(u&&"class"===p){if(p=r[h],-1!==Rm(p.toLowerCase(),i,0))return!0}else if(1===p){for(;h<r.length&&"string"==typeof(p=r[h++]);)if(p.toLowerCase()===i)return!0;return!1}}return!1}function mg(r){return 4===r.type&&r.value!==gg}function Od(r,i,u){return i===(4!==r.type||u?r.value:gg)}function rf(r,i,u){let h=4;const p=r.attrs||[],y=function Om(r){for(let i=0;i<r.length;i++)if(jn(r[i]))return i;return r.length}(p);let S=!1;for(let P=0;P<i.length;P++){const $=i[P];if("number"!=typeof $){if(!S)if(4&h){if(h=2|1&h,""!==$&&!Od(r,$,u)||""===$&&1===i.length){if(_u(h))return!1;S=!0}}else{const Y=8&h?$:i[++P];if(8&h&&null!==r.attrs){if(!ty(r.attrs,Y,u)){if(_u(h))return!1;S=!0}continue}const $e=Pm(8&h?"class":$,p,mg(r),u);if(-1===$e){if(_u(h))return!1;S=!0;continue}if(""!==Y){let yt;yt=$e>y?"":p[$e+1].toLowerCase();const Vt=8&h?yt:null;if(Vt&&-1!==Rm(Vt,Y,0)||2&h&&Y!==yt){if(_u(h))return!1;S=!0}}}}else{if(!S&&!_u(h)&&!_u($))return!1;if(S&&_u($))continue;S=!1,h=$|1&h}}return _u(h)||S}function _u(r){return 0==(1&r)}function Pm(r,i,u,h){if(null===i)return-1;let p=0;if(h||!u){let y=!1;for(;p<i.length;){const S=i[p];if(S===r)return p;if(3===S||6===S)y=!0;else{if(1===S||2===S){let P=i[++p];for(;"string"==typeof P;)P=i[++p];continue}if(4===S)break;if(0===S){p+=4;continue}}p+=y?1:2}return-1}return function km(r,i){let u=r.indexOf(4);if(u>-1)for(u++;u<r.length;){const h=r[u];if("number"==typeof h)return-1;if(h===i)return u;u++}return-1}(i,r)}function vg(r,i,u=!1){for(let h=0;h<i.length;h++)if(rf(r,i[h],u))return!0;return!1}function op(r,i){e:for(let u=0;u<i.length;u++){const h=i[u];if(r.length===h.length){for(let p=0;p<r.length;p++)if(r[p]!==h[p])continue e;return!0}}return!1}function Jo(r,i){return r?":not("+i.trim()+")":i}function ny(r){let i=r[0],u=1,h=2,p="",y=!1;for(;u<r.length;){let S=r[u];if("string"==typeof S)if(2&h){const P=r[++u];p+="["+S+(P.length>0?'="'+P+'"':"")+"]"}else 8&h?p+="."+S:4&h&&(p+=" "+S);else""!==p&&!_u(S)&&(i+=Jo(y,p),p=""),h=S,y=y||!_u(h);u++}return""!==p&&(i+=Jo(y,p)),i}const si={};function yg(r){sy(k(),L(),no()+r,!1)}function sy(r,i,u,h){if(!h)if(3==(3&i[2])){const y=r.preOrderCheckHooks;null!==y&&B(i,y,u)}else{const y=r.preOrderHooks;null!==y&&ie(i,y,0,u)}Ra(u)}function Ig(r,i=null,u=null,h){const p=Lm(r,i,u,h);return p.resolveInjectorInitializers(),p}function Lm(r,i=null,u=null,h,p=new Set){const y=[u||pn,Kf(r)];return h=h||("object"==typeof r?void 0:Pe(r)),new Pi(y,i||Vc(),h||null,p)}let Wc=(()=>{class r{static create(u,h){if(Array.isArray(u))return Ig({name:""},h,u,"");{var p;const y=null!==(p=u.name)&&void 0!==p?p:"";return Ig({name:y},u.parent,u.providers,y)}}}return r.THROW_IF_NOT_FOUND=_r,r.NULL=new Yv,r.\u0275prov=Kt({token:r,providedIn:"any",factory:()=>sn(kl)}),r.__NG_ELEMENT_ID__=-1,r})();function _h(r,i=hn.Default){const u=L();return null===u?sn(r,i):dd(Mt(),u,me(r),i)}function jm(){throw new Error("invalid")}function Eh(r,i){const u=r.contentQueries;if(null!==u)for(let h=0;h<u.length;h+=2){const p=u[h],y=u[h+1];if(-1!==y){const S=r.data[y];wo(p),S.contentQueries(2,i[y],y)}}}function cf(r,i,u,h,p,y,S,P,$,Y,de){const $e=i.blueprint.slice();return $e[0]=p,$e[2]=76|h,(null!==de||r&&1024&r[2])&&($e[2]|=1024),C($e),$e[3]=$e[15]=r,$e[8]=u,$e[10]=S||r&&r[10],$e[11]=P||r&&r[11],$e[12]=$||r&&r[12]||null,$e[9]=Y||r&&r[9]||null,$e[6]=y,$e[20]=function _d(){return ku++}(),$e[21]=de,$e[16]=2==i.type?r[16]:$e,$e}function Bd(r,i,u,h,p){let y=r.data[i];if(null===y)y=Ag(r,i,u,h,p),function Tu(){return re.lFrame.inI18n}()&&(y.flags|=32);else if(64&y.type){y.type=u,y.value=h,y.attrs=p;const S=Ri();y.injectorIndex=null===S?-1:S.injectorIndex}return Zi(y,!0),y}function Ag(r,i,u,h,p){const y=Ln(),S=Ws(),$=r.data[i]=function qm(r,i,u,h,p,y){return{type:u,index:h,insertBeforeIndex:null,injectorIndex:i?i.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:p,attrs:y,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:i,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,S?y:y&&y.parent,u,i,h,p);return null===r.firstChild&&(r.firstChild=$),null!==y&&(S?null==y.child&&null!==$.parent&&(y.child=$):null===y.next&&(y.next=$)),$}function df(r,i,u,h){if(0===u)return-1;const p=i.length;for(let y=0;y<u;y++)i.push(h),r.blueprint.push(h),r.data.push(null);return p}function xg(r,i,u){Ba(i);try{const h=r.viewQuery;null!==h&&El(1,h,u);const p=r.template;null!==p&&zm(r,i,p,1,u),r.firstCreatePass&&(r.firstCreatePass=!1),r.staticContentQueries&&Eh(r,i),r.staticViewQueries&&El(2,r.viewQuery,u);const y=r.components;null!==y&&function Tg(r,i){for(let u=0;u<i.length;u++)Sh(r,i[u])}(i,y)}catch(h){throw r.firstCreatePass&&(r.incompleteFirstPass=!0,r.firstCreatePass=!1),h}finally{i[2]&=-5,Il()}}function Ih(r,i,u,h){const p=i[2];if(128!=(128&p)){Ba(i);try{C(i),function sa(r){return re.lFrame.bindingIndex=r}(r.bindingStartIndex),null!==u&&zm(r,i,u,2,h);const S=3==(3&p);if(S){const Y=r.preOrderCheckHooks;null!==Y&&B(i,Y,null)}else{const Y=r.preOrderHooks;null!==Y&&ie(i,Y,0,null),qe(i,0)}if(function Xc(r){for(let i=Pa(r);null!==i;i=ca(i)){if(!i[2])continue;const u=i[9];for(let h=0;h<u.length;h++){const p=u[h],y=p[3];0==(512&p[2])&&H(y,1),p[2]|=512}}}(i),function Bg(r){for(let i=Pa(r);null!==i;i=ca(i))for(let u=10;u<i.length;u++){const h=i[u],p=h[1];ia(h)&&Ih(p,h,p.template,h[8])}}(i),null!==r.contentQueries&&Eh(r,i),S){const Y=r.contentCheckHooks;null!==Y&&B(i,Y)}else{const Y=r.contentHooks;null!==Y&&ie(i,Y,1),qe(i,1)}!function Gm(r,i){const u=r.hostBindingOpCodes;if(null!==u)try{for(let h=0;h<u.length;h++){const p=u[h];if(p<0)Ra(~p);else{const y=p,S=u[++h],P=u[++h];Ma(S,y),P(2,i[y])}}}finally{Ra(-1)}}(r,i);const P=r.components;null!==P&&function wh(r,i){for(let u=0;u<i.length;u++)Dh(r,i[u])}(i,P);const $=r.viewQuery;if(null!==$&&El(2,$,h),S){const Y=r.viewCheckHooks;null!==Y&&B(i,Y)}else{const Y=r.viewHooks;null!==Y&&ie(i,Y,2),qe(i,2)}!0===r.firstUpdatePass&&(r.firstUpdatePass=!1),i[2]&=-41,512&i[2]&&(i[2]&=-513,H(i[3],-1))}finally{Il()}}}function zm(r,i,u,h,p){const y=no(),S=2&h;try{Ra(-1),S&&i.length>22&&sy(r,i,22,!1),u(h,p)}finally{Ra(y)}}function Mg(r,i,u){if(gn(i)){const p=i.directiveEnd;for(let y=i.directiveStart;y<p;y++){const S=r.data[y];S.contentQueries&&S.contentQueries(1,u[y],y)}}}function $d(r,i,u){!ri()||(function Ym(r,i,u,h){const p=u.directiveStart,y=u.directiveEnd;Vs(u)&&function cy(r,i,u){const h=ns(i,r),p=Vd(u),y=r[10],S=Th(r,cf(r,p,null,u.onPush?32:16,h,i,y,y.createRenderer(h,u),null,null,null));r[i.index]=S}(i,u,r.data[p+u.componentOffset]),r.firstCreatePass||wa(u,i),vo(h,i);const S=u.initialInputs;for(let P=p;P<y;P++){const $=r.data[P],Y=Zs(i,r,P,u);vo(Y,i),null!==S&&Fg(0,P-p,Y,$,0,S),es($)&&(Yi(u.index,i)[8]=Zs(i,r,P,u))}}(r,i,u,ns(u,i)),64==(64&u.flags)&&Zc(r,i,u))}function Eu(r,i,u=ns){const h=i.localNames;if(null!==h){let p=i.index+1;for(let y=0;y<h.length;y+=2){const S=h[y+1],P=-1===S?u(i,r):r[S];r[p++]=P}}}function Vd(r){const i=r.tView;return null===i||i.incompleteFirstPass?r.tView=Ch(1,null,r.template,r.decls,r.vars,r.directiveDefs,r.pipeDefs,r.viewQuery,r.schemas,r.consts):i}function Ch(r,i,u,h,p,y,S,P,$,Y){const de=22+h,$e=de+p,yt=function pp(r,i){const u=[];for(let h=0;h<i;h++)u.push(h<r?null:si);return u}(de,$e),Vt="function"==typeof Y?Y():Y;return yt[1]={type:r,blueprint:yt,template:u,queries:null,viewQuery:P,declTNode:i,data:yt.slice().fill(null,de),bindingStartIndex:de,expandoStartIndex:$e,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof y?y():y,pipeRegistry:"function"==typeof S?S():S,firstChild:null,schemas:$,consts:Vt,incompleteFirstPass:!1}}function gp(r,i,u,h){const p=Qm(i);null===u?p.push(h):(p.push(u),r.firstCreatePass&&wp(r).push(h,p.length-1))}function mp(r,i,u,h){for(let p in r)if(r.hasOwnProperty(p)){u=null===u?{}:u;const y=r[p];null===h?vp(u,i,p,y):h.hasOwnProperty(p)&&vp(u,i,h[p],y)}return u}function vp(r,i,u,h){r.hasOwnProperty(u)?r[u].push(i,h):r[u]=[i,h]}function wu(r,i,u,h,p,y,S,P){const $=ns(i,u);let de,Y=i.inputs;!P&&null!=Y&&(de=Y[h])?(Ud(r,u,de,h,p),Vs(i)&&yp(u,i.index)):3&i.type&&(h=function Wm(r){return"class"===r?"className":"for"===r?"htmlFor":"formaction"===r?"formAction":"innerHtml"===r?"innerHTML":"readonly"===r?"readOnly":"tabindex"===r?"tabIndex":r}(h),p=null!=S?S(p,i.value||"",h):p,y.setProperty($,h,p))}function yp(r,i){const u=Yi(i,r);16&u[2]||(u[2]|=32)}function Rg(r,i,u,h){let p=!1;if(ri()){const y=null===h?null:{"":-1},S=function ly(r,i){const u=r.directiveRegistry;let h=null,p=null;if(u)for(let S=0;S<u.length;S++){const P=u[S];if(vg(i,P.selectors,!1))if(h||(h=[]),es(P))if(null!==P.findHostDirectiveDefs){const $=[];p=p||new Map,P.findHostDirectiveDefs(P,$,p),h.unshift(...$,P),Bl(r,i,$.length)}else h.unshift(P),Bl(r,i,0);else{var y;p=p||new Map,null===(y=P.findHostDirectiveDefs)||void 0===y||y.call(P,P,h,p),h.push(P)}}return null===h?null:[h,p]}(r,u);let P,$;null===S?P=$=null:[P,$]=S,null!==P&&(p=!0,_p(r,i,u,P,y,$)),y&&function Ng(r,i,u){if(i){const h=r.localNames=[];for(let p=0;p<i.length;p+=2){const y=u[i[p+1]];if(null==y)throw new Se(-301,!1);h.push(i[p],y)}}}(u,h,y)}return u.mergedAttrs=bn(u.mergedAttrs,u.attrs),p}function _p(r,i,u,h,p,y){for(let Y=0;Y<h.length;Y++)Qi(wa(u,i),r,h[Y].type);!function Og(r,i,u){r.flags|=1,r.directiveStart=i,r.directiveEnd=i+u,r.providerIndexes=i}(u,r.data.length,h.length);for(let Y=0;Y<h.length;Y++){const de=h[Y];de.providersResolver&&de.providersResolver(de)}let S=!1,P=!1,$=df(r,i,h.length,null);for(let Y=0;Y<h.length;Y++){const de=h[Y];u.mergedAttrs=bn(u.mergedAttrs,de.hostAttrs),Ep(r,u,i,$,de),Zm($,de,p),null!==de.contentQueries&&(u.flags|=4),(null!==de.hostBindings||null!==de.hostAttrs||0!==de.hostVars)&&(u.flags|=64);const $e=de.type.prototype;!S&&($e.ngOnChanges||$e.ngOnInit||$e.ngDoCheck)&&((r.preOrderHooks||(r.preOrderHooks=[])).push(u.index),S=!0),!P&&($e.ngOnChanges||$e.ngDoCheck)&&((r.preOrderCheckHooks||(r.preOrderCheckHooks=[])).push(u.index),P=!0),$++}!function sc(r,i,u){const p=i.directiveEnd,y=r.data,S=i.attrs,P=[];let $=null,Y=null;for(let de=i.directiveStart;de<p;de++){const $e=y[de],yt=u?u.get($e):null,an=yt?yt.outputs:null;$=mp($e.inputs,de,$,yt?yt.inputs:null),Y=mp($e.outputs,de,Y,an);const Sn=null===$||null===S||mg(i)?null:Lg($,de,S);P.push(Sn)}null!==$&&($.hasOwnProperty("class")&&(i.flags|=8),$.hasOwnProperty("style")&&(i.flags|=16)),i.initialInputs=P,i.inputs=$,i.outputs=Y}(r,u,y)}function Zc(r,i,u){const h=u.directiveStart,p=u.directiveEnd,y=u.index,S=function su(){return re.lFrame.currentDirectiveIndex}();try{Ra(y);for(let P=h;P<p;P++){const $=r.data[P],Y=i[P];Ks(P),(null!==$.hostBindings||0!==$.hostVars||null!==$.hostAttrs)&&ff($,Y)}}finally{Ra(-1),Ks(S)}}function ff(r,i){null!==r.hostBindings&&r.hostBindings(1,i)}function Bl(r,i,u){i.componentOffset=u,(r.components||(r.components=[])).push(i.index)}function Zm(r,i,u){if(u){if(i.exportAs)for(let h=0;h<i.exportAs.length;h++)u[i.exportAs[h]]=r;es(i)&&(u[""]=r)}}function Ep(r,i,u,h,p){r.data[h]=p;const y=p.factory||(p.factory=yi(p.type)),S=new pr(y,es(p),_h);r.blueprint[h]=S,u[h]=S,function bh(r,i,u,h,p){const y=p.hostBindings;if(y){let S=r.hostBindingOpCodes;null===S&&(S=r.hostBindingOpCodes=[]);const P=~i.index;(function Pg(r){let i=r.length;for(;i>0;){const u=r[--i];if("number"==typeof u&&u<0)return u}return 0})(S)!=P&&S.push(P),S.push(u,h,y)}}(r,i,h,df(r,u,p.hostVars,si),p)}function kg(r,i,u,h,p,y,S){if(null==y)r.removeAttribute(i,p,u);else{const P=null==S?fe(y):S(y,h||"",p);r.setAttribute(i,p,P,u)}}function Fg(r,i,u,h,p,y){const S=y[i];if(null!==S){const P=h.setInput;for(let $=0;$<S.length;){const Y=S[$++],de=S[$++],$e=S[$++];null!==P?h.setInput(u,$e,Y,de):u[de]=$e}}}function Lg(r,i,u){let h=null,p=0;for(;p<u.length;){const y=u[p];if(0!==y)if(5!==y){if("number"==typeof y)break;if(r.hasOwnProperty(y)){null===h&&(h=[]);const S=r[y];for(let P=0;P<S.length;P+=2)if(S[P]===i){h.push(y,S[P+1],u[p+1]);break}}p+=2}else p+=2;else p+=4}return h}function pf(r,i,u,h){return[r,!0,!1,i,null,0,h,u,null,null]}function Dh(r,i){const u=Yi(i,r);if(ia(u)){const h=u[1];48&u[2]?Ih(h,u,h.template,u[8]):u[5]>0&&gf(u)}}function gf(r){for(let h=Pa(r);null!==h;h=ca(h))for(let p=10;p<h.length;p++){const y=h[p];if(ia(y))if(512&y[2]){const S=y[1];Ih(S,y,S.template,y[8])}else y[5]>0&&gf(y)}const u=r[1].components;if(null!==u)for(let h=0;h<u.length;h++){const p=Yi(u[h],r);ia(p)&&p[5]>0&&gf(p)}}function Sh(r,i){const u=Yi(i,r),h=u[1];(function oc(r,i){for(let u=i.length;u<r.blueprint.length;u++)i.push(r.blueprint[u])})(h,u),xg(h,u,u[8])}function Th(r,i){return r[13]?r[14][4]=i:r[13]=i,r[14]=i,i}function Qc(r){for(;r;){r[2]|=32;const i=Da(r);if(Ir(r)&&!i)return r;r=i}return null}function ac(r,i,u,h=!0){const p=i[10];p.begin&&p.begin();try{Ih(r,i,r.template,u)}catch(S){throw h&&Cp(i,S),S}finally{p.end&&p.end()}}function El(r,i,u){wo(0),i(r,u)}function Qm(r){return r[7]||(r[7]=[])}function wp(r){return r.cleanup||(r.cleanup=[])}function Cp(r,i){const u=r[9],h=u?u.get(Pd,null):null;h&&h.handleError(i)}function Ud(r,i,u,h,p){for(let y=0;y<u.length;){const S=u[y++],P=u[y++],$=i[S],Y=r.data[S];null!==Y.setInput?Y.setInput($,p,h,P):$[P]=p}}function mf(r,i,u){let h=u?r.styles:null,p=u?r.classes:null,y=0;if(null!==i)for(let S=0;S<i.length;S++){const P=i[S];"number"==typeof P?y=P:1==y?p=Ne(p,P):2==y&&(h=Ne(h,P+": "+i[++S]+";"))}u?r.styles=h:r.stylesWithoutHost=h,u?r.classes=p:r.classesWithoutHost=p}function Ah(r,i,u,h,p=!1){for(;null!==u;){const y=i[u.index];if(null!==y&&h.push(Bi(y)),ir(y))for(let P=10;P<y.length;P++){const $=y[P],Y=$[1].firstChild;null!==Y&&Ah($[1],$,Y,h)}const S=u.type;if(8&S)Ah(r,i,u.child,h);else if(32&S){const P=Id(u,i);let $;for(;$=P();)h.push($)}else if(16&S){const P=Jl(i,u);if(Array.isArray(P))h.push(...P);else{const $=Da(i[16]);Ah($[1],$,P,h,!0)}}u=p?u.projectionNext:u.next}return h}class Hd{constructor(i,u){this._lView=i,this._cdRefInjectingView=u,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const i=this._lView,u=i[1];return Ah(u,i,u.firstChild,[])}get context(){return this._lView[8]}set context(i){this._lView[8]=i}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const i=this._lView[3];if(ir(i)){const u=i[8],h=u?u.indexOf(this):-1;h>-1&&(nh(i,h),ce(u,h))}this._attachedToViewContainer=!1}Yl(this._lView[1],this._lView)}onDestroy(i){gp(this._lView[1],this._lView,null,i)}markForCheck(){Qc(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){ac(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Se(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function gl(r,i){Rc(r,i,i[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(i){if(this._attachedToViewContainer)throw new Se(902,!1);this._appRef=i}}class hy extends Hd{constructor(i){super(i),this._view=i}detectChanges(){const i=this._view;ac(i[1],i,i[8],!1)}checkNoChanges(){}get context(){return null}}class bp extends Uc{constructor(i){super(),this.ngModule=i}resolveComponentFactory(i){const u=mr(i);return new jd(u,this.ngModule)}}function Jm(r){const i=[];for(let u in r)r.hasOwnProperty(u)&&i.push({propName:r[u],templateName:u});return i}class $g{constructor(i,u){this.injector=i,this.parentInjector=u}get(i,u,h){h=Fe(h);const p=this.injector.get(i,Bo,h);return p!==Bo||u===Bo?p:this.parentInjector.get(i,u,h)}}class jd extends Ll{constructor(i,u){super(),this.componentDef=i,this.ngModule=u,this.componentType=i.type,this.selector=function ry(r){return r.map(ny).join(",")}(i.selectors),this.ngContentSelectors=i.ngContentSelectors?i.ngContentSelectors:[],this.isBoundToModule=!!u}get inputs(){return Jm(this.componentDef.inputs)}get outputs(){return Jm(this.componentDef.outputs)}create(i,u,h,p){var y;let S=(p=p||this.ngModule)instanceof Zu?p:null===(y=p)||void 0===y?void 0:y.injector;S&&null!==this.componentDef.getStandaloneInjector&&(S=this.componentDef.getStandaloneInjector(S)||S);const P=S?new $g(i,S):i,$=P.get(np,null);if(null===$)throw new Se(407,!1);const Y=P.get(zc,null),de=$.createRenderer(null,this.componentDef),$e=this.componentDef.selectors[0][0]||"div",yt=h?function hf(r,i,u){return r.selectRootElement(i,u===Ht.ShadowDom)}(de,h,this.componentDef.encapsulation):Wl(de,$e,function ev(r){const i=r.toLowerCase();return"svg"===i?"svg":"math"===i?"math":null}($e)),Vt=this.componentDef.onPush?288:272,an=Ch(0,null,null,1,0,null,null,null,null,null),Sn=cf(null,an,null,Vt,null,null,$,de,Y,P,null);let er,Ar;Ba(Sn);try{const Kr=this.componentDef;let yn,Ei=null;Kr.findHostDirectiveDefs?(yn=[],Ei=new Map,Kr.findHostDirectiveDefs(Kr,yn,Ei),yn.push(Kr)):yn=[Kr];const ao=function nv(r,i){const u=r[1];return r[22]=i,Bd(u,22,2,"#host",null)}(Sn,yt),ta=function fy(r,i,u,h,p,y,S,P){const $=p[1];!function rv(r,i,u,h){for(const p of r)i.mergedAttrs=bn(i.mergedAttrs,p.hostAttrs);null!==i.mergedAttrs&&(mf(i,i.mergedAttrs,!0),null!==u&&tc(h,u,i))}(h,r,i,S);const Y=y.createRenderer(i,u),de=cf(p,Vd(u),null,u.onPush?32:16,p[r.index],r,y,Y,P||null,null,null);return $.firstCreatePass&&Bl($,r,h.length-1),Th(p,de),p[r.index]=de}(ao,yt,Kr,yn,Sn,$,de);Ar=Eo(an,22),yt&&function Ug(r,i,u,h){if(h)mn(r,u,["ng-version",yu.full]);else{const{attrs:p,classes:y}=function iy(r){const i=[],u=[];let h=1,p=2;for(;h<r.length;){let y=r[h];if("string"==typeof y)2===p?""!==y&&i.push(y,r[++h]):8===p&&u.push(y);else{if(!_u(p))break;p=y}h++}return{attrs:i,classes:u}}(i.selectors[0]);p&&mn(r,u,p),y&&y.length>0&&gu(r,u,y.join(" "))}}(de,Kr,yt,h),void 0!==u&&function Hg(r,i,u){const h=r.projection=[];for(let p=0;p<i.length;p++){const y=u[p];h.push(null!=y?Array.from(y):null)}}(Ar,this.ngContentSelectors,u),er=function Vg(r,i,u,h,p,y){const S=Mt(),P=p[1],$=ns(S,p);_p(P,p,S,u,null,h);for(let de=0;de<u.length;de++)vo(Zs(p,P,S.directiveStart+de,S),p);Zc(P,p,S),$&&vo($,p);const Y=Zs(p,P,S.directiveStart+S.componentOffset,S);if(r[8]=p[8]=Y,null!==y)for(const de of y)de(Y,i);return Mg(P,S,r),Y}(ta,Kr,yn,Ei,Sn,[py]),xg(an,Sn,null)}finally{Il()}return new tv(this.componentType,er,Hc(Ar,Sn),Sn,Ar)}}class tv extends fg{constructor(i,u,h,p,y){super(),this.location=h,this._rootLView=p,this._tNode=y,this.instance=u,this.hostView=this.changeDetectorRef=new hy(p),this.componentType=i}setInput(i,u){const h=this._tNode.inputs;let p;if(null!==h&&(p=h[i])){const y=this._rootLView;Ud(y[1],y,p,i,u),yp(y,this._tNode.index)}}get injector(){return new _s(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(i){this.hostView.onDestroy(i)}}function py(){const r=Mt();X(L()[1],r)}function vf(r){let i=function Gd(r){return Object.getPrototypeOf(r.prototype).constructor}(r.type),u=!0;const h=[r];for(;i;){let p;if(es(r))p=i.\u0275cmp||i.\u0275dir;else{if(i.\u0275cmp)throw new Se(903,!1);p=i.\u0275dir}if(p){if(u){h.push(p);const S=r;S.inputs=yf(r.inputs),S.declaredInputs=yf(r.declaredInputs),S.outputs=yf(r.outputs);const P=p.hostBindings;P&&sv(r,P);const $=p.viewQuery,Y=p.contentQueries;if($&&jg(r,$),Y&&iv(r,Y),ve(r.inputs,p.inputs),ve(r.declaredInputs,p.declaredInputs),ve(r.outputs,p.outputs),es(p)&&p.data.animation){const de=r.data;de.animation=(de.animation||[]).concat(p.data.animation)}}const y=p.features;if(y)for(let S=0;S<y.length;S++){const P=y[S];P&&P.ngInherit&&P(r),P===vf&&(u=!1)}}i=Object.getPrototypeOf(i)}!function Dp(r){let i=0,u=null;for(let h=r.length-1;h>=0;h--){const p=r[h];p.hostVars=i+=p.hostVars,p.hostAttrs=bn(p.hostAttrs,u=bn(u,p.hostAttrs))}}(h)}function yf(r){return r===Tr?{}:r===pn?[]:r}function jg(r,i){const u=r.viewQuery;r.viewQuery=u?(h,p)=>{i(h,p),u(h,p)}:i}function iv(r,i){const u=r.contentQueries;r.contentQueries=u?(h,p,y)=>{i(h,p,y),u(h,p,y)}:i}function sv(r,i){const u=r.hostBindings;r.hostBindings=u?(h,p)=>{i(h,p),u(h,p)}:i}let Ju=null;function Jc(){if(!Ju){const r=xn.Symbol;if(r&&r.iterator)Ju=r.iterator;else{const i=Object.getOwnPropertyNames(Map.prototype);for(let u=0;u<i.length;++u){const h=i[u];"entries"!==h&&"size"!==h&&Map.prototype[h]===Map.prototype.entries&&(Ju=h)}}}return Ju}function xh(r){return!!Mh(r)&&(Array.isArray(r)||!(r instanceof Map)&&Jc()in r)}function Mh(r){return null!==r&&("function"==typeof r||"object"==typeof r)}function el(r,i,u){return r[i]=u}function ka(r,i,u){return!Object.is(r[i],u)&&(r[i]=u,!0)}function uc(r,i,u,h){const p=ka(r,i,u);return ka(r,i+1,h)||p}function Kg(r,i,u,h){const p=L();return ka(p,zo(),i)&&(k(),function Xu(r,i,u,h,p,y){const S=ns(r,i);kg(i[11],S,y,r.value,u,h,p)}(fi(),p,r,i,u,h)),Kg}function zd(r,i,u,h){return ka(r,zo(),u)?i+fe(u)+h:si}function Zg(r,i,u,h,p,y,S,P){const $=L(),Y=k(),de=r+22,$e=Y.firstCreatePass?function vy(r,i,u,h,p,y,S,P,$){const Y=i.consts,de=Bd(i,r,4,S||null,K(Y,P));Rg(i,u,de,K(Y,$)),X(i,de);const $e=de.tViews=Ch(2,de,h,p,y,i.directiveRegistry,i.pipeRegistry,null,i.schemas,Y);return null!==i.queries&&(i.queries.template(i,de),$e.queries=i.queries.embeddedTView(de)),de}(de,Y,$,i,u,h,p,y,S):Y.data[de];Zi($e,!1);const yt=$[11].createComment("");Gr(Y,$,yt,$e),vo(yt,$),Th($,$[de]=pf(yt,$,yt,$e)),Ti($e)&&$d(Y,$,$e),null!=S&&Eu($,$e,P)}function dc(r){return eo(function Po(){return re.lFrame.contextLView}(),22+r)}function $i(r,i,u){const h=L();return ka(h,zo(),i)&&wu(k(),fi(),h,r,i,h[11],u,!1),$i}function Op(r,i,u,h,p){const S=p?"class":"style";Ud(r,u,i.inputs[S],S,h)}function Nh(r,i,u,h){const p=L(),y=k(),S=22+r,P=p[11],$=p[S]=Wl(P,i,function Ui(){return re.lFrame.currentNamespace}()),Y=y.firstCreatePass?function fv(r,i,u,h,p,y,S){const P=i.consts,Y=Bd(i,r,2,p,K(P,y));return Rg(i,u,Y,K(P,S)),null!==Y.attrs&&mf(Y,Y.attrs,!1),null!==Y.mergedAttrs&&mf(Y,Y.mergedAttrs,!0),null!==i.queries&&i.queries.elementStart(i,Y),Y}(S,y,p,0,i,u,h):y.data[S];return Zi(Y,!0),tc(P,$,Y),32!=(32&Y.flags)&&Gr(y,p,$,Y),0===function Fn(){return re.lFrame.elementDepthCount}()&&vo($,p),function yr(){re.lFrame.elementDepthCount++}(),Ti(Y)&&($d(y,p,Y),Mg(y,Y,p)),null!==h&&Eu(p,Y),Nh}function nd(){let r=Mt();Ws()?ks():(r=r.parent,Zi(r,!1));const i=r;!function Br(){re.lFrame.elementDepthCount--}();const u=k();return u.firstCreatePass&&(X(u,r),gn(r)&&u.queries.elementEnd(r)),null!=i.classesWithoutHost&&function Qt(r){return 0!=(8&r.flags)}(i)&&Op(u,i,L(),i.classesWithoutHost,!0),null!=i.stylesWithoutHost&&function jr(r){return 0!=(16&r.flags)}(i)&&Op(u,i,L(),i.stylesWithoutHost,!1),nd}function kp(r,i,u,h){return Nh(r,i,u,h),nd(),kp}function As(r,i,u){const h=L(),p=k(),y=r+22,S=p.firstCreatePass?function Gs(r,i,u,h,p){const y=i.consts,S=K(y,h),P=Bd(i,r,8,"ng-container",S);return null!==S&&mf(P,S,!0),Rg(i,u,P,K(y,p)),null!==i.queries&&i.queries.elementStart(i,P),P}(y,p,h,i,u):p.data[y];Zi(S,!0);const P=h[y]=h[11].createComment("");return Gr(p,h,P,S),vo(P,h),Ti(S)&&($d(p,h,S),Mg(p,S,h)),null!=u&&Eu(h,S),As}function eu(){let r=Mt();const i=k();return Ws()?ks():(r=r.parent,Zi(r,!1)),i.firstCreatePass&&(X(i,r),gn(r)&&i.queries.elementEnd(r)),eu}function Fp(r,i,u){return As(r,i,u),eu(),Fp}function pv(){return L()}function Oh(r){return!!r&&"function"==typeof r.then}function Lp(r){return!!r&&"function"==typeof r.subscribe}const Bp=Lp;function $p(r,i,u,h){const p=L(),y=k(),S=Mt();return function yy(r,i,u,h,p,y,S){const P=Ti(h),Y=r.firstCreatePass&&wp(r),de=i[8],$e=Qm(i);let yt=!0;if(3&h.type||S){const Sn=ns(h,i),er=S?S(Sn):Sn,Ar=$e.length,Kr=S?Ei=>S(Bi(Ei[h.index])):h.index;let yn=null;if(!S&&P&&(yn=function kh(r,i,u,h){const p=r.cleanup;if(null!=p)for(let y=0;y<p.length-1;y+=2){const S=p[y];if(S===u&&p[y+1]===h){const P=i[7],$=p[y+2];return P.length>$?P[$]:null}"string"==typeof S&&(y+=2)}return null}(r,i,p,h.index)),null!==yn)(yn.__ngLastListenerFn__||yn).__ngNextListenerFn__=y,yn.__ngLastListenerFn__=y,yt=!1;else{y=mv(h,i,de,y,!1);const Ei=u.listen(er,p,y);$e.push(y,Ei),Y&&Y.push(p,Kr,Ar,Ar+1)}}else y=mv(h,i,de,y,!1);const Vt=h.outputs;let an;if(yt&&null!==Vt&&(an=Vt[p])){const Sn=an.length;if(Sn)for(let er=0;er<Sn;er+=2){const ao=i[an[er]][an[er+1]].subscribe(y),ta=$e.length;$e.push(y,ao),Y&&Y.push(p,h.index,ta,-(ta+1))}}}(y,p,p[11],S,r,i,h),$p}function gv(r,i,u,h){try{return!1!==u(h)}catch(p){return Cp(r,p),!1}}function mv(r,i,u,h,p){return function y(S){if(S===Function)return h;Qc(r.componentOffset>-1?Yi(r.index,i):i);let $=gv(i,0,h,S),Y=y.__ngNextListenerFn__;for(;Y;)$=gv(i,0,Y,S)&&$,Y=Y.__ngNextListenerFn__;return p&&!1===$&&(S.preventDefault(),S.returnValue=!1),$}}function rd(r=1){return function Ec(r){return(re.lFrame.contextLView=function il(r,i){for(;r>0;)i=i[15],r--;return i}(r,re.lFrame.contextLView))[8]}(r)}function _y(r,i){let u=null;const h=function Nm(r){const i=r.attrs;if(null!=i){const u=i.indexOf(5);if(0==(1&u))return i[u+1]}return null}(r);for(let p=0;p<i.length;p++){const y=i[p];if("*"!==y){if(null===h?vg(r,y,!0):op(h,y))return p}else u=p}return u}function vv(r){const i=L()[16][6];if(!i.projection){const h=i.projection=ot(r?r.length:1,null),p=h.slice();let y=i.child;for(;null!==y;){const S=r?_y(y,r):0;null!==S&&(p[S]?p[S].projectionNext=y:h[S]=y,p[S]=y),y=y.next}}}function Vp(r,i=0,u){const h=L(),p=k(),y=Bd(p,22+r,16,null,u||null);null===y.projection&&(y.projection=i),ks(),32!=(32&y.flags)&&function Ml(r,i,u){Rl(i[11],0,i,u,rh(r,u,i),Xh(u.parent||i[6],u,i))}(p,h,y)}function Ef(r,i,u){return wf(r,"",i,"",u),Ef}function wf(r,i,u,h,p){const y=L(),S=zd(y,i,u,h);return S!==si&&wu(k(),fi(),y,r,S,y[11],p,!1),wf}function Bh(r,i){return r<<17|i<<2}function hc(r){return r>>17&32767}function fc(r){return 2|r}function id(r){return(131068&r)>>2}function em(r,i){return-131069&r|i<<2}function zp(r){return 1|r}function _v(r,i,u,h,p){const y=r[u+1],S=null===i;let P=h?hc(y):id(y),$=!1;for(;0!==P&&(!1===$||S);){const de=r[P+1];nm(r[P],i)&&($=!0,r[P+1]=h?zp(de):fc(de)),P=h?hc(de):id(de)}$&&(r[u+1]=h?fc(y):zp(y))}function nm(r,i){return null===r||null==i||(Array.isArray(r)?r[1]:r)===i||!(!Array.isArray(r)||"string"!=typeof i)&&bi(r,i)>=0}const ea={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function rm(r){return r.substring(ea.key,ea.keyEnd)}function $s(r){return r.substring(ea.value,ea.valueEnd)}function by(r,i){const u=ea.textEnd;return u===i?-1:(i=ea.keyEnd=function wv(r,i,u){for(;i<u&&r.charCodeAt(i)>32;)i++;return i}(r,ea.key=i,u),pc(r,i,u))}function im(r,i){const u=ea.textEnd;let h=ea.key=pc(r,i,u);return u===h?-1:(h=ea.keyEnd=function n_(r,i,u){let h;for(;i<u&&(45===(h=r.charCodeAt(i))||95===h||(-33&h)>=65&&(-33&h)<=90||h>=48&&h<=57);)i++;return i}(r,h,u),h=Iv(r,h,u),h=ea.value=pc(r,h,u),h=ea.valueEnd=function r_(r,i,u){let h=-1,p=-1,y=-1,S=i,P=S;for(;S<u;){const $=r.charCodeAt(S++);if(59===$)return P;34===$||39===$?P=S=Cv(r,$,S,u):i===S-4&&85===y&&82===p&&76===h&&40===$?P=S=Cv(r,41,S,u):$>32&&(P=S),y=p,p=h,h=-33&$}return P}(r,h,u),Iv(r,h,u))}function Ev(r){ea.key=0,ea.keyEnd=0,ea.value=0,ea.valueEnd=0,ea.textEnd=r.length}function pc(r,i,u){for(;i<u&&r.charCodeAt(i)<=32;)i++;return i}function Iv(r,i,u,h){return(i=pc(r,i,u))<u&&i++,i}function Cv(r,i,u,h){let p=-1,y=u;for(;y<h;){const S=r.charCodeAt(y++);if(S==i&&92!==p)return y;p=92==S&&92===p?0:S}throw new Error}function bv(r,i,u){return La(r,i,u,!1),bv}function Yd(r,i){return La(r,i,null,!0),Yd}function tu(r){nu(sm,Cu,r,!1)}function Cu(r,i){for(let u=function xo(r){return Ev(r),im(r,pc(r,0,ea.textEnd))}(i);u>=0;u=im(i,u))sm(r,rm(i),$s(i))}function Vl(r){nu(Er,gc,r,!0)}function gc(r,i){for(let u=function Cy(r){return Ev(r),by(r,pc(r,0,ea.textEnd))}(i);u>=0;u=by(i,u))Er(r,rm(i),!0)}function La(r,i,u,h){const p=L(),y=k(),S=fo(2);y.firstUpdatePass&&Vh(y,r,S,h),i!==si&&ka(p,S,i)&&Ty(y,y.data[no()],p,p[11],r,p[S+1]=function am(r,i){return null==r||("string"==typeof i?r+=i:"object"==typeof r&&(r=Pe(A(r)))),r}(i,u),h,S)}function nu(r,i,u,h){const p=k(),y=fo(2);p.firstUpdatePass&&Vh(p,null,y,h);const S=L();if(u!==si&&ka(S,y,u)){const P=p.data[no()];if(Kp(P,h)&&!Dy(p,y)){let $=h?P.classesWithoutHost:P.stylesWithoutHost;null!==$&&(u=Ne($,u||"")),Op(p,P,S,u,h)}else!function om(r,i,u,h,p,y,S,P){p===si&&(p=pn);let $=0,Y=0,de=0<p.length?p[0]:null,$e=0<y.length?y[0]:null;for(;null!==de||null!==$e;){const yt=$<p.length?p[$+1]:void 0,Vt=Y<y.length?y[Y+1]:void 0;let Sn,an=null;de===$e?($+=2,Y+=2,yt!==Vt&&(an=$e,Sn=Vt)):null===$e||null!==de&&de<$e?($+=2,an=de):(Y+=2,an=$e,Sn=Vt),null!==an&&Ty(r,i,u,h,an,Sn,S,P),de=$<p.length?p[$]:null,$e=Y<y.length?y[Y]:null}}(p,P,S,S[11],S[y+1],S[y+1]=function Uh(r,i,u){if(null==u||""===u)return pn;const h=[],p=A(u);if(Array.isArray(p))for(let y=0;y<p.length;y++)r(h,p[y],!0);else if("object"==typeof p)for(const y in p)p.hasOwnProperty(y)&&r(h,y,p[y]);else"string"==typeof p&&i(h,p);return h}(r,i,u),h,y)}}function Dy(r,i){return i>=r.expandoStartIndex}function Vh(r,i,u,h){const p=r.data;if(null===p[u+1]){const y=p[no()],S=Dy(r,u);Kp(y,h)&&null===i&&!S&&(i=!1),i=function qp(r,i,u,h){const p=function as(r){const i=re.lFrame.currentDirectiveIndex;return-1===i?null:r[i]}(r);let y=h?i.residualClasses:i.residualStyles;if(null===p)0===(h?i.classBindings:i.styleBindings)&&(u=mc(u=sd(null,r,i,u,h),i.attrs,h),y=null);else{const S=i.directiveStylingLast;if(-1===S||r[S]!==p)if(u=sd(p,r,i,u,h),null===y){let $=function Dv(r,i,u){const h=u?i.classBindings:i.styleBindings;if(0!==id(h))return r[hc(h)]}(r,i,h);void 0!==$&&Array.isArray($)&&($=sd(null,r,i,$[1],h),$=mc($,i.attrs,h),function Cf(r,i,u,h){r[hc(u?i.classBindings:i.styleBindings)]=h}(r,i,h,$))}else y=function Sy(r,i,u){let h;const p=i.directiveEnd;for(let y=1+i.directiveStylingLast;y<p;y++)h=mc(h,r[y].hostAttrs,u);return mc(h,i.attrs,u)}(r,i,h)}return void 0!==y&&(h?i.residualClasses=y:i.residualStyles=y),u}(p,y,i,h),function wy(r,i,u,h,p,y){let S=y?i.classBindings:i.styleBindings,P=hc(S),$=id(S);r[h]=u;let de,Y=!1;if(Array.isArray(u)){const $e=u;de=$e[1],(null===de||bi($e,de)>0)&&(Y=!0)}else de=u;if(p)if(0!==$){const yt=hc(r[P+1]);r[h+1]=Bh(yt,P),0!==yt&&(r[yt+1]=em(r[yt+1],h)),r[P+1]=function Jg(r,i){return 131071&r|i<<17}(r[P+1],h)}else r[h+1]=Bh(P,0),0!==P&&(r[P+1]=em(r[P+1],h)),P=h;else r[h+1]=Bh($,0),0===P?P=h:r[$+1]=em(r[$+1],h),$=h;Y&&(r[h+1]=fc(r[h+1])),_v(r,de,h,!0),_v(r,de,h,!1),function Iy(r,i,u,h,p){const y=p?r.residualClasses:r.residualStyles;null!=y&&"string"==typeof i&&bi(y,i)>=0&&(u[h+1]=zp(u[h+1]))}(i,de,r,h,y),S=Bh(P,$),y?i.classBindings=S:i.styleBindings=S}(p,y,i,u,S,h)}}function sd(r,i,u,h,p){let y=null;const S=u.directiveEnd;let P=u.directiveStylingLast;for(-1===P?P=u.directiveStart:P++;P<S&&(y=i[P],h=mc(h,y.hostAttrs,p),y!==r);)P++;return null!==r&&(u.directiveStylingLast=P),h}function mc(r,i,u){const h=u?1:2;let p=-1;if(null!==i)for(let y=0;y<i.length;y++){const S=i[y];"number"==typeof S?p=S:p===h&&(Array.isArray(r)||(r=void 0===r?[]:["",r]),Er(r,S,!!u||i[++y]))}return void 0===r?null:r}function sm(r,i,u){Er(r,i,A(u))}function Ty(r,i,u,h,p,y,S,P){if(!(3&i.type))return;const $=r.data,Y=$[P+1],de=function tm(r){return 1==(1&r)}(Y)?Sv($,i,u,p,id(Y),S):void 0;Wp(de)||(Wp(y)||function $h(r){return 2==(2&r)}(Y)&&(y=Sv($,null,u,p,P,S)),function Gu(r,i,u,h,p){if(i)p?r.addClass(u,h):r.removeClass(u,h);else{let y=-1===h.indexOf("-")?void 0:Wo.DashCase;null==p?r.removeStyle(u,h,y):("string"==typeof p&&p.endsWith("!important")&&(p=p.slice(0,-10),y|=Wo.Important),r.setStyle(u,h,p,y))}}(h,S,jo(no(),u),p,y))}function Sv(r,i,u,h,p,y){const S=null===i;let P;for(;p>0;){const $=r[p],Y=Array.isArray($),de=Y?$[1]:$,$e=null===de;let yt=u[p+1];yt===si&&(yt=$e?pn:void 0);let Vt=$e?Ci(yt,h):de===h?yt:void 0;if(Y&&!Wp(Vt)&&(Vt=Ci($,h)),Wp(Vt)&&(P=Vt,S))return P;const an=r[p+1];p=S?hc(an):id(an)}if(null!==i){let $=y?i.residualClasses:i.residualStyles;null!=$&&(P=Ci($,h))}return P}function Wp(r){return void 0!==r}function Kp(r,i){return 0!=(r.flags&(i?8:16))}function um(r,i=""){const u=L(),h=k(),p=r+22,y=h.firstCreatePass?Bd(h,p,1,i,null):h.data[p],S=u[p]=Lo(u[11],i);Gr(h,u,S,y),Zi(y,!1)}function od(r){return bf("",r,""),od}function bf(r,i,u){const h=L(),p=zd(h,r,i,u);return p!==si&&function Qu(r,i,u){const h=jo(i,r);Sa(r[11],h,u)}(h,no(),p),bf}function Xp(r,i,u,h,p){nu(Er,gc,function Iu(r,i,u,h,p,y){const P=uc(r,vs(),u,p);return fo(2),P?i+fe(u)+h+fe(p)+y:si}(L(),r,i,u,h,p),!0)}function Ry(r,i,u){tu(zd(L(),r,i,u))}function d(r,i,u){const h=L();return ka(h,zo(),i)&&wu(k(),fi(),h,r,i,h[11],u,!0),d}const s=void 0;var g=["en",[["a","p"],["AM","PM"],s],[["AM","PM"],s,s],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],s,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],s,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",s,"{1} 'at' {0}",s],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function l(r){const u=Math.floor(Math.abs(r)),h=r.toString().replace(/^[^.]*\.?/,"").length;return 1===u&&0===h?1:5}];let E={};function z(r){const i=function _n(r){return r.toLowerCase().replace(/_/g,"-")}(r);let u=Le(i);if(u)return u;const h=i.split("-")[0];if(u=Le(h),u)return u;if("en"===h)return g;throw new Se(701,!1)}function ae(r){return z(r)[Tt.PluralCase]}function Le(r){return r in E||(E[r]=xn.ng&&xn.ng.common&&xn.ng.common.locales&&xn.ng.common.locales[r]),E[r]}var Tt=(()=>((Tt=Tt||{})[Tt.LocaleId=0]="LocaleId",Tt[Tt.DayPeriodsFormat=1]="DayPeriodsFormat",Tt[Tt.DayPeriodsStandalone=2]="DayPeriodsStandalone",Tt[Tt.DaysFormat=3]="DaysFormat",Tt[Tt.DaysStandalone=4]="DaysStandalone",Tt[Tt.MonthsFormat=5]="MonthsFormat",Tt[Tt.MonthsStandalone=6]="MonthsStandalone",Tt[Tt.Eras=7]="Eras",Tt[Tt.FirstDayOfWeek=8]="FirstDayOfWeek",Tt[Tt.WeekendRange=9]="WeekendRange",Tt[Tt.DateFormat=10]="DateFormat",Tt[Tt.TimeFormat=11]="TimeFormat",Tt[Tt.DateTimeFormat=12]="DateTimeFormat",Tt[Tt.NumberSymbols=13]="NumberSymbols",Tt[Tt.NumberFormats=14]="NumberFormats",Tt[Tt.CurrencyCode=15]="CurrencyCode",Tt[Tt.CurrencySymbol=16]="CurrencySymbol",Tt[Tt.CurrencyName=17]="CurrencyName",Tt[Tt.Currencies=18]="Currencies",Tt[Tt.Directionality=19]="Directionality",Tt[Tt.PluralCase=20]="PluralCase",Tt[Tt.ExtraData=21]="ExtraData",Tt))();const En=["zero","one","two","few","many"],Hn="en-US",Zn={marker:"element"},zr={marker:"ICU"};var Wr=(()=>((Wr=Wr||{})[Wr.SHIFT=2]="SHIFT",Wr[Wr.APPEND_EAGERLY=1]="APPEND_EAGERLY",Wr[Wr.COMMENT=2]="COMMENT",Wr))();let tl=Hn;function ru(r){(function Ot(r,i){null==r&&pt(i,r,null,"!=")})(r,"Expected localeId to be defined"),"string"==typeof r&&(tl=r.toLowerCase().replace(/_/g,"-"))}function _o(r,i,u){const h=i.insertBeforeIndex,p=Array.isArray(h)?h[0]:h;return null===p?da(r,0,u):Bi(u[p])}function za(r,i,u,h,p){const y=i.insertBeforeIndex;if(Array.isArray(y)){let S=h,P=null;if(3&i.type||(P=S,S=p),null!==S&&-1===i.componentOffset)for(let $=1;$<y.length;$++)Hu(r,S,u[y[$]],P,!1)}}function oi(r,i){if(r.push(i),r.length>1)for(let u=r.length-2;u>=0;u--){const h=r[u];xa(h)||rs(h,i)&&null===Du(h)&&ad(h,i.index)}}function xa(r){return!(64&r.type)}function rs(r,i){return xa(i)||r.index>i.index}function Du(r){const i=r.insertBeforeIndex;return Array.isArray(i)?i[0]:i}function ad(r,i){const u=r.insertBeforeIndex;Array.isArray(u)?u[0]=i:(ih(_o,za),r.insertBeforeIndex=i)}function iu(r,i){const u=r.data[i];return null===u||"string"==typeof u?null:u.hasOwnProperty("currentCaseLViewIndex")?u:u.value}function tg(r,i,u){const h=Ag(r,u,64,null,null);return oi(i,h),h}function Rv(r,i){const u=i[r.currentCaseLViewIndex];return null===u?u:u<0?~u:u}function B_(r){return r>>>17}function $_(r){return(131070&r)>>>1}let pm=0,Rf=0;function Pv(r,i,u,h){const p=u[11];let S,y=null;for(let P=0;P<i.length;P++){const $=i[P];if("string"==typeof $){const Y=i[++P];null===u[Y]&&(u[Y]=Lo(p,$))}else if("number"==typeof $)switch(1&$){case 0:const Y=B_($);let de,$e;if(null===y&&(y=Y,S=Mc(p,h)),Y===y?(de=h,$e=S):(de=null,$e=Bi(u[Y])),null!==$e){const Sn=$_($);Hu(p,$e,u[Sn],de,!1);const Ar=iu(r,Sn);if(null!==Ar&&"object"==typeof Ar){const Kr=Rv(Ar,u);null!==Kr&&Pv(r,Ar.create[Kr],u,u[Ar.anchorIdx])}}break;case 1:const Vt=i[++P],an=i[++P];kg(p,jo($>>>1,u),null,null,Vt,an,null)}else switch($){case zr:const Y=i[++P],de=i[++P];null===u[de]&&vo(u[de]=Uu(p,Y),u);break;case Zn:const $e=i[++P],yt=i[++P];null===u[yt]&&vo(u[yt]=Wl(p,$e,null),u)}}}function u_(r,i,u,h,p){for(let y=0;y<u.length;y++){const S=u[y],P=u[++y];if(S&p){let $="";for(let Y=y+1;Y<=y+P;Y++){const de=u[Y];if("string"==typeof de)$+=de;else if("number"==typeof de)if(de<0)$+=fe(i[h-de]);else{const $e=de>>>2;switch(3&de){case 1:const yt=u[++Y],Vt=u[++Y],an=r.data[$e];"string"==typeof an?kg(i[11],i[$e],null,an,yt,$,Vt):wu(r,an,i,yt,$,i[11],Vt,!1);break;case 0:const Sn=i[$e];null!==Sn&&Sa(i[11],Sn,$);break;case 2:c_(r,iu(r,$e),i,$);break;case 3:l_(r,iu(r,$e),h,i)}}}}else{const $=u[y+1];if($>0&&3==(3&$)){const de=iu(r,$>>>2);i[de.currentCaseLViewIndex]<0&&l_(r,de,h,i)}}y+=P}}function l_(r,i,u,h){let p=h[i.currentCaseLViewIndex];if(null!==p){let y=pm;p<0&&(p=h[i.currentCaseLViewIndex]=~p,y=-1),u_(r,h,i.update[p],u,y)}}function c_(r,i,u,h){const p=function U_(r,i){let u=r.cases.indexOf(i);if(-1===u)switch(r.type){case 1:{const h=function Un(r,i){const u=ae(i)(parseInt(r,10)),h=En[u];return void 0!==h?h:"other"}(i,function bu(){return tl}());u=r.cases.indexOf(h),-1===u&&"other"!==h&&(u=r.cases.indexOf("other"));break}case 0:u=r.cases.indexOf("other")}return-1===u?null:u}(i,h);if(Rv(i,u)!==p&&(mm(r,i,u),u[i.currentCaseLViewIndex]=null===p?null:~p,null!==p)){const S=u[i.anchorIdx];S&&Pv(r,i.create[p],u,S)}}function mm(r,i,u){let h=Rv(i,u);if(null!==h){const p=i.remove[h];for(let y=0;y<p.length;y++){const S=p[y];if(S>0){const P=jo(S,u);null!==P&&ec(u[11],P)}else mm(r,iu(r,~S),u)}}}function d_(){const r=[];let u,h,i=-1;function y(P,$){i=0;const Y=Rv(P,$);h=null!==Y?P.remove[Y]:pn}function S(){if(i<h.length){const P=h[i++];return P>0?u[P]:(r.push(i,h),y(u[1].data[~P],u),S())}return 0===r.length?null:(h=r.pop(),i=r.pop(),S())}return function p(P,$){for(u=$;r.length;)r.pop();return y(P.value,$),S}}const zh=/\ufffd(\d+):?\d*\ufffd/gi,z_=/\ufffd(\d+)\ufffd/,Nv=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,Pf=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,Ly=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,Nf=/\uE500/g;function h_(r,i,u,h,p,y,S){const P=df(r,h,1,null);let $=P<<Wr.SHIFT,Y=Ri();i===Y&&(Y=null),null===Y&&($|=Wr.APPEND_EAGERLY),S&&($|=Wr.COMMENT,function eh(r){void 0===Za&&(Za=r())}(d_)),p.push($,null===y?"":y);const de=Ag(r,P,S?32:1,null===y?"":y,null);oi(u,de);const $e=de.index;return Zi(de,!1),null!==Y&&i!==Y&&function Zd(r,i){let u=r.insertBeforeIndex;null===u?(ih(_o,za),u=r.insertBeforeIndex=[null,i]):(function ye(r,i,u){r!=i&&pt(u,r,i,"==")}(Array.isArray(u),!0,"Expecting array here"),u.push(i))}(Y,$e),de}function K_(r,i,u,h,p,y,S){const P=S.match(zh),$=h_(r,i,u,y,h,P?null:S,!1);P&&qh(p,S,$.index,null,0,null)}function qh(r,i,u,h,p,y){const S=r.length,P=S+1;r.push(null,null);const $=S+2,Y=i.split(zh);let de=0;for(let $e=0;$e<Y.length;$e++){const yt=Y[$e];if(1&$e){const Vt=p+parseInt(yt,10);r.push(-1-Vt),de|=By(Vt)}else""!==yt&&r.push(yt)}return r.push(u<<2|(h?1:0)),h&&r.push(h,y),r[S]=de,r[P]=r.length-$,de}function By(r){return 1<<Math.min(r,31)}function f_(r){let i,y,u="",h=0,p=!1;for(;null!==(i=Pf.exec(r));)p?i[0]===`\ufffd/*${y}\ufffd`&&(h=i.index,p=!1):(u+=r.substring(h,i.index+i[0].length),y=i[1],p=!0);return u+=r.slice(h),u}function Ov(r,i,u,h,p,y){let S=0;const P={type:p.type,currentCaseLViewIndex:df(r,i,1,null),anchorIdx:y,cases:[],create:[],remove:[],update:[]};(function v_(r,i,u){r.push(By(i.mainBinding),2,-1-i.mainBinding,u<<2|2)})(u,p,y),function ud(r,i,u){const h=r.data[i];null===h?r.data[i]=u:h.value=u}(r,y,P);const $=p.values;for(let Y=0;Y<$.length;Y++){const de=$[Y],$e=[];for(let yt=0;yt<de.length;yt++){const Vt=de[yt];if("string"!=typeof Vt){const an=$e.push(Vt)-1;de[yt]=`\x3c!--\ufffd${an}\ufffd--\x3e`}}S=X_(r,P,i,u,h,p.cases[Y],de.join(""),$e)|S}S&&function y_(r,i,u){r.push(i,1,u<<2|3)}(u,S,y)}function g_(r){const i=[],u=[];let h=1,p=0;const y=$y(r=r.replace(Nv,function(S,P,$){return h="select"===$?0:1,p=parseInt(P.slice(1),10),""}));for(let S=0;S<y.length;){let P=y[S++].trim();1===h&&(P=P.replace(/\s*(?:=)?(\w+)\s*/,"$1")),P.length&&i.push(P);const $=$y(y[S++]);i.length>u.length&&u.push($)}return{type:h,mainBinding:p,cases:i,values:u}}function $y(r){if(!r)return[];let i=0;const u=[],h=[],p=/[{}]/g;let y;for(p.lastIndex=0;y=p.exec(r);){const P=y.index;if("}"==y[0]){if(u.pop(),0==u.length){const $=r.substring(i,P);Nv.test($)?h.push(g_($)):h.push($),i=P+1}}else{if(0==u.length){const $=r.substring(i,P);h.push($),i=P+1}u.push("{")}}const S=r.substring(i);return h.push(S),h}function X_(r,i,u,h,p,y,S,P){const $=[],Y=[],de=[];i.cases.push(y),i.create.push($),i.remove.push(Y),i.update.push(de);const yt=Dr(Nl()).getInertBodyElement(S),Vt=cg(yt)||yt;return Vt?Vy(r,i,u,h,$,Y,de,Vt,p,P,0):0}function Vy(r,i,u,h,p,y,S,P,$,Y,de){let $e=0,yt=P.firstChild;for(;yt;){const Vt=df(r,u,1,null);switch(yt.nodeType){case Node.ELEMENT_NODE:const an=yt,Sn=an.tagName.toLowerCase();if(kc.hasOwnProperty(Sn)){kv(p,Zn,Sn,$,Vt),r.data[Vt]=Sn;const yn=an.attributes;for(let Ei=0;Ei<yn.length;Ei++){const ao=yn.item(Ei),ta=ao.name.toLowerCase();ao.value.match(zh)?ug.hasOwnProperty(ta)&&qh(S,ao.value,Vt,ao.name,0,Fc[ta]?mu:null):__(p,Vt,ao)}$e=Vy(r,i,u,h,p,y,S,yt,Vt,Y,de+1)|$e,Uy(y,Vt,de)}break;case Node.TEXT_NODE:const er=yt.textContent||"",Ar=er.match(zh);kv(p,null,Ar?"":er,$,Vt),Uy(y,Vt,de),Ar&&($e=qh(S,er,Vt,null,0,null)|$e);break;case Node.COMMENT_NODE:const Kr=z_.exec(yt.textContent||"");if(Kr){const Ei=Y[parseInt(Kr[1],10)];kv(p,zr,"",$,Vt),Ov(r,u,h,$,Ei,Vt),m_(y,Vt,de)}}yt=yt.nextSibling}return $e}function Uy(r,i,u){0===u&&r.push(i)}function m_(r,i,u){0===u&&(r.push(~i),r.push(i))}function kv(r,i,u,h,p){null!==i&&r.push(i),r.push(u,p,function V_(r,i,u){return r|i<<17|u<<1}(0,h,p))}function __(r,i,u){r.push(i<<1|1,u.name,u.value)}function Lv(r,i,u=-1){const h=k(),p=L(),y=22+r,S=K(h.consts,i),P=Ri();h.firstCreatePass&&function W_(r,i,u,h,p,y){const S=Ri(),P=[],$=[],Y=[[]];p=function p_(r,i){if(function Z_(r){return-1===r}(i))return f_(r);{const u=r.indexOf(`:${i}\ufffd`)+2+i.toString().length,h=r.search(new RegExp(`\ufffd\\/\\*\\d+:${i}\ufffd`));return f_(r.substring(u,h))}}(p,y);const de=function q_(r){return r.replace(Nf," ")}(p).split(Ly);for(let $e=0;$e<de.length;$e++){let yt=de[$e];if(0==(1&$e)){const Vt=$y(yt);for(let an=0;an<Vt.length;an++){let Sn=Vt[an];if(0==(1&an)){const er=Sn;""!==er&&K_(r,S,Y[0],P,$,u,er)}else{const er=Sn;if("object"!=typeof er)throw new Error(`Unable to parse ICU expression in "${p}" message.`);Ov(r,u,$,i,er,h_(r,S,Y[0],u,P,"",!0).index)}}}else{const Vt=47===yt.charCodeAt(0),Sn=(yt.charCodeAt(Vt?1:0),22+Number.parseInt(yt.substring(Vt?2:1)));if(Vt)Y.shift(),Zi(Ri(),!1);else{const er=tg(r,Y[0],Sn);Y.unshift([]),Zi(er,!0)}}}r.data[h]={create:P,update:$}}(h,null===P?0:P.index,p,y,S,u);const $=h.data[y],de=Zl(h,P===p[6]?null:P,p);(function gm(r,i,u,h){const p=r[11];for(let y=0;y<i.length;y++){const S=i[y++],P=i[y],$=(S&Wr.COMMENT)===Wr.COMMENT,Y=(S&Wr.APPEND_EAGERLY)===Wr.APPEND_EAGERLY,de=S>>>Wr.SHIFT;let $e=r[de];null===$e&&($e=r[de]=$?p.createComment(P):Lo(p,P)),Y&&null!==u&&Hu(p,u,$e,h,!1)}})(p,$.create,de,P&&8&P.type?p[P.index]:null),rl(!0)}function Gy(r,i,u){Lv(r,i,u),function I_(){rl(!1)}()}function Bv(r){return function o_(r){r&&(pm|=1<<Math.min(Rf,31)),Rf++}(ka(L(),zo(),r)),Bv}function b_(r){!function a_(r,i,u){if(Rf>0){const h=r.data[u];u_(r,i,Array.isArray(h)?h:h.update,vs()-Rf-1,pm)}pm=0,Rf=0}(k(),L(),r+22)}function zy(r,i,u,h,p){if(r=me(r),Array.isArray(r))for(let y=0;y<r.length;y++)zy(r[y],i,u,h,p);else{const y=k(),S=L();let P=Md(r)?r:me(r.provide),$=Fl(r);const Y=Mt(),de=1048575&Y.providerIndexes,$e=Y.directiveStart,yt=Y.providerIndexes>>20;if(Md(r)||!r.multi){const Vt=new pr($,p,_h),an=$v(P,i,p?de:de+yt,$e);-1===an?(Qi(wa(Y,S),y,P),qy(y,r,i.length),i.push(P),Y.directiveStart++,Y.directiveEnd++,p&&(Y.providerIndexes+=1048576),u.push(Vt),S.push(Vt)):(u[an]=Vt,S[an]=Vt)}else{const Vt=$v(P,i,de+yt,$e),an=$v(P,i,de,de+yt),Sn=Vt>=0&&u[Vt],er=an>=0&&u[an];if(p&&!er||!p&&!Sn){Qi(wa(Y,S),y,P);const Ar=function n(r,i,u,h,p){const y=new pr(r,u,_h);return y.multi=[],y.index=i,y.componentProviders=0,Wy(y,p,h&&!u),y}(p?o:t0,u.length,p,h,$);!p&&er&&(u[an].providerFactory=Ar),qy(y,r,i.length,0),i.push(P),Y.directiveStart++,Y.directiveEnd++,p&&(Y.providerIndexes+=1048576),u.push(Ar),S.push(Ar)}else qy(y,r,Vt>-1?Vt:an,Wy(u[p?an:Vt],$,!p&&h));!p&&h&&er&&u[an].componentProviders++}}}function qy(r,i,u,h){const p=Md(i),y=function ch(r){return!!r.useClass}(i);if(p||y){const $=(y?me(i.useClass):i).prototype.ngOnDestroy;if($){const Y=r.destroyHooks||(r.destroyHooks=[]);if(!p&&i.multi){const de=Y.indexOf(u);-1===de?Y.push(u,[h,$]):Y[de+1].push(h,$)}else Y.push(u,$)}}}function Wy(r,i,u){return u&&r.componentProviders++,r.multi.push(i)-1}function $v(r,i,u,h){for(let p=u;p<h;p++)if(i[p]===r)return p;return-1}function t0(r,i,u,h){return e(this.multi,[])}function o(r,i,u,h){const p=this.multi;let y;if(this.providerFactory){const S=this.providerFactory.componentProviders,P=Zs(u,u[1],this.providerFactory.index,h);y=P.slice(0,S),e(p,y);for(let $=S;$<P.length;$++)y.push(P[$])}else y=[],e(p,y);return y}function e(r,i){for(let u=0;u<r.length;u++)i.push((0,r[u])());return i}function a(r,i=[]){return u=>{u.providersResolver=(h,p)=>function S_(r,i,u){const h=k();if(h.firstCreatePass){const p=es(r);zy(u,h.data,h.blueprint,p,!0),zy(i,h.data,h.blueprint,p,!1)}}(h,p?p(r):r,i)}}class f{}class v{}function w(r,i){return new W(r,null!=i?i:null)}class W extends f{constructor(i,u){super(),this._parent=u,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new bp(this);const h=Jr(i);this._bootstrapComponents=yl(h.bootstrap),this._r3Injector=Lm(i,u,[{provide:f,useValue:this},{provide:Uc,useValue:this.componentFactoryResolver}],Pe(i),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(i)}get injector(){return this._r3Injector}destroy(){const i=this._r3Injector;!i.destroyed&&i.destroy(),this.destroyCbs.forEach(u=>u()),this.destroyCbs=null}onDestroy(i){this.destroyCbs.push(i)}}class Q extends v{constructor(i){super(),this.moduleType=i}create(i){return new W(this.moduleType,i)}}class Ee extends f{constructor(i,u,h){super(),this.componentFactoryResolver=new bp(this),this.instance=null;const p=new Pi([...i,{provide:f,useValue:this},{provide:Uc,useValue:this.componentFactoryResolver}],u||Vc(),h,new Set(["environment"]));this.injector=p,p.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(i){this.injector.onDestroy(i)}}function et(r,i,u=null){return new Ee(r,i,u).injector}let Ft=(()=>{class r{constructor(u){this._injector=u,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(u){if(!u.standalone)return null;if(!this.cachedInjectors.has(u.id)){const h=Lc(0,u.type),p=h.length>0?et([h],this._injector,`Standalone[${u.type.name}]`):null;this.cachedInjectors.set(u.id,p)}return this.cachedInjectors.get(u.id)}ngOnDestroy(){try{for(const u of this.cachedInjectors.values())null!==u&&u.destroy()}finally{this.cachedInjectors.clear()}}}return r.\u0275prov=Kt({token:r,providedIn:"environment",factory:()=>new r(sn(Zu))}),r})();function tn(r){r.getStandaloneInjector=i=>i.get(Ft).getOrCreateStandaloneInjector(r)}function R0(r,i,u){const h=zi()+r,p=L();return p[h]===si?el(p,h,u?i.call(u):i()):function Rh(r,i){return r[i]}(p,h)}function P0(r,i,u,h){return k0(L(),zi(),r,i,u,h)}function N0(r,i,u,h,p){return function F0(r,i,u,h,p,y,S){const P=i+u;return uc(r,P,p,y)?el(r,P+2,S?h.call(S,p,y):h(p,y)):Ky(r,P+2)}(L(),zi(),r,i,u,h,p)}function O0(r,i,u,h,p,y){return function L0(r,i,u,h,p,y,S,P){const $=i+u;return function xp(r,i,u,h,p){const y=uc(r,i,u,h);return ka(r,i+2,p)||y}(r,$,p,y,S)?el(r,$+3,P?h.call(P,p,y,S):h(p,y,S)):Ky(r,$+3)}(L(),zi(),r,i,u,h,p,y)}function Ky(r,i){const u=r[i];return u===si?void 0:u}function k0(r,i,u,h,p,y){const S=i+u;return ka(r,S,p)?el(r,S+1,y?h.call(y,p):h(p)):Ky(r,S+1)}function V0(r,i){const u=k();let h;const p=r+22;u.firstCreatePass?(h=function ow(r,i){if(i)for(let u=i.length-1;u>=0;u--){const h=i[u];if(r===h.name)return h}}(i,u.pipeRegistry),u.data[p]=h,h.onDestroy&&(u.destroyHooks||(u.destroyHooks=[])).push(p,h.onDestroy)):h=u.data[p];const y=h.factory||(h.factory=yi(h.type)),S=vr(_h);try{const P=Ea(!1),$=y();return Ea(P),function Xg(r,i,u,h){u>=r.data.length&&(r.data[u]=null,r.blueprint[u]=null),i[u]=h}(u,L(),p,$),$}finally{vr(S)}}function U0(r,i,u){const h=r+22,p=L(),y=eo(p,h);return function Yy(r,i){return r[1].data[i].pure}(p,h)?k0(p,zi(),i,y.transform,u,y):y.transform(u)}function n0(r){return i=>{setTimeout(r,void 0,i)}}const Kh=class dw extends c.x{constructor(i=!1){super(),this.__isAsync=i}emit(i){super.next(i)}subscribe(i,u,h){let p=i,y=u||(()=>null),S=h;if(i&&"object"==typeof i){var P,$,Y;const $e=i;p=null===(P=$e.next)||void 0===P?void 0:P.bind($e),y=null===($=$e.error)||void 0===$?void 0:$.bind($e),S=null===(Y=$e.complete)||void 0===Y?void 0:Y.bind($e)}this.__isAsync&&(y=n0(y),p&&(p=n0(p)),S&&(S=n0(S)));const de=super.subscribe({next:p,error:y,complete:S});return i instanceof J.w0&&i.add(de),de}};function hw(){return this._results[Jc()]()}class r0{constructor(i=!1){this._emitDistinctChangesOnly=i,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const u=Jc(),h=r0.prototype;h[u]||(h[u]=hw)}get changes(){return this._changes||(this._changes=new Kh)}get(i){return this._results[i]}map(i){return this._results.map(i)}filter(i){return this._results.filter(i)}find(i){return this._results.find(i)}reduce(i,u){return this._results.reduce(i,u)}forEach(i){this._results.forEach(i)}some(i){return this._results.some(i)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(i,u){const h=this;h.dirty=!1;const p=function N(r){return r.flat(Number.POSITIVE_INFINITY)}(i);(this._changesDetected=!function I(r,i,u){if(r.length!==i.length)return!1;for(let h=0;h<r.length;h++){let p=r[h],y=i[h];if(u&&(p=u(p),y=u(y)),y!==p)return!1}return!0}(h._results,p,u))&&(h._results=p,h.length=p.length,h.last=p[this.length-1],h.first=p[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let Zy=(()=>{class r{}return r.__NG_ELEMENT_ID__=gw,r})();const fw=Zy,pw=class extends fw{constructor(i,u,h){super(),this._declarationLView=i,this._declarationTContainer=u,this.elementRef=h}createEmbeddedView(i,u){const h=this._declarationTContainer.tViews,p=cf(this._declarationLView,h,i,16,null,h.declTNode,null,null,null,null,u||null);p[17]=this._declarationLView[this._declarationTContainer.index];const S=this._declarationLView[19];return null!==S&&(p[19]=S.createEmbeddedView(h)),xg(h,p,i),new Hd(p)}};function gw(){return T_(Mt(),L())}function T_(r,i){return 4&r.type?new pw(i,r,Hc(r,i)):null}let A_=(()=>{class r{}return r.__NG_ELEMENT_ID__=mw,r})();function mw(){return G0(Mt(),L())}const vw=A_,H0=class extends vw{constructor(i,u,h){super(),this._lContainer=i,this._hostTNode=u,this._hostLView=h}get element(){return Hc(this._hostTNode,this._hostLView)}get injector(){return new _s(this._hostTNode,this._hostLView)}get parentInjector(){const i=Wa(this._hostTNode,this._hostLView);if(rn(i)){const u=Cl(i,this._hostLView),h=ls(i);return new _s(u[1].data[h+8],u)}return new _s(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(i){const u=j0(this._lContainer);return null!==u&&u[i]||null}get length(){return this._lContainer.length-10}createEmbeddedView(i,u,h){let p,y;"number"==typeof h?p=h:null!=h&&(p=h.index,y=h.injector);const S=i.createEmbeddedView(u||{},y);return this.insert(S,p),S}createComponent(i,u,h,p,y){const S=i&&!function M(r){return"function"==typeof r}(i);let P;if(S)P=u;else{const $e=u||{};P=$e.index,h=$e.injector,p=$e.projectableNodes,y=$e.environmentInjector||$e.ngModuleRef}const $=S?i:new jd(mr(i)),Y=h||this.parentInjector;if(!y&&null==$.ngModule){const yt=(S?Y:this.parentInjector).get(Zu,null);yt&&(y=yt)}const de=$.create(Y,p,void 0,y);return this.insert(de.hostView,P),de}insert(i,u){const h=i._lView,p=h[1];if(function D(r){return ir(r[3])}(h)){const de=this.indexOf(i);if(-1!==de)this.detach(de);else{const $e=h[3],yt=new H0($e,$e[6],$e[3]);yt.detach(yt.indexOf(i))}}const y=this._adjustIndex(u),S=this._lContainer;!function Tl(r,i,u,h){const p=10+h,y=u.length;h>0&&(u[p-1][4]=i),h<y-10?(i[4]=u[p],ne(u,10+h,i)):(u.push(i),i[4]=null),i[3]=u;const S=i[17];null!==S&&u!==S&&function Kl(r,i){const u=r[9];i[16]!==i[3][3][16]&&(r[2]=!0),null===u?r[9]=[i]:u.push(i)}(S,i);const P=i[19];null!==P&&P.insertView(r),i[2]|=64}(p,h,S,y);const P=fs(y,S),$=h[11],Y=Mc($,S[7]);return null!==Y&&function pl(r,i,u,h,p,y){h[0]=p,h[6]=i,Rc(r,h,u,1,p,y)}(p,S[6],$,h,Y,P),i.attachToViewContainerRef(),ne(s0(S),y,i),i}move(i,u){return this.insert(i,u)}indexOf(i){const u=j0(this._lContainer);return null!==u?u.indexOf(i):-1}remove(i){const u=this._adjustIndex(i,-1),h=nh(this._lContainer,u);h&&(ce(s0(this._lContainer),u),Yl(h[1],h))}detach(i){const u=this._adjustIndex(i,-1),h=nh(this._lContainer,u);return h&&null!=ce(s0(this._lContainer),u)?new Hd(h):null}_adjustIndex(i,u=0){return null==i?this.length+u:i}};function j0(r){return r[8]}function s0(r){return r[8]||(r[8]=[])}function G0(r,i){let u;const h=i[r.index];if(ir(h))u=h;else{let p;if(8&r.type)p=Bi(h);else{const y=i[11];p=y.createComment("");const S=ns(r,i);Hu(y,Mc(y,S),p,function xl(r,i){return r.nextSibling(i)}(y,S),!1)}i[r.index]=u=pf(h,i,p,r),Th(i,u)}return new H0(u,r,i)}class o0{constructor(i){this.queryList=i,this.matches=null}clone(){return new o0(this.queryList)}setDirty(){this.queryList.setDirty()}}class a0{constructor(i=[]){this.queries=i}createEmbeddedView(i){const u=i.queries;if(null!==u){const h=null!==i.contentQueries?i.contentQueries[0]:u.length,p=[];for(let y=0;y<h;y++){const S=u.getByIndex(y);p.push(this.queries[S.indexInDeclarationView].clone())}return new a0(p)}return null}insertView(i){this.dirtyQueriesWithMatches(i)}detachView(i){this.dirtyQueriesWithMatches(i)}dirtyQueriesWithMatches(i){for(let u=0;u<this.queries.length;u++)null!==J0(i,u).matches&&this.queries[u].setDirty()}}class z0{constructor(i,u,h=null){this.predicate=i,this.flags=u,this.read=h}}class u0{constructor(i=[]){this.queries=i}elementStart(i,u){for(let h=0;h<this.queries.length;h++)this.queries[h].elementStart(i,u)}elementEnd(i){for(let u=0;u<this.queries.length;u++)this.queries[u].elementEnd(i)}embeddedTView(i){let u=null;for(let h=0;h<this.length;h++){const p=null!==u?u.length:0,y=this.getByIndex(h).embeddedTView(i,p);y&&(y.indexInDeclarationView=h,null!==u?u.push(y):u=[y])}return null!==u?new u0(u):null}template(i,u){for(let h=0;h<this.queries.length;h++)this.queries[h].template(i,u)}getByIndex(i){return this.queries[i]}get length(){return this.queries.length}track(i){this.queries.push(i)}}class l0{constructor(i,u=-1){this.metadata=i,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=u}elementStart(i,u){this.isApplyingToNode(u)&&this.matchTNode(i,u)}elementEnd(i){this._declarationNodeIndex===i.index&&(this._appliesToNextNode=!1)}template(i,u){this.elementStart(i,u)}embeddedTView(i,u){return this.isApplyingToNode(i)?(this.crossesNgTemplate=!0,this.addMatch(-i.index,u),new l0(this.metadata)):null}isApplyingToNode(i){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const u=this._declarationNodeIndex;let h=i.parent;for(;null!==h&&8&h.type&&h.index!==u;)h=h.parent;return u===(null!==h?h.index:-1)}return this._appliesToNextNode}matchTNode(i,u){const h=this.metadata.predicate;if(Array.isArray(h))for(let p=0;p<h.length;p++){const y=h[p];this.matchTNodeWithReadOption(i,u,yw(u,y)),this.matchTNodeWithReadOption(i,u,Ua(u,i,y,!1,!1))}else h===Zy?4&u.type&&this.matchTNodeWithReadOption(i,u,-1):this.matchTNodeWithReadOption(i,u,Ua(u,i,h,!1,!1))}matchTNodeWithReadOption(i,u,h){if(null!==h){const p=this.metadata.read;if(null!==p)if(p===jc||p===A_||p===Zy&&4&u.type)this.addMatch(u.index,-2);else{const y=Ua(u,i,p,!1,!1);null!==y&&this.addMatch(u.index,y)}else this.addMatch(u.index,h)}}addMatch(i,u){null===this.matches?this.matches=[i,u]:this.matches.push(i,u)}}function yw(r,i){const u=r.localNames;if(null!==u)for(let h=0;h<u.length;h+=2)if(u[h]===i)return u[h+1];return null}function Ew(r,i,u,h){return-1===u?function _w(r,i){return 11&r.type?Hc(r,i):4&r.type?T_(r,i):null}(i,r):-2===u?function ww(r,i,u){return u===jc?Hc(i,r):u===Zy?T_(i,r):u===A_?G0(i,r):void 0}(r,i,h):Zs(r,r[1],u,i)}function q0(r,i,u,h){const p=i[19].queries[h];if(null===p.matches){const y=r.data,S=u.matches,P=[];for(let $=0;$<S.length;$+=2){const Y=S[$];P.push(Y<0?null:Ew(i,y[Y],S[$+1],u.metadata.read))}p.matches=P}return p.matches}function c0(r,i,u,h){const p=r.queries.getByIndex(u),y=p.matches;if(null!==y){const S=q0(r,i,p,u);for(let P=0;P<y.length;P+=2){const $=y[P];if($>0)h.push(S[P/2]);else{const Y=y[P+1],de=i[-$];for(let $e=10;$e<de.length;$e++){const yt=de[$e];yt[17]===yt[3]&&c0(yt[1],yt,Y,h)}if(null!==de[9]){const $e=de[9];for(let yt=0;yt<$e.length;yt++){const Vt=$e[yt];c0(Vt[1],Vt,Y,h)}}}}}return h}function W0(r){const i=L(),u=k(),h=po();wo(h+1);const p=J0(u,h);if(r.dirty&&function to(r){return 4==(4&r[2])}(i)===(2==(2&p.metadata.flags))){if(null===p.matches)r.reset([]);else{const y=p.crossesNgTemplate?c0(u,i,h,[]):q0(u,i,p,h);r.reset(y,Qv),r.notifyOnChanges()}return!0}return!1}function K0(r,i,u){const h=k();h.firstCreatePass&&(Q0(h,new z0(r,i,u),-1),2==(2&i)&&(h.staticViewQueries=!0)),X0(h,L(),i)}function Y0(r,i,u,h){const p=k();if(p.firstCreatePass){const y=Mt();Q0(p,new z0(i,u,h),y.index),function Cw(r,i){const u=r.contentQueries||(r.contentQueries=[]);i!==(u.length?u[u.length-1]:-1)&&u.push(r.queries.length-1,i)}(p,r),2==(2&u)&&(p.staticContentQueries=!0)}X0(p,L(),u)}function Z0(){return function Iw(r,i){return r[19].queries[i].queryList}(L(),po())}function X0(r,i,u){const h=new r0(4==(4&u));gp(r,i,h,h.destroy),null===i[19]&&(i[19]=new a0),i[19].queries.push(new o0(h))}function Q0(r,i,u){null===r.queries&&(r.queries=new u0),r.queries.track(new l0(i,u))}function J0(r,i){return r.queries.getByIndex(i)}function eE(r,i){return T_(r,i)}function M_(...r){}const _E=new pi("Application Initializer");let R_=(()=>{class r{constructor(u){this.appInits=u,this.resolve=M_,this.reject=M_,this.initialized=!1,this.done=!1,this.donePromise=new Promise((h,p)=>{this.resolve=h,this.reject=p})}runInitializers(){if(this.initialized)return;const u=[],h=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let p=0;p<this.appInits.length;p++){const y=this.appInits[p]();if(Oh(y))u.push(y);else if(Bp(y)){const S=new Promise((P,$)=>{y.subscribe({complete:P,error:$})});u.push(S)}}Promise.all(u).then(()=>{h()}).catch(p=>{this.reject(p)}),0===u.length&&h(),this.initialized=!0}}return r.\u0275fac=function(u){return new(u||r)(sn(_E,8))},r.\u0275prov=Kt({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();const EE=new pi("AppId",{providedIn:"root",factory:function wE(){return`${g0()}${g0()}${g0()}`}});function g0(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const IE=new pi("Platform Initializer"),jw=new pi("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),CE=new pi("appBootstrapListener");let Gw=(()=>{class r{log(u){console.log(u)}warn(u){console.warn(u)}}return r.\u0275fac=function(u){return new(u||r)},r.\u0275prov=Kt({token:r,factory:r.\u0275fac,providedIn:"platform"}),r})();const P_=new pi("LocaleId",{providedIn:"root",factory:()=>gt(P_,hn.Optional|hn.SkipSelf)||function zw(){return typeof $localize<"u"&&$localize.locale||Hn}()}),qw=new pi("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class Ww{constructor(i,u){this.ngModuleFactory=i,this.componentFactories=u}}let Kw=(()=>{class r{compileModuleSync(u){return new Q(u)}compileModuleAsync(u){return Promise.resolve(this.compileModuleSync(u))}compileModuleAndAllComponentsSync(u){const h=this.compileModuleSync(u),y=yl(Jr(u).declarations).reduce((S,P)=>{const $=mr(P);return $&&S.push(new jd($)),S},[]);return new Ww(h,y)}compileModuleAndAllComponentsAsync(u){return Promise.resolve(this.compileModuleAndAllComponentsSync(u))}clearCache(){}clearCacheFor(u){}getModuleId(u){}}return r.\u0275fac=function(u){return new(u||r)},r.\u0275prov=Kt({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();const Xw=(()=>Promise.resolve(0))();function m0(r){typeof Zone>"u"?Xw.then(()=>{r&&r.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",r)}class cd{constructor({enableLongStackTrace:i=!1,shouldCoalesceEventChangeDetection:u=!1,shouldCoalesceRunChangeDetection:h=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Kh(!1),this.onMicrotaskEmpty=new Kh(!1),this.onStable=new Kh(!1),this.onError=new Kh(!1),typeof Zone>"u")throw new Se(908,!1);Zone.assertZonePatched();const p=this;p._nesting=0,p._outer=p._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(p._inner=p._inner.fork(new Zone.TaskTrackingZoneSpec)),i&&Zone.longStackTraceZoneSpec&&(p._inner=p._inner.fork(Zone.longStackTraceZoneSpec)),p.shouldCoalesceEventChangeDetection=!h&&u,p.shouldCoalesceRunChangeDetection=h,p.lastRequestAnimationFrameId=-1,p.nativeRequestAnimationFrame=function Qw(){let r=xn.requestAnimationFrame,i=xn.cancelAnimationFrame;if(typeof Zone<"u"&&r&&i){const u=r[Zone.__symbol__("OriginalDelegate")];u&&(r=u);const h=i[Zone.__symbol__("OriginalDelegate")];h&&(i=h)}return{nativeRequestAnimationFrame:r,nativeCancelAnimationFrame:i}}().nativeRequestAnimationFrame,function tI(r){const i=()=>{!function eI(r){r.isCheckStableRunning||-1!==r.lastRequestAnimationFrameId||(r.lastRequestAnimationFrameId=r.nativeRequestAnimationFrame.call(xn,()=>{r.fakeTopEventTask||(r.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{r.lastRequestAnimationFrameId=-1,y0(r),r.isCheckStableRunning=!0,v0(r),r.isCheckStableRunning=!1},void 0,()=>{},()=>{})),r.fakeTopEventTask.invoke()}),y0(r))}(r)};r._inner=r._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(u,h,p,y,S,P)=>{try{return SE(r),u.invokeTask(p,y,S,P)}finally{(r.shouldCoalesceEventChangeDetection&&"eventTask"===y.type||r.shouldCoalesceRunChangeDetection)&&i(),TE(r)}},onInvoke:(u,h,p,y,S,P,$)=>{try{return SE(r),u.invoke(p,y,S,P,$)}finally{r.shouldCoalesceRunChangeDetection&&i(),TE(r)}},onHasTask:(u,h,p,y)=>{u.hasTask(p,y),h===p&&("microTask"==y.change?(r._hasPendingMicrotasks=y.microTask,y0(r),v0(r)):"macroTask"==y.change&&(r.hasPendingMacrotasks=y.macroTask))},onHandleError:(u,h,p,y)=>(u.handleError(p,y),r.runOutsideAngular(()=>r.onError.emit(y)),!1)})}(p)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!cd.isInAngularZone())throw new Se(909,!1)}static assertNotInAngularZone(){if(cd.isInAngularZone())throw new Se(909,!1)}run(i,u,h){return this._inner.run(i,u,h)}runTask(i,u,h,p){const y=this._inner,S=y.scheduleEventTask("NgZoneEvent: "+p,i,Jw,M_,M_);try{return y.runTask(S,u,h)}finally{y.cancelTask(S)}}runGuarded(i,u,h){return this._inner.runGuarded(i,u,h)}runOutsideAngular(i){return this._outer.run(i)}}const Jw={};function v0(r){if(0==r._nesting&&!r.hasPendingMicrotasks&&!r.isStable)try{r._nesting++,r.onMicrotaskEmpty.emit(null)}finally{if(r._nesting--,!r.hasPendingMicrotasks)try{r.runOutsideAngular(()=>r.onStable.emit(null))}finally{r.isStable=!0}}}function y0(r){r.hasPendingMicrotasks=!!(r._hasPendingMicrotasks||(r.shouldCoalesceEventChangeDetection||r.shouldCoalesceRunChangeDetection)&&-1!==r.lastRequestAnimationFrameId)}function SE(r){r._nesting++,r.isStable&&(r.isStable=!1,r.onUnstable.emit(null))}function TE(r){r._nesting--,v0(r)}class nI{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Kh,this.onMicrotaskEmpty=new Kh,this.onStable=new Kh,this.onError=new Kh}run(i,u,h){return i.apply(u,h)}runGuarded(i,u,h){return i.apply(u,h)}runOutsideAngular(i){return i()}runTask(i,u,h,p){return i.apply(u,h)}}const AE=new pi(""),xE=new pi("");let _0,rI=(()=>{class r{constructor(u,h,p){this._ngZone=u,this.registry=h,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,_0||(function iI(r){_0=r}(p),p.addToWindow(h)),this._watchAngularEvents(),u.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{cd.assertNotInAngularZone(),m0(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())m0(()=>{for(;0!==this._callbacks.length;){let u=this._callbacks.pop();clearTimeout(u.timeoutId),u.doneCb(this._didWork)}this._didWork=!1});else{let u=this.getPendingTasks();this._callbacks=this._callbacks.filter(h=>!h.updateCb||!h.updateCb(u)||(clearTimeout(h.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(u=>({source:u.source,creationLocation:u.creationLocation,data:u.data})):[]}addCallback(u,h,p){let y=-1;h&&h>0&&(y=setTimeout(()=>{this._callbacks=this._callbacks.filter(S=>S.timeoutId!==y),u(this._didWork,this.getPendingTasks())},h)),this._callbacks.push({doneCb:u,timeoutId:y,updateCb:p})}whenStable(u,h,p){if(p&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(u,h,p),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(u){this.registry.registerApplication(u,this)}unregisterApplication(u){this.registry.unregisterApplication(u)}findProviders(u,h,p){return[]}}return r.\u0275fac=function(u){return new(u||r)(sn(cd),sn(ME),sn(xE))},r.\u0275prov=Kt({token:r,factory:r.\u0275fac}),r})(),ME=(()=>{class r{constructor(){this._applications=new Map}registerApplication(u,h){this._applications.set(u,h)}unregisterApplication(u){this._applications.delete(u)}unregisterAllApplications(){this._applications.clear()}getTestability(u){return this._applications.get(u)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(u,h=!0){var p,y;return null!==(p=null===(y=_0)||void 0===y?void 0:y.findTestabilityInTree(this,u,h))&&void 0!==p?p:null}}return r.\u0275fac=function(u){return new(u||r)},r.\u0275prov=Kt({token:r,factory:r.\u0275fac,providedIn:"platform"}),r})(),ig=null;const RE=new pi("AllowMultipleToken"),E0=new pi("PlatformDestroyListeners");class aI{constructor(i,u){this.name=i,this.token=u}}function NE(r,i,u=[]){const h=`Platform: ${i}`,p=new pi(h);return(y=[])=>{let S=w0();if(!S||S.injector.get(RE,!1)){const P=[...u,...y,{provide:p,useValue:!0}];r?r(P):function uI(r){if(ig&&!ig.get(RE,!1))throw new Se(400,!1);ig=r;const i=r.get(kE);(function PE(r){const i=r.get(IE,null);i&&i.forEach(u=>u())})(r)}(function OE(r=[],i){return Wc.create({name:i,providers:[{provide:$c,useValue:"platform"},{provide:E0,useValue:new Set([()=>ig=null])},...r]})}(P,h))}return function cI(r){const i=w0();if(!i)throw new Se(401,!1);return i}()}}function w0(){var r,i;return null!==(r=null===(i=ig)||void 0===i?void 0:i.get(kE))&&void 0!==r?r:null}let kE=(()=>{class r{constructor(u){this._injector=u,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(u,h){const p=function LE(r,i){let u;return u="noop"===r?new nI:("zone.js"===r?void 0:r)||new cd(i),u}(null==h?void 0:h.ngZone,function FE(r){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!r||!r.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!r||!r.ngZoneRunCoalescing)||!1}}(h)),y=[{provide:cd,useValue:p}];return p.run(()=>{const S=Wc.create({providers:y,parent:this.injector,name:u.moduleType.name}),P=u.create(S),$=P.injector.get(Pd,null);if(!$)throw new Se(402,!1);return p.runOutsideAngular(()=>{const Y=p.onError.subscribe({next:de=>{$.handleError(de)}});P.onDestroy(()=>{O_(this._modules,P),Y.unsubscribe()})}),function BE(r,i,u){try{const h=u();return Oh(h)?h.catch(p=>{throw i.runOutsideAngular(()=>r.handleError(p)),p}):h}catch(h){throw i.runOutsideAngular(()=>r.handleError(h)),h}}($,p,()=>{const Y=P.injector.get(R_);return Y.runInitializers(),Y.donePromise.then(()=>(ru(P.injector.get(P_,Hn)||Hn),this._moduleDoBootstrap(P),P))})})}bootstrapModule(u,h=[]){const p=$E({},h);return function sI(r,i,u){const h=new Q(u);return Promise.resolve(h)}(0,0,u).then(y=>this.bootstrapModuleFactory(y,p))}_moduleDoBootstrap(u){const h=u.injector.get(N_);if(u._bootstrapComponents.length>0)u._bootstrapComponents.forEach(p=>h.bootstrap(p));else{if(!u.instance.ngDoBootstrap)throw new Se(403,!1);u.instance.ngDoBootstrap(h)}this._modules.push(u)}onDestroy(u){this._destroyListeners.push(u)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Se(404,!1);this._modules.slice().forEach(h=>h.destroy()),this._destroyListeners.forEach(h=>h());const u=this._injector.get(E0,null);u&&(u.forEach(h=>h()),u.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return r.\u0275fac=function(u){return new(u||r)(sn(Wc))},r.\u0275prov=Kt({token:r,factory:r.\u0275fac,providedIn:"platform"}),r})();function $E(r,i){return Array.isArray(i)?i.reduce($E,r):{...r,...i}}let N_=(()=>{class r{constructor(u,h,p){this._zone=u,this._injector=h,this._exceptionHandler=p,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const y=new G.y(P=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{P.next(this._stable),P.complete()})}),S=new G.y(P=>{let $;this._zone.runOutsideAngular(()=>{$=this._zone.onStable.subscribe(()=>{cd.assertNotInAngularZone(),m0(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,P.next(!0))})})});const Y=this._zone.onUnstable.subscribe(()=>{cd.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{P.next(!1)}))});return()=>{$.unsubscribe(),Y.unsubscribe()}});this.isStable=(0,Ae.T)(y,S.pipe((0,_e.B)()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(u,h){const p=u instanceof Ll;if(!this._injector.get(R_).done)throw!p&&ci(u),new Se(405,false);let S;S=p?u:this._injector.get(Uc).resolveComponentFactory(u),this.componentTypes.push(S.componentType);const P=function oI(r){return r.isBoundToModule}(S)?void 0:this._injector.get(f),Y=S.create(Wc.NULL,[],h||S.selector,P),de=Y.location.nativeElement,$e=Y.injector.get(AE,null);return null==$e||$e.registerApplication(de),Y.onDestroy(()=>{this.detachView(Y.hostView),O_(this.components,Y),null==$e||$e.unregisterApplication(de)}),this._loadComponent(Y),Y}tick(){if(this._runningTick)throw new Se(101,!1);try{this._runningTick=!0;for(let u of this._views)u.detectChanges()}catch(u){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(u))}finally{this._runningTick=!1}}attachView(u){const h=u;this._views.push(h),h.attachToAppRef(this)}detachView(u){const h=u;O_(this._views,h),h.detachFromAppRef()}_loadComponent(u){this.attachView(u.hostView),this.tick(),this.components.push(u);const h=this._injector.get(CE,[]);h.push(...this._bootstrapListeners),h.forEach(p=>p(u))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(u=>u()),this._views.slice().forEach(u=>u.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(u){return this._destroyListeners.push(u),()=>O_(this._destroyListeners,u)}destroy(){if(this._destroyed)throw new Se(406,!1);const u=this._injector;u.destroy&&!u.destroyed&&u.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return r.\u0275fac=function(u){return new(u||r)(sn(cd),sn(Zu),sn(Pd))},r.\u0275prov=Kt({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();function O_(r,i){const u=r.indexOf(i);u>-1&&r.splice(u,1)}function hI(){return!1}function fI(){}let pI=(()=>{class r{}return r.__NG_ELEMENT_ID__=gI,r})();function gI(r){return function mI(r,i,u){if(Vs(r)&&!u){const h=Yi(r.index,i);return new Hd(h,h)}return 47&r.type?new Hd(i[16],i):null}(Mt(),L(),16==(16&r))}class GE{constructor(){}supports(i){return xh(i)}create(i){return new II(i)}}const wI=(r,i)=>i;class II{constructor(i){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=i||wI}forEachItem(i){let u;for(u=this._itHead;null!==u;u=u._next)i(u)}forEachOperation(i){let u=this._itHead,h=this._removalsHead,p=0,y=null;for(;u||h;){const S=!h||u&&u.currentIndex<qE(h,p,y)?u:h,P=qE(S,p,y),$=S.currentIndex;if(S===h)p--,h=h._nextRemoved;else if(u=u._next,null==S.previousIndex)p++;else{y||(y=[]);const Y=P-p,de=$-p;if(Y!=de){for(let yt=0;yt<Y;yt++){const Vt=yt<y.length?y[yt]:y[yt]=0,an=Vt+yt;de<=an&&an<Y&&(y[yt]=Vt+1)}y[S.previousIndex]=de-Y}}P!==$&&i(S,P,$)}}forEachPreviousItem(i){let u;for(u=this._previousItHead;null!==u;u=u._nextPrevious)i(u)}forEachAddedItem(i){let u;for(u=this._additionsHead;null!==u;u=u._nextAdded)i(u)}forEachMovedItem(i){let u;for(u=this._movesHead;null!==u;u=u._nextMoved)i(u)}forEachRemovedItem(i){let u;for(u=this._removalsHead;null!==u;u=u._nextRemoved)i(u)}forEachIdentityChange(i){let u;for(u=this._identityChangesHead;null!==u;u=u._nextIdentityChange)i(u)}diff(i){if(null==i&&(i=[]),!xh(i))throw new Se(900,!1);return this.check(i)?this:null}onDestroy(){}check(i){this._reset();let p,y,S,u=this._itHead,h=!1;if(Array.isArray(i)){this.length=i.length;for(let P=0;P<this.length;P++)y=i[P],S=this._trackByFn(P,y),null!==u&&Object.is(u.trackById,S)?(h&&(u=this._verifyReinsertion(u,y,S,P)),Object.is(u.item,y)||this._addIdentityChange(u,y)):(u=this._mismatch(u,y,S,P),h=!0),u=u._next}else p=0,function $l(r,i){if(Array.isArray(r))for(let u=0;u<r.length;u++)i(r[u]);else{const u=r[Jc()]();let h;for(;!(h=u.next()).done;)i(h.value)}}(i,P=>{S=this._trackByFn(p,P),null!==u&&Object.is(u.trackById,S)?(h&&(u=this._verifyReinsertion(u,P,S,p)),Object.is(u.item,P)||this._addIdentityChange(u,P)):(u=this._mismatch(u,P,S,p),h=!0),u=u._next,p++}),this.length=p;return this._truncate(u),this.collection=i,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let i;for(i=this._previousItHead=this._itHead;null!==i;i=i._next)i._nextPrevious=i._next;for(i=this._additionsHead;null!==i;i=i._nextAdded)i.previousIndex=i.currentIndex;for(this._additionsHead=this._additionsTail=null,i=this._movesHead;null!==i;i=i._nextMoved)i.previousIndex=i.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(i,u,h,p){let y;return null===i?y=this._itTail:(y=i._prev,this._remove(i)),null!==(i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(h,null))?(Object.is(i.item,u)||this._addIdentityChange(i,u),this._reinsertAfter(i,y,p)):null!==(i=null===this._linkedRecords?null:this._linkedRecords.get(h,p))?(Object.is(i.item,u)||this._addIdentityChange(i,u),this._moveAfter(i,y,p)):i=this._addAfter(new CI(u,h),y,p),i}_verifyReinsertion(i,u,h,p){let y=null===this._unlinkedRecords?null:this._unlinkedRecords.get(h,null);return null!==y?i=this._reinsertAfter(y,i._prev,p):i.currentIndex!=p&&(i.currentIndex=p,this._addToMoves(i,p)),i}_truncate(i){for(;null!==i;){const u=i._next;this._addToRemovals(this._unlink(i)),i=u}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(i,u,h){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(i);const p=i._prevRemoved,y=i._nextRemoved;return null===p?this._removalsHead=y:p._nextRemoved=y,null===y?this._removalsTail=p:y._prevRemoved=p,this._insertAfter(i,u,h),this._addToMoves(i,h),i}_moveAfter(i,u,h){return this._unlink(i),this._insertAfter(i,u,h),this._addToMoves(i,h),i}_addAfter(i,u,h){return this._insertAfter(i,u,h),this._additionsTail=null===this._additionsTail?this._additionsHead=i:this._additionsTail._nextAdded=i,i}_insertAfter(i,u,h){const p=null===u?this._itHead:u._next;return i._next=p,i._prev=u,null===p?this._itTail=i:p._prev=i,null===u?this._itHead=i:u._next=i,null===this._linkedRecords&&(this._linkedRecords=new zE),this._linkedRecords.put(i),i.currentIndex=h,i}_remove(i){return this._addToRemovals(this._unlink(i))}_unlink(i){null!==this._linkedRecords&&this._linkedRecords.remove(i);const u=i._prev,h=i._next;return null===u?this._itHead=h:u._next=h,null===h?this._itTail=u:h._prev=u,i}_addToMoves(i,u){return i.previousIndex===u||(this._movesTail=null===this._movesTail?this._movesHead=i:this._movesTail._nextMoved=i),i}_addToRemovals(i){return null===this._unlinkedRecords&&(this._unlinkedRecords=new zE),this._unlinkedRecords.put(i),i.currentIndex=null,i._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=i,i._prevRemoved=null):(i._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=i),i}_addIdentityChange(i,u){return i.item=u,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=i:this._identityChangesTail._nextIdentityChange=i,i}}class CI{constructor(i,u){this.item=i,this.trackById=u,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class bI{constructor(){this._head=null,this._tail=null}add(i){null===this._head?(this._head=this._tail=i,i._nextDup=null,i._prevDup=null):(this._tail._nextDup=i,i._prevDup=this._tail,i._nextDup=null,this._tail=i)}get(i,u){let h;for(h=this._head;null!==h;h=h._nextDup)if((null===u||u<=h.currentIndex)&&Object.is(h.trackById,i))return h;return null}remove(i){const u=i._prevDup,h=i._nextDup;return null===u?this._head=h:u._nextDup=h,null===h?this._tail=u:h._prevDup=u,null===this._head}}class zE{constructor(){this.map=new Map}put(i){const u=i.trackById;let h=this.map.get(u);h||(h=new bI,this.map.set(u,h)),h.add(i)}get(i,u){const p=this.map.get(i);return p?p.get(i,u):null}remove(i){const u=i.trackById;return this.map.get(u).remove(i)&&this.map.delete(u),i}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function qE(r,i,u){const h=r.previousIndex;if(null===h)return h;let p=0;return u&&h<u.length&&(p=u[h]),h+i+p}class WE{constructor(){}supports(i){return i instanceof Map||Mh(i)}create(){return new DI}}class DI{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(i){let u;for(u=this._mapHead;null!==u;u=u._next)i(u)}forEachPreviousItem(i){let u;for(u=this._previousMapHead;null!==u;u=u._nextPrevious)i(u)}forEachChangedItem(i){let u;for(u=this._changesHead;null!==u;u=u._nextChanged)i(u)}forEachAddedItem(i){let u;for(u=this._additionsHead;null!==u;u=u._nextAdded)i(u)}forEachRemovedItem(i){let u;for(u=this._removalsHead;null!==u;u=u._nextRemoved)i(u)}diff(i){if(i){if(!(i instanceof Map||Mh(i)))throw new Se(900,!1)}else i=new Map;return this.check(i)?this:null}onDestroy(){}check(i){this._reset();let u=this._mapHead;if(this._appendAfter=null,this._forEach(i,(h,p)=>{if(u&&u.key===p)this._maybeAddToChanges(u,h),this._appendAfter=u,u=u._next;else{const y=this._getOrCreateRecordForKey(p,h);u=this._insertBeforeOrAppend(u,y)}}),u){u._prev&&(u._prev._next=null),this._removalsHead=u;for(let h=u;null!==h;h=h._nextRemoved)h===this._mapHead&&(this._mapHead=null),this._records.delete(h.key),h._nextRemoved=h._next,h.previousValue=h.currentValue,h.currentValue=null,h._prev=null,h._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(i,u){if(i){const h=i._prev;return u._next=i,u._prev=h,i._prev=u,h&&(h._next=u),i===this._mapHead&&(this._mapHead=u),this._appendAfter=i,i}return this._appendAfter?(this._appendAfter._next=u,u._prev=this._appendAfter):this._mapHead=u,this._appendAfter=u,null}_getOrCreateRecordForKey(i,u){if(this._records.has(i)){const p=this._records.get(i);this._maybeAddToChanges(p,u);const y=p._prev,S=p._next;return y&&(y._next=S),S&&(S._prev=y),p._next=null,p._prev=null,p}const h=new SI(i);return this._records.set(i,h),h.currentValue=u,this._addToAdditions(h),h}_reset(){if(this.isDirty){let i;for(this._previousMapHead=this._mapHead,i=this._previousMapHead;null!==i;i=i._next)i._nextPrevious=i._next;for(i=this._changesHead;null!==i;i=i._nextChanged)i.previousValue=i.currentValue;for(i=this._additionsHead;null!=i;i=i._nextAdded)i.previousValue=i.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(i,u){Object.is(u,i.currentValue)||(i.previousValue=i.currentValue,i.currentValue=u,this._addToChanges(i))}_addToAdditions(i){null===this._additionsHead?this._additionsHead=this._additionsTail=i:(this._additionsTail._nextAdded=i,this._additionsTail=i)}_addToChanges(i){null===this._changesHead?this._changesHead=this._changesTail=i:(this._changesTail._nextChanged=i,this._changesTail=i)}_forEach(i,u){i instanceof Map?i.forEach(u):Object.keys(i).forEach(h=>u(i[h],h))}}class SI{constructor(i){this.key=i,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function KE(){return new S0([new GE])}let S0=(()=>{class r{constructor(u){this.factories=u}static create(u,h){if(null!=h){const p=h.factories.slice();u=u.concat(p)}return new r(u)}static extend(u){return{provide:r,useFactory:h=>r.create(u,h||KE()),deps:[[r,new q,new Nu]]}}find(u){const h=this.factories.find(p=>p.supports(u));if(null!=h)return h;throw new Se(901,!1)}}return r.\u0275prov=Kt({token:r,providedIn:"root",factory:KE}),r})();function YE(){return new T0([new WE])}let T0=(()=>{class r{constructor(u){this.factories=u}static create(u,h){if(h){const p=h.factories.slice();u=u.concat(p)}return new r(u)}static extend(u){return{provide:r,useFactory:h=>r.create(u,h||YE()),deps:[[r,new q,new Nu]]}}find(u){const h=this.factories.find(p=>p.supports(u));if(h)return h;throw new Se(901,!1)}}return r.\u0275prov=Kt({token:r,providedIn:"root",factory:YE}),r})();const xI=NE(null,"core",[]);let MI=(()=>{class r{constructor(u){}}return r.\u0275fac=function(u){return new(u||r)(sn(N_))},r.\u0275mod=xr({type:r}),r.\u0275inj=Nn({}),r})();function RI(r){return"boolean"==typeof r?r:null!=r&&"false"!==r}function NI(r,i){const u=mr(r),h=i.elementInjector||Vc();return new jd(u).create(h,i.projectableNodes,i.hostElement,i.environmentInjector)}},433:(Jt,it,V)=>{"use strict";V.d(it,{qu:()=>Br,NI:()=>jt,u:()=>na,sg:()=>Xs,u5:()=>H,Cf:()=>Ge,JU:()=>je,a5:()=>ui,JJ:()=>Oi,JL:()=>xn,On:()=>Xn,YN:()=>co,UX:()=>re,EJ:()=>Ki,kI:()=>le,_Y:()=>Or,Kr:()=>Ue});var c=V(4650),J=V(6895),G=V(8996),Ae=V(9751),_e=V(4742),ke=V(8421),ve=V(3269),Pe=V(5403),Ne=V(3268),we=V(1810),me=V(4004);let Re=(()=>{class L{constructor(F,oe){this._renderer=F,this._elementRef=oe,this.onChange=Mt=>{},this.onTouched=()=>{}}setProperty(F,oe){this._renderer.setProperty(this._elementRef.nativeElement,F,oe)}registerOnTouched(F){this.onTouched=F}registerOnChange(F){this.onChange=F}setDisabledState(F){this.setProperty("disabled",F)}}return L.\u0275fac=function(F){return new(F||L)(c.Y36(c.Qsj),c.Y36(c.SBq))},L.\u0275dir=c.lG2({type:L}),L})(),We=(()=>{class L extends Re{}return L.\u0275fac=function(){let k;return function(oe){return(k||(k=c.n5z(L)))(oe||L)}}(),L.\u0275dir=c.lG2({type:L,features:[c.qOj]}),L})();const je=new c.OlP("NgValueAccessor"),Ce={provide:je,useExisting:(0,c.Gpc)(()=>Be),multi:!0},He=new c.OlP("CompositionEventMode");let Be=(()=>{class L extends Re{constructor(F,oe,Mt){super(F,oe),this._compositionMode=Mt,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function fe(){const L=(0,J.q)()?(0,J.q)().getUserAgent():"";return/android (\d+)/.test(L.toLowerCase())}())}writeValue(F){this.setProperty("value",null==F?"":F)}_handleInput(F){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(F)}_compositionStart(){this._composing=!0}_compositionEnd(F){this._composing=!1,this._compositionMode&&this.onChange(F)}}return L.\u0275fac=function(F){return new(F||L)(c.Y36(c.Qsj),c.Y36(c.SBq),c.Y36(He,8))},L.\u0275dir=c.lG2({type:L,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(F,oe){1&F&&c.NdJ("input",function(Ln){return oe._handleInput(Ln.target.value)})("blur",function(){return oe.onTouched()})("compositionstart",function(){return oe._compositionStart()})("compositionend",function(Ln){return oe._compositionEnd(Ln.target.value)})},features:[c._Bn([Ce]),c.qOj]}),L})();function Qe(L){return null==L||("string"==typeof L||Array.isArray(L))&&0===L.length}function Ve(L){return null!=L&&"number"==typeof L.length}const Ge=new c.OlP("NgValidators"),te=new c.OlP("NgAsyncValidators"),Ze=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class le{static min(k){return function ye(L){return k=>{if(Qe(k.value)||Qe(L))return null;const F=parseFloat(k.value);return!isNaN(F)&&F<L?{min:{min:L,actual:k.value}}:null}}(k)}static max(k){return function xe(L){return k=>{if(Qe(k.value)||Qe(L))return null;const F=parseFloat(k.value);return!isNaN(F)&&F>L?{max:{max:L,actual:k.value}}:null}}(k)}static required(k){return function Me(L){return Qe(L.value)?{required:!0}:null}(k)}static requiredTrue(k){return function Xe(L){return!0===L.value?null:{required:!0}}(k)}static email(k){return function Bt(L){return Qe(L.value)||Ze.test(L.value)?null:{email:!0}}(k)}static minLength(k){return function on(L){return k=>Qe(k.value)||!Ve(k.value)?null:k.value.length<L?{minlength:{requiredLength:L,actualLength:k.value.length}}:null}(k)}static maxLength(k){return function Rt(L){return k=>Ve(k.value)&&k.value.length>L?{maxlength:{requiredLength:L,actualLength:k.value.length}}:null}(k)}static pattern(k){return function bt(L){if(!L)return ft;let k,F;return"string"==typeof L?(F="","^"!==L.charAt(0)&&(F+="^"),F+=L,"$"!==L.charAt(L.length-1)&&(F+="$"),k=new RegExp(F)):(F=L.toString(),k=L),oe=>{if(Qe(oe.value))return null;const Mt=oe.value;return k.test(Mt)?null:{pattern:{requiredPattern:F,actualValue:Mt}}}}(k)}static nullValidator(k){return null}static compose(k){return en(k)}static composeAsync(k){return sr(k)}}function ft(L){return null}function Ot(L){return null!=L}function pt(L){return(0,c.QGY)(L)?(0,G.D)(L):L}function wt(L){let k={};return L.forEach(F=>{k=null!=F?{...k,...F}:k}),0===Object.keys(k).length?null:k}function st(L,k){return k.map(F=>F(L))}function Kt(L){return L.map(k=>function nn(L){return!L.validate}(k)?k:F=>k.validate(F))}function en(L){if(!L)return null;const k=L.filter(Ot);return 0==k.length?null:function(F){return wt(st(F,k))}}function Nn(L){return null!=L?en(Kt(L)):null}function sr(L){if(!L)return null;const k=L.filter(Ot);return 0==k.length?null:function(F){return function he(...L){const k=(0,ve.jO)(L),{args:F,keys:oe}=(0,_e.D)(L),Mt=new Ae.y(Ln=>{const{length:Ri}=F;if(!Ri)return void Ln.complete();const Zi=new Array(Ri);let Ws=Ri,ks=Ri;for(let Po=0;Po<Ri;Po++){let Hs=!1;(0,ke.Xf)(F[Po]).subscribe((0,Pe.x)(Ln,ho=>{Hs||(Hs=!0,ks--),Zi[Po]=ho},()=>Ws--,void 0,()=>{(!Ws||!Hs)&&(ks||Ln.next(oe?(0,we.n)(oe,Zi):Zi),Ln.complete())}))}});return k?Mt.pipe((0,Ne.Z)(k)):Mt}(st(F,k).map(pt)).pipe((0,me.U)(wt))}}function Wn(L){return null!=L?sr(Kt(L)):null}function or(L,k){return null===L?[k]:Array.isArray(L)?[...L,k]:[L,k]}function cr(L){return L._rawValidators}function Mr(L){return L._rawAsyncValidators}function Vr(L){return L?Array.isArray(L)?L:[L]:[]}function Dn(L,k){return Array.isArray(L)?L.includes(k):L===k}function ai(L,k){const F=Vr(k);return Vr(L).forEach(Mt=>{Dn(F,Mt)||F.push(Mt)}),F}function Wt(L,k){return Vr(k).filter(F=>!Dn(L,F))}class Ur{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(k){this._rawValidators=k||[],this._composedValidatorFn=Nn(this._rawValidators)}_setAsyncValidators(k){this._rawAsyncValidators=k||[],this._composedAsyncValidatorFn=Wn(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(k){this._onDestroyCallbacks.push(k)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(k=>k()),this._onDestroyCallbacks=[]}reset(k){this.control&&this.control.reset(k)}hasError(k,F){return!!this.control&&this.control.hasError(k,F)}getError(k,F){return this.control?this.control.getError(k,F):null}}class hn extends Ur{get formDirective(){return null}get path(){return null}}class ui extends Ur{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class gr{constructor(k){this._cd=k}get isTouched(){var k,F;return!(null===(k=this._cd)||void 0===k||null===(F=k.control)||void 0===F||!F.touched)}get isUntouched(){var k,F;return!(null===(k=this._cd)||void 0===k||null===(F=k.control)||void 0===F||!F.untouched)}get isPristine(){var k,F;return!(null===(k=this._cd)||void 0===k||null===(F=k.control)||void 0===F||!F.pristine)}get isDirty(){var k,F;return!(null===(k=this._cd)||void 0===k||null===(F=k.control)||void 0===F||!F.dirty)}get isValid(){var k,F;return!(null===(k=this._cd)||void 0===k||null===(F=k.control)||void 0===F||!F.valid)}get isInvalid(){var k,F;return!(null===(k=this._cd)||void 0===k||null===(F=k.control)||void 0===F||!F.invalid)}get isPending(){var k,F;return!(null===(k=this._cd)||void 0===k||null===(F=k.control)||void 0===F||!F.pending)}get isSubmitted(){var k;return!(null===(k=this._cd)||void 0===k||!k.submitted)}}let Oi=(()=>{class L extends gr{constructor(F){super(F)}}return L.\u0275fac=function(F){return new(F||L)(c.Y36(ui,2))},L.\u0275dir=c.lG2({type:L,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(F,oe){2&F&&c.ekj("ng-untouched",oe.isUntouched)("ng-touched",oe.isTouched)("ng-pristine",oe.isPristine)("ng-dirty",oe.isDirty)("ng-valid",oe.isValid)("ng-invalid",oe.isInvalid)("ng-pending",oe.isPending)},features:[c.qOj]}),L})(),xn=(()=>{class L extends gr{constructor(F){super(F)}}return L.\u0275fac=function(F){return new(F||L)(c.Y36(hn,10))},L.\u0275dir=c.lG2({type:L,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(F,oe){2&F&&c.ekj("ng-untouched",oe.isUntouched)("ng-touched",oe.isTouched)("ng-pristine",oe.isPristine)("ng-dirty",oe.isDirty)("ng-valid",oe.isValid)("ng-invalid",oe.isInvalid)("ng-pending",oe.isPending)("ng-submitted",oe.isSubmitted)},features:[c.qOj]}),L})();const xt="VALID",ge="INVALID",De="PENDING",ze="DISABLED";function At(L){return(Ht(L)?L.validators:L)||null}function ln(L,k){return(Ht(k)?k.asyncValidators:L)||null}function Ht(L){return null!=L&&!Array.isArray(L)&&"object"==typeof L}function Tr(L,k,F){const oe=L.controls;if(!(k?Object.keys(oe):oe).length)throw new c.vHH(1e3,"");if(!oe[F])throw new c.vHH(1001,"")}function pn(L,k,F){L._forEachChild((oe,Mt)=>{if(void 0===F[Mt])throw new c.vHH(1002,"")})}class tt{constructor(k,F){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(k),this._assignAsyncValidators(F)}get validator(){return this._composedValidatorFn}set validator(k){this._rawValidators=this._composedValidatorFn=k}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(k){this._rawAsyncValidators=this._composedAsyncValidatorFn=k}get parent(){return this._parent}get valid(){return this.status===xt}get invalid(){return this.status===ge}get pending(){return this.status==De}get disabled(){return this.status===ze}get enabled(){return this.status!==ze}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(k){this._assignValidators(k)}setAsyncValidators(k){this._assignAsyncValidators(k)}addValidators(k){this.setValidators(ai(k,this._rawValidators))}addAsyncValidators(k){this.setAsyncValidators(ai(k,this._rawAsyncValidators))}removeValidators(k){this.setValidators(Wt(k,this._rawValidators))}removeAsyncValidators(k){this.setAsyncValidators(Wt(k,this._rawAsyncValidators))}hasValidator(k){return Dn(this._rawValidators,k)}hasAsyncValidator(k){return Dn(this._rawAsyncValidators,k)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(k={}){this.touched=!0,this._parent&&!k.onlySelf&&this._parent.markAsTouched(k)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(k=>k.markAllAsTouched())}markAsUntouched(k={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(F=>{F.markAsUntouched({onlySelf:!0})}),this._parent&&!k.onlySelf&&this._parent._updateTouched(k)}markAsDirty(k={}){this.pristine=!1,this._parent&&!k.onlySelf&&this._parent.markAsDirty(k)}markAsPristine(k={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(F=>{F.markAsPristine({onlySelf:!0})}),this._parent&&!k.onlySelf&&this._parent._updatePristine(k)}markAsPending(k={}){this.status=De,!1!==k.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!k.onlySelf&&this._parent.markAsPending(k)}disable(k={}){const F=this._parentMarkedDirty(k.onlySelf);this.status=ze,this.errors=null,this._forEachChild(oe=>{oe.disable({...k,onlySelf:!0})}),this._updateValue(),!1!==k.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...k,skipPristineCheck:F}),this._onDisabledChange.forEach(oe=>oe(!0))}enable(k={}){const F=this._parentMarkedDirty(k.onlySelf);this.status=xt,this._forEachChild(oe=>{oe.enable({...k,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:k.emitEvent}),this._updateAncestors({...k,skipPristineCheck:F}),this._onDisabledChange.forEach(oe=>oe(!1))}_updateAncestors(k){this._parent&&!k.onlySelf&&(this._parent.updateValueAndValidity(k),k.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(k){this._parent=k}getRawValue(){return this.value}updateValueAndValidity(k={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===xt||this.status===De)&&this._runAsyncValidator(k.emitEvent)),!1!==k.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!k.onlySelf&&this._parent.updateValueAndValidity(k)}_updateTreeValidity(k={emitEvent:!0}){this._forEachChild(F=>F._updateTreeValidity(k)),this.updateValueAndValidity({onlySelf:!0,emitEvent:k.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?ze:xt}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(k){if(this.asyncValidator){this.status=De,this._hasOwnPendingAsyncValidator=!0;const F=pt(this.asyncValidator(this));this._asyncValidationSubscription=F.subscribe(oe=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(oe,{emitEvent:k})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(k,F={}){this.errors=k,this._updateControlsErrors(!1!==F.emitEvent)}get(k){let F=k;return null==F||(Array.isArray(F)||(F=F.split(".")),0===F.length)?null:F.reduce((oe,Mt)=>oe&&oe._find(Mt),this)}getError(k,F){const oe=F?this.get(F):this;return oe&&oe.errors?oe.errors[k]:null}hasError(k,F){return!!this.getError(k,F)}get root(){let k=this;for(;k._parent;)k=k._parent;return k}_updateControlsErrors(k){this.status=this._calculateStatus(),k&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(k)}_initObservables(){this.valueChanges=new c.vpe,this.statusChanges=new c.vpe}_calculateStatus(){return this._allControlsDisabled()?ze:this.errors?ge:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(De)?De:this._anyControlsHaveStatus(ge)?ge:xt}_anyControlsHaveStatus(k){return this._anyControls(F=>F.status===k)}_anyControlsDirty(){return this._anyControls(k=>k.dirty)}_anyControlsTouched(){return this._anyControls(k=>k.touched)}_updatePristine(k={}){this.pristine=!this._anyControlsDirty(),this._parent&&!k.onlySelf&&this._parent._updatePristine(k)}_updateTouched(k={}){this.touched=this._anyControlsTouched(),this._parent&&!k.onlySelf&&this._parent._updateTouched(k)}_registerOnCollectionChange(k){this._onCollectionChange=k}_setUpdateStrategy(k){Ht(k)&&null!=k.updateOn&&(this._updateOn=k.updateOn)}_parentMarkedDirty(k){return!k&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(k){return null}_assignValidators(k){this._rawValidators=Array.isArray(k)?k.slice():k,this._composedValidatorFn=function ct(L){return Array.isArray(L)?Nn(L):L||null}(this._rawValidators)}_assignAsyncValidators(k){this._rawAsyncValidators=Array.isArray(k)?k.slice():k,this._composedAsyncValidatorFn=function $n(L){return Array.isArray(L)?Wn(L):L||null}(this._rawAsyncValidators)}}class Oe extends tt{constructor(k,F,oe){super(At(F),ln(oe,F)),this.controls=k,this._initObservables(),this._setUpdateStrategy(F),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(k,F){return this.controls[k]?this.controls[k]:(this.controls[k]=F,F.setParent(this),F._registerOnCollectionChange(this._onCollectionChange),F)}addControl(k,F,oe={}){this.registerControl(k,F),this.updateValueAndValidity({emitEvent:oe.emitEvent}),this._onCollectionChange()}removeControl(k,F={}){this.controls[k]&&this.controls[k]._registerOnCollectionChange(()=>{}),delete this.controls[k],this.updateValueAndValidity({emitEvent:F.emitEvent}),this._onCollectionChange()}setControl(k,F,oe={}){this.controls[k]&&this.controls[k]._registerOnCollectionChange(()=>{}),delete this.controls[k],F&&this.registerControl(k,F),this.updateValueAndValidity({emitEvent:oe.emitEvent}),this._onCollectionChange()}contains(k){return this.controls.hasOwnProperty(k)&&this.controls[k].enabled}setValue(k,F={}){pn(this,0,k),Object.keys(k).forEach(oe=>{Tr(this,!0,oe),this.controls[oe].setValue(k[oe],{onlySelf:!0,emitEvent:F.emitEvent})}),this.updateValueAndValidity(F)}patchValue(k,F={}){null!=k&&(Object.keys(k).forEach(oe=>{const Mt=this.controls[oe];Mt&&Mt.patchValue(k[oe],{onlySelf:!0,emitEvent:F.emitEvent})}),this.updateValueAndValidity(F))}reset(k={},F={}){this._forEachChild((oe,Mt)=>{oe.reset(k[Mt],{onlySelf:!0,emitEvent:F.emitEvent})}),this._updatePristine(F),this._updateTouched(F),this.updateValueAndValidity(F)}getRawValue(){return this._reduceChildren({},(k,F,oe)=>(k[oe]=F.getRawValue(),k))}_syncPendingControls(){let k=this._reduceChildren(!1,(F,oe)=>!!oe._syncPendingControls()||F);return k&&this.updateValueAndValidity({onlySelf:!0}),k}_forEachChild(k){Object.keys(this.controls).forEach(F=>{const oe=this.controls[F];oe&&k(oe,F)})}_setUpControls(){this._forEachChild(k=>{k.setParent(this),k._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(k){for(const[F,oe]of Object.entries(this.controls))if(this.contains(F)&&k(oe))return!0;return!1}_reduceValue(){return this._reduceChildren({},(F,oe,Mt)=>((oe.enabled||this.disabled)&&(F[Mt]=oe.value),F))}_reduceChildren(k,F){let oe=k;return this._forEachChild((Mt,Ln)=>{oe=F(oe,Mt,Ln)}),oe}_allControlsDisabled(){for(const k of Object.keys(this.controls))if(this.controls[k].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(k){return this.controls.hasOwnProperty(k)?this.controls[k]:null}}class vt extends Oe{}const nr=new c.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>Yr}),Yr="always";function Zr(L,k){return[...k.path,L]}function wi(L,k,F=Yr){var oe,Mt;ss(L,k),k.valueAccessor.writeValue(L.value),(L.disabled||"always"===F)&&(null===(oe=(Mt=k.valueAccessor).setDisabledState)||void 0===oe||oe.call(Mt,L.disabled)),function ps(L,k){k.valueAccessor.registerOnChange(F=>{L._pendingValue=F,L._pendingChange=!0,L._pendingDirty=!0,"change"===L.updateOn&&gi(L,k)})}(L,k),function Fi(L,k){const F=(oe,Mt)=>{k.valueAccessor.writeValue(oe),Mt&&k.viewToModelUpdate(oe)};L.registerOnChange(F),k._registerOnDestroy(()=>{L._unregisterOnChange(F)})}(L,k),function mr(L,k){k.valueAccessor.registerOnTouched(()=>{L._pendingTouched=!0,"blur"===L.updateOn&&L._pendingChange&&gi(L,k),"submit"!==L.updateOn&&L.markAsTouched()})}(L,k),function Ps(L,k){if(k.valueAccessor.setDisabledState){const F=oe=>{k.valueAccessor.setDisabledState(oe)};L.registerOnDisabledChange(F),k._registerOnDestroy(()=>{L._unregisterOnDisabledChange(F)})}}(L,k)}function ei(L,k,F=!0){const oe=()=>{};k.valueAccessor&&(k.valueAccessor.registerOnChange(oe),k.valueAccessor.registerOnTouched(oe)),ti(L,k),L&&(k._invokeOnDestroyCallbacks(),L._registerOnCollectionChange(()=>{}))}function xr(L,k){L.forEach(F=>{F.registerOnValidatorChange&&F.registerOnValidatorChange(k)})}function ss(L,k){const F=cr(L);null!==k.validator?L.setValidators(or(F,k.validator)):"function"==typeof F&&L.setValidators([F]);const oe=Mr(L);null!==k.asyncValidator?L.setAsyncValidators(or(oe,k.asyncValidator)):"function"==typeof oe&&L.setAsyncValidators([oe]);const Mt=()=>L.updateValueAndValidity();xr(k._rawValidators,Mt),xr(k._rawAsyncValidators,Mt)}function ti(L,k){let F=!1;if(null!==L){if(null!==k.validator){const Mt=cr(L);if(Array.isArray(Mt)&&Mt.length>0){const Ln=Mt.filter(Ri=>Ri!==k.validator);Ln.length!==Mt.length&&(F=!0,L.setValidators(Ln))}}if(null!==k.asyncValidator){const Mt=Mr(L);if(Array.isArray(Mt)&&Mt.length>0){const Ln=Mt.filter(Ri=>Ri!==k.asyncValidator);Ln.length!==Mt.length&&(F=!0,L.setAsyncValidators(Ln))}}}const oe=()=>{};return xr(k._rawValidators,oe),xr(k._rawAsyncValidators,oe),F}function gi(L,k){L._pendingDirty&&L.markAsDirty(),L.setValue(L._pendingValue,{emitModelToViewChange:!1}),k.viewToModelUpdate(L._pendingValue),L._pendingChange=!1}function mi(L,k){if(!L.hasOwnProperty("model"))return!1;const F=L.model;return!!F.isFirstChange()||!Object.is(k,F.currentValue)}function Ie(L,k){if(!k)return null;let F,oe,Mt;return Array.isArray(k),k.forEach(Ln=>{Ln.constructor===Be?F=Ln:function ni(L){return Object.getPrototypeOf(L.constructor)===We}(Ln)?oe=Ln:Mt=Ln}),Mt||oe||F||null}function St(L,k){const F=L.indexOf(k);F>-1&&L.splice(F,1)}function zt(L){return"object"==typeof L&&null!==L&&2===Object.keys(L).length&&"value"in L&&"disabled"in L}const jt=class extends tt{constructor(k=null,F,oe){super(At(F),ln(oe,F)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(k),this._setUpdateStrategy(F),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Ht(F)&&(F.nonNullable||F.initialValueIsDefault)&&(this.defaultValue=zt(k)?k.value:k)}setValue(k,F={}){this.value=this._pendingValue=k,this._onChange.length&&!1!==F.emitModelToViewChange&&this._onChange.forEach(oe=>oe(this.value,!1!==F.emitViewToModelChange)),this.updateValueAndValidity(F)}patchValue(k,F={}){this.setValue(k,F)}reset(k=this.defaultValue,F={}){this._applyFormState(k),this.markAsPristine(F),this.markAsUntouched(F),this.setValue(this.value,F),this._pendingChange=!1}_updateValue(){}_anyControls(k){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(k){this._onChange.push(k)}_unregisterOnChange(k){St(this._onChange,k)}registerOnDisabledChange(k){this._onDisabledChange.push(k)}_unregisterOnDisabledChange(k){St(this._onDisabledChange,k)}_forEachChild(k){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(k){zt(k)?(this.value=this._pendingValue=k.value,k.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=k}},un={provide:ui,useExisting:(0,c.Gpc)(()=>Xn)},In=(()=>Promise.resolve())();let Xn=(()=>{class L extends ui{constructor(F,oe,Mt,Ln,Ri,Zi){super(),this._changeDetectorRef=Ri,this.callSetDisabledState=Zi,this.control=new jt,this._registered=!1,this.update=new c.vpe,this._parent=F,this._setValidators(oe),this._setAsyncValidators(Mt),this.valueAccessor=Ie(0,Ln)}ngOnChanges(F){if(this._checkForErrors(),!this._registered||"name"in F){if(this._registered&&(this._checkName(),this.formDirective)){const oe=F.name.previousValue;this.formDirective.removeControl({name:oe,path:this._getPath(oe)})}this._setUpControl()}"isDisabled"in F&&this._updateDisabled(F),mi(F,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(F){this.viewModel=F,this.update.emit(F)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){wi(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(F){In.then(()=>{var oe;this.control.setValue(F,{emitViewToModelChange:!1}),null===(oe=this._changeDetectorRef)||void 0===oe||oe.markForCheck()})}_updateDisabled(F){const oe=F.isDisabled.currentValue,Mt=0!==oe&&(0,c.D6c)(oe);In.then(()=>{var Ln;Mt&&!this.control.disabled?this.control.disable():!Mt&&this.control.disabled&&this.control.enable(),null===(Ln=this._changeDetectorRef)||void 0===Ln||Ln.markForCheck()})}_getPath(F){return this._parent?Zr(F,this._parent):[F]}}return L.\u0275fac=function(F){return new(F||L)(c.Y36(hn,9),c.Y36(Ge,10),c.Y36(te,10),c.Y36(je,10),c.Y36(c.sBO,8),c.Y36(nr,8))},L.\u0275dir=c.lG2({type:L,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[c._Bn([un]),c.qOj,c.TTD]}),L})(),Or=(()=>{class L{}return L.\u0275fac=function(F){return new(F||L)},L.\u0275dir=c.lG2({type:L,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),L})(),Vs=(()=>{class L{}return L.\u0275fac=function(F){return new(F||L)},L.\u0275mod=c.oAB({type:L}),L.\u0275inj=c.cJS({}),L})();const Mo=new c.OlP("NgModelWithFormControlWarning"),Os={provide:hn,useExisting:(0,c.Gpc)(()=>Xs)};let Xs=(()=>{class L extends hn{constructor(F,oe,Mt){super(),this.callSetDisabledState=Mt,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new c.vpe,this._setValidators(F),this._setAsyncValidators(oe)}ngOnChanges(F){this._checkFormPresent(),F.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(ti(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(F){const oe=this.form.get(F.path);return wi(oe,F,this.callSetDisabledState),oe.updateValueAndValidity({emitEvent:!1}),this.directives.push(F),oe}getControl(F){return this.form.get(F.path)}removeControl(F){ei(F.control||null,F,!1),function at(L,k){const F=L.indexOf(k);F>-1&&L.splice(F,1)}(this.directives,F)}addFormGroup(F){this._setUpFormContainer(F)}removeFormGroup(F){this._cleanUpFormContainer(F)}getFormGroup(F){return this.form.get(F.path)}addFormArray(F){this._setUpFormContainer(F)}removeFormArray(F){this._cleanUpFormContainer(F)}getFormArray(F){return this.form.get(F.path)}updateModel(F,oe){this.form.get(F.path).setValue(oe)}onSubmit(F){var oe;return this.submitted=!0,function se(L,k){L._syncPendingControls(),k.forEach(F=>{const oe=F.control;"submit"===oe.updateOn&&oe._pendingChange&&(F.viewToModelUpdate(oe._pendingValue),oe._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(F),"dialog"===(null==F||null===(oe=F.target)||void 0===oe?void 0:oe.method)}onReset(){this.resetForm()}resetForm(F){this.form.reset(F),this.submitted=!1}_updateDomValue(){this.directives.forEach(F=>{const oe=F.control,Mt=this.form.get(F.path);oe!==Mt&&(ei(oe||null,F),(L=>L instanceof jt)(Mt)&&(wi(Mt,F,this.callSetDisabledState),F.control=Mt))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(F){const oe=this.form.get(F.path);(function ci(L,k){ss(L,k)})(oe,F),oe.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(F){if(this.form){const oe=this.form.get(F.path);oe&&function Jr(L,k){return ti(L,k)}(oe,F)&&oe.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){ss(this.form,this),this._oldForm&&ti(this._oldForm,this)}_checkFormPresent(){}}return L.\u0275fac=function(F){return new(F||L)(c.Y36(Ge,10),c.Y36(te,10),c.Y36(nr,8))},L.\u0275dir=c.lG2({type:L,selectors:[["","formGroup",""]],hostBindings:function(F,oe){1&F&&c.NdJ("submit",function(Ln){return oe.onSubmit(Ln)})("reset",function(){return oe.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[c._Bn([Os]),c.qOj,c.TTD]}),L})();const xs={provide:ui,useExisting:(0,c.Gpc)(()=>na)};let na=(()=>{class L extends ui{constructor(F,oe,Mt,Ln,Ri){super(),this._ngModelWarningConfig=Ri,this._added=!1,this.update=new c.vpe,this._ngModelWarningSent=!1,this._parent=F,this._setValidators(oe),this._setAsyncValidators(Mt),this.valueAccessor=Ie(0,Ln)}set isDisabled(F){}ngOnChanges(F){this._added||this._setUpControl(),mi(F,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(F){this.viewModel=F,this.update.emit(F)}get path(){return Zr(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return L._ngModelWarningSentOnce=!1,L.\u0275fac=function(F){return new(F||L)(c.Y36(hn,13),c.Y36(Ge,10),c.Y36(te,10),c.Y36(je,10),c.Y36(Mo,8))},L.\u0275dir=c.lG2({type:L,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[c._Bn([xs]),c.qOj,c.TTD]}),L})();const ra={provide:je,useExisting:(0,c.Gpc)(()=>Ki),multi:!0};function pa(L,k){return null==L?`${k}`:(k&&"object"==typeof k&&(k="Object"),`${L}: ${k}`.slice(0,50))}let Ki=(()=>{class L extends We{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(F){this._compareWith=F}writeValue(F){this.value=F;const Mt=pa(this._getOptionId(F),F);this.setProperty("value",Mt)}registerOnChange(F){this.onChange=oe=>{this.value=this._getOptionValue(oe),F(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(F){for(const oe of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(oe),F))return oe;return null}_getOptionValue(F){const oe=function us(L){return L.split(":")[0]}(F);return this._optionMap.has(oe)?this._optionMap.get(oe):F}}return L.\u0275fac=function(){let k;return function(oe){return(k||(k=c.n5z(L)))(oe||L)}}(),L.\u0275dir=c.lG2({type:L,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(F,oe){1&F&&c.NdJ("change",function(Ln){return oe.onChange(Ln.target.value)})("blur",function(){return oe.onTouched()})},inputs:{compareWith:"compareWith"},features:[c._Bn([ra]),c.qOj]}),L})(),co=(()=>{class L{constructor(F,oe,Mt){this._element=F,this._renderer=oe,this._select=Mt,this._select&&(this.id=this._select._registerOption())}set ngValue(F){null!=this._select&&(this._select._optionMap.set(this.id,F),this._setElementValue(pa(this.id,F)),this._select.writeValue(this._select.value))}set value(F){this._setElementValue(F),this._select&&this._select.writeValue(this._select.value)}_setElementValue(F){this._renderer.setProperty(this._element.nativeElement,"value",F)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return L.\u0275fac=function(F){return new(F||L)(c.Y36(c.SBq),c.Y36(c.Qsj),c.Y36(Ki,9))},L.\u0275dir=c.lG2({type:L,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),L})();const $o={provide:je,useExisting:(0,c.Gpc)(()=>Ct),multi:!0};function ts(L,k){return null==L?`${k}`:("string"==typeof k&&(k=`'${k}'`),k&&"object"==typeof k&&(k="Object"),`${L}: ${k}`.slice(0,50))}let Ct=(()=>{class L extends We{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(F){this._compareWith=F}writeValue(F){let oe;if(this.value=F,Array.isArray(F)){const Mt=F.map(Ln=>this._getOptionId(Ln));oe=(Ln,Ri)=>{Ln._setSelected(Mt.indexOf(Ri.toString())>-1)}}else oe=(Mt,Ln)=>{Mt._setSelected(!1)};this._optionMap.forEach(oe)}registerOnChange(F){this.onChange=oe=>{const Mt=[],Ln=oe.selectedOptions;if(void 0!==Ln){const Ri=Ln;for(let Zi=0;Zi<Ri.length;Zi++){const ks=this._getOptionValue(Ri[Zi].value);Mt.push(ks)}}else{const Ri=oe.options;for(let Zi=0;Zi<Ri.length;Zi++){const Ws=Ri[Zi];if(Ws.selected){const ks=this._getOptionValue(Ws.value);Mt.push(ks)}}}this.value=Mt,F(Mt)}}_registerOption(F){const oe=(this._idCounter++).toString();return this._optionMap.set(oe,F),oe}_getOptionId(F){for(const oe of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(oe)._value,F))return oe;return null}_getOptionValue(F){const oe=function yi(L){return L.split(":")[0]}(F);return this._optionMap.has(oe)?this._optionMap.get(oe)._value:F}}return L.\u0275fac=function(){let k;return function(oe){return(k||(k=c.n5z(L)))(oe||L)}}(),L.\u0275dir=c.lG2({type:L,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(F,oe){1&F&&c.NdJ("change",function(Ln){return oe.onChange(Ln.target)})("blur",function(){return oe.onTouched()})},inputs:{compareWith:"compareWith"},features:[c._Bn([$o]),c.qOj]}),L})(),Ue=(()=>{class L{constructor(F,oe,Mt){this._element=F,this._renderer=oe,this._select=Mt,this._select&&(this.id=this._select._registerOption(this))}set ngValue(F){null!=this._select&&(this._value=F,this._setElementValue(ts(this.id,F)),this._select.writeValue(this._select.value))}set value(F){this._select?(this._value=F,this._setElementValue(ts(this.id,F)),this._select.writeValue(this._select.value)):this._setElementValue(F)}_setElementValue(F){this._renderer.setProperty(this._element.nativeElement,"value",F)}_setSelected(F){this._renderer.setProperty(this._element.nativeElement,"selected",F)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return L.\u0275fac=function(F){return new(F||L)(c.Y36(c.SBq),c.Y36(c.Qsj),c.Y36(Ct,9))},L.\u0275dir=c.lG2({type:L,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),L})(),C=(()=>{class L{}return L.\u0275fac=function(F){return new(F||L)},L.\u0275mod=c.oAB({type:L}),L.\u0275inj=c.cJS({imports:[Vs]}),L})(),H=(()=>{class L{static withConfig(F){var oe;return{ngModule:L,providers:[{provide:nr,useValue:null!==(oe=F.callSetDisabledState)&&void 0!==oe?oe:Yr}]}}}return L.\u0275fac=function(F){return new(F||L)},L.\u0275mod=c.oAB({type:L}),L.\u0275inj=c.cJS({imports:[C]}),L})(),re=(()=>{class L{static withConfig(F){var oe,Mt;return{ngModule:L,providers:[{provide:Mo,useValue:null!==(oe=F.warnOnNgModelWithFormControl)&&void 0!==oe?oe:"always"},{provide:nr,useValue:null!==(Mt=F.callSetDisabledState)&&void 0!==Mt?Mt:Yr}]}}}return L.\u0275fac=function(F){return new(F||L)},L.\u0275mod=c.oAB({type:L}),L.\u0275inj=c.cJS({imports:[C]}),L})();class Nt extends tt{constructor(k,F,oe){super(At(F),ln(oe,F)),this.controls=k,this._initObservables(),this._setUpdateStrategy(F),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(k){return this.controls[this._adjustIndex(k)]}push(k,F={}){this.controls.push(k),this._registerControl(k),this.updateValueAndValidity({emitEvent:F.emitEvent}),this._onCollectionChange()}insert(k,F,oe={}){this.controls.splice(k,0,F),this._registerControl(F),this.updateValueAndValidity({emitEvent:oe.emitEvent})}removeAt(k,F={}){let oe=this._adjustIndex(k);oe<0&&(oe=0),this.controls[oe]&&this.controls[oe]._registerOnCollectionChange(()=>{}),this.controls.splice(oe,1),this.updateValueAndValidity({emitEvent:F.emitEvent})}setControl(k,F,oe={}){let Mt=this._adjustIndex(k);Mt<0&&(Mt=0),this.controls[Mt]&&this.controls[Mt]._registerOnCollectionChange(()=>{}),this.controls.splice(Mt,1),F&&(this.controls.splice(Mt,0,F),this._registerControl(F)),this.updateValueAndValidity({emitEvent:oe.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(k,F={}){pn(this,0,k),k.forEach((oe,Mt)=>{Tr(this,!1,Mt),this.at(Mt).setValue(oe,{onlySelf:!0,emitEvent:F.emitEvent})}),this.updateValueAndValidity(F)}patchValue(k,F={}){null!=k&&(k.forEach((oe,Mt)=>{this.at(Mt)&&this.at(Mt).patchValue(oe,{onlySelf:!0,emitEvent:F.emitEvent})}),this.updateValueAndValidity(F))}reset(k=[],F={}){this._forEachChild((oe,Mt)=>{oe.reset(k[Mt],{onlySelf:!0,emitEvent:F.emitEvent})}),this._updatePristine(F),this._updateTouched(F),this.updateValueAndValidity(F)}getRawValue(){return this.controls.map(k=>k.getRawValue())}clear(k={}){this.controls.length<1||(this._forEachChild(F=>F._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:k.emitEvent}))}_adjustIndex(k){return k<0?k+this.length:k}_syncPendingControls(){let k=this.controls.reduce((F,oe)=>!!oe._syncPendingControls()||F,!1);return k&&this.updateValueAndValidity({onlySelf:!0}),k}_forEachChild(k){this.controls.forEach((F,oe)=>{k(F,oe)})}_updateValue(){this.value=this.controls.filter(k=>k.enabled||this.disabled).map(k=>k.value)}_anyControls(k){return this.controls.some(F=>F.enabled&&k(F))}_setUpControls(){this._forEachChild(k=>this._registerControl(k))}_allControlsDisabled(){for(const k of this.controls)if(k.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(k){k.setParent(this),k._registerOnCollectionChange(this._onCollectionChange)}_find(k){var F;return null!==(F=this.at(k))&&void 0!==F?F:null}}function yr(L){return!!L&&(void 0!==L.asyncValidators||void 0!==L.validators||void 0!==L.updateOn)}let Br=(()=>{class L{constructor(){this.useNonNullable=!1}get nonNullable(){const F=new L;return F.useNonNullable=!0,F}group(F,oe=null){const Mt=this._reduceControls(F);let Ln={};return yr(oe)?Ln=oe:null!==oe&&(Ln.validators=oe.validator,Ln.asyncValidators=oe.asyncValidator),new Oe(Mt,Ln)}record(F,oe=null){const Mt=this._reduceControls(F);return new vt(Mt,oe)}control(F,oe,Mt){let Ln={};return this.useNonNullable?(yr(oe)?Ln=oe:(Ln.validators=oe,Ln.asyncValidators=Mt),new jt(F,{...Ln,nonNullable:!0})):new jt(F,oe,Mt)}array(F,oe,Mt){const Ln=F.map(Ri=>this._createControl(Ri));return new Nt(Ln,oe,Mt)}_reduceControls(F){const oe={};return Object.keys(F).forEach(Mt=>{oe[Mt]=this._createControl(F[Mt])}),oe}_createControl(F){return F instanceof jt||F instanceof tt?F:Array.isArray(F)?this.control(F[0],F.length>1?F[1]:null,F.length>2?F[2]:null):this.control(F)}}return L.\u0275fac=function(F){return new(F||L)},L.\u0275prov=c.Yz7({token:L,factory:L.\u0275fac,providedIn:re}),L})()},310:()=>{"use strict";class Qp extends Error{constructor(t){super(`No translation found for ${Gh(t)}.`),this.parsedMessage=t,this.type="MissingTranslationError"}}const Mf=function(d,...t){if(Mf.translate){const l=Mf.translate(d,t);d=l[0],t=l[1]}let s=eg(d[0],d.raw[0]);for(let l=1;l<d.length;l++)s+=t[l-1]+eg(d[l],d.raw[l]);return s};function eg(d,t){return":"===t.charAt(0)?d.substring(function Mv(d,t){for(let s=1,l=1;s<d.length;s++,l++)if("\\"===t[l])l++;else if(":"===d[s])return s;throw new Error(`Unterminated $localize metadata block in "${t}".`)}(d,t)+1):d}(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)().$localize=Mf},1481:(Jt,it,V)=>{"use strict";V.d(it,{Dx:()=>Oi,H7:()=>$n,b2:()=>hn,q6:()=>Dn});var c=V(6895),J=V(4650);class G extends c.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Ae extends G{static makeCurrent(){(0,c.HT)(new Ae)}onAndCancel(Oe,Te,ht){return Oe.addEventListener(Te,ht,!1),()=>{Oe.removeEventListener(Te,ht,!1)}}dispatchEvent(Oe,Te){Oe.dispatchEvent(Te)}remove(Oe){Oe.parentNode&&Oe.parentNode.removeChild(Oe)}createElement(Oe,Te){return(Te=Te||this.getDefaultDocument()).createElement(Oe)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(Oe){return Oe.nodeType===Node.ELEMENT_NODE}isShadowRoot(Oe){return Oe instanceof DocumentFragment}getGlobalEventTarget(Oe,Te){return"window"===Te?window:"document"===Te?Oe:"body"===Te?Oe.body:null}getBaseHref(Oe){const Te=function ke(){return _e=_e||document.querySelector("base"),_e?_e.getAttribute("href"):null}();return null==Te?null:function Pe(tt){ve=ve||document.createElement("a"),ve.setAttribute("href",tt);const Oe=ve.pathname;return"/"===Oe.charAt(0)?Oe:`/${Oe}`}(Te)}resetBaseElement(){_e=null}getUserAgent(){return window.navigator.userAgent}getCookie(Oe){return(0,c.Mx)(document.cookie,Oe)}}let ve,_e=null;const Ne=new J.OlP("TRANSITION_ID"),he=[{provide:J.ip1,useFactory:function we(tt,Oe,Te){return()=>{Te.get(J.CZH).donePromise.then(()=>{const ht=(0,c.q)(),vt=Oe.querySelectorAll(`style[ng-transition="${tt}"]`);for(let Tn=0;Tn<vt.length;Tn++)ht.remove(vt[Tn])})}},deps:[Ne,c.K0,J.zs3],multi:!0}];let Re=(()=>{class tt{build(){return new XMLHttpRequest}}return tt.\u0275fac=function(Te){return new(Te||tt)},tt.\u0275prov=J.Yz7({token:tt,factory:tt.\u0275fac}),tt})();const We=new J.OlP("EventManagerPlugins");let je=(()=>{class tt{constructor(Te,ht){this._zone=ht,this._eventNameToPlugin=new Map,Te.forEach(vt=>vt.manager=this),this._plugins=Te.slice().reverse()}addEventListener(Te,ht,vt){return this._findPluginFor(ht).addEventListener(Te,ht,vt)}addGlobalEventListener(Te,ht,vt){return this._findPluginFor(ht).addGlobalEventListener(Te,ht,vt)}getZone(){return this._zone}_findPluginFor(Te){const ht=this._eventNameToPlugin.get(Te);if(ht)return ht;const vt=this._plugins;for(let Tn=0;Tn<vt.length;Tn++){const nr=vt[Tn];if(nr.supports(Te))return this._eventNameToPlugin.set(Te,nr),nr}throw new Error(`No event manager plugin found for event ${Te}`)}}return tt.\u0275fac=function(Te){return new(Te||tt)(J.LFG(We),J.LFG(J.R0b))},tt.\u0275prov=J.Yz7({token:tt,factory:tt.\u0275fac}),tt})();class Et{constructor(Oe){this._doc=Oe}addGlobalEventListener(Oe,Te,ht){const vt=(0,c.q)().getGlobalEventTarget(this._doc,Oe);if(!vt)throw new Error(`Unsupported event target ${vt} for event ${Te}`);return this.addEventListener(vt,Te,ht)}}let Se=(()=>{class tt{constructor(){this._stylesSet=new Set}addStyles(Te){const ht=new Set;Te.forEach(vt=>{this._stylesSet.has(vt)||(this._stylesSet.add(vt),ht.add(vt))}),this.onStylesAdded(ht)}onStylesAdded(Te){}getAllStyles(){return Array.from(this._stylesSet)}}return tt.\u0275fac=function(Te){return new(Te||tt)},tt.\u0275prov=J.Yz7({token:tt,factory:tt.\u0275fac}),tt})(),Ce=(()=>{class tt extends Se{constructor(Te){super(),this._doc=Te,this._hostNodes=new Map,this._hostNodes.set(Te.head,[])}_addStylesToHost(Te,ht,vt){Te.forEach(Tn=>{const nr=this._doc.createElement("style");nr.textContent=Tn,vt.push(ht.appendChild(nr))})}addHost(Te){const ht=[];this._addStylesToHost(this._stylesSet,Te,ht),this._hostNodes.set(Te,ht)}removeHost(Te){const ht=this._hostNodes.get(Te);ht&&ht.forEach(fe),this._hostNodes.delete(Te)}onStylesAdded(Te){this._hostNodes.forEach((ht,vt)=>{this._addStylesToHost(Te,vt,ht)})}ngOnDestroy(){this._hostNodes.forEach(Te=>Te.forEach(fe))}}return tt.\u0275fac=function(Te){return new(Te||tt)(J.LFG(c.K0))},tt.\u0275prov=J.Yz7({token:tt,factory:tt.\u0275fac}),tt})();function fe(tt){(0,c.q)().remove(tt)}const He={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Be=/%COMP%/g;function le(tt,Oe){return Oe.flat(100).map(Te=>Te.replace(Be,tt))}function ye(tt){return Oe=>{if("__ngUnwrap__"===Oe)return tt;!1===tt(Oe)&&(Oe.preventDefault(),Oe.returnValue=!1)}}let Me=(()=>{class tt{constructor(Te,ht,vt){this.eventManager=Te,this.sharedStylesHost=ht,this.appId=vt,this.rendererByCompId=new Map,this.defaultRenderer=new Xe(Te)}createRenderer(Te,ht){if(!Te||!ht)return this.defaultRenderer;switch(ht.encapsulation){case J.ifc.Emulated:{let vt=this.rendererByCompId.get(ht.id);return vt||(vt=new bt(this.eventManager,this.sharedStylesHost,ht,this.appId),this.rendererByCompId.set(ht.id,vt)),vt.applyToHost(Te),vt}case 1:case J.ifc.ShadowDom:return new ft(this.eventManager,this.sharedStylesHost,Te,ht);default:if(!this.rendererByCompId.has(ht.id)){const vt=le(ht.id,ht.styles);this.sharedStylesHost.addStyles(vt),this.rendererByCompId.set(ht.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return tt.\u0275fac=function(Te){return new(Te||tt)(J.LFG(je),J.LFG(Ce),J.LFG(J.AFp))},tt.\u0275prov=J.Yz7({token:tt,factory:tt.\u0275fac}),tt})();class Xe{constructor(Oe){this.eventManager=Oe,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(Oe,Te){return Te?document.createElementNS(He[Te]||Te,Oe):document.createElement(Oe)}createComment(Oe){return document.createComment(Oe)}createText(Oe){return document.createTextNode(Oe)}appendChild(Oe,Te){(Rt(Oe)?Oe.content:Oe).appendChild(Te)}insertBefore(Oe,Te,ht){Oe&&(Rt(Oe)?Oe.content:Oe).insertBefore(Te,ht)}removeChild(Oe,Te){Oe&&Oe.removeChild(Te)}selectRootElement(Oe,Te){let ht="string"==typeof Oe?document.querySelector(Oe):Oe;if(!ht)throw new Error(`The selector "${Oe}" did not match any elements`);return Te||(ht.textContent=""),ht}parentNode(Oe){return Oe.parentNode}nextSibling(Oe){return Oe.nextSibling}setAttribute(Oe,Te,ht,vt){if(vt){Te=vt+":"+Te;const Tn=He[vt];Tn?Oe.setAttributeNS(Tn,Te,ht):Oe.setAttribute(Te,ht)}else Oe.setAttribute(Te,ht)}removeAttribute(Oe,Te,ht){if(ht){const vt=He[ht];vt?Oe.removeAttributeNS(vt,Te):Oe.removeAttribute(`${ht}:${Te}`)}else Oe.removeAttribute(Te)}addClass(Oe,Te){Oe.classList.add(Te)}removeClass(Oe,Te){Oe.classList.remove(Te)}setStyle(Oe,Te,ht,vt){vt&(J.JOm.DashCase|J.JOm.Important)?Oe.style.setProperty(Te,ht,vt&J.JOm.Important?"important":""):Oe.style[Te]=ht}removeStyle(Oe,Te,ht){ht&J.JOm.DashCase?Oe.style.removeProperty(Te):Oe.style[Te]=""}setProperty(Oe,Te,ht){Oe[Te]=ht}setValue(Oe,Te){Oe.nodeValue=Te}listen(Oe,Te,ht){return"string"==typeof Oe?this.eventManager.addGlobalEventListener(Oe,Te,ye(ht)):this.eventManager.addEventListener(Oe,Te,ye(ht))}}function Rt(tt){return"TEMPLATE"===tt.tagName&&void 0!==tt.content}class bt extends Xe{constructor(Oe,Te,ht,vt){super(Oe),this.component=ht;const Tn=le(vt+"-"+ht.id,ht.styles);Te.addStyles(Tn),this.contentAttr=function te(tt){return"_ngcontent-%COMP%".replace(Be,tt)}(vt+"-"+ht.id),this.hostAttr=function Ze(tt){return"_nghost-%COMP%".replace(Be,tt)}(vt+"-"+ht.id)}applyToHost(Oe){super.setAttribute(Oe,this.hostAttr,"")}createElement(Oe,Te){const ht=super.createElement(Oe,Te);return super.setAttribute(ht,this.contentAttr,""),ht}}class ft extends Xe{constructor(Oe,Te,ht,vt){super(Oe),this.sharedStylesHost=Te,this.hostEl=ht,this.shadowRoot=ht.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const Tn=le(vt.id,vt.styles);for(let nr=0;nr<Tn.length;nr++){const Yr=document.createElement("style");Yr.textContent=Tn[nr],this.shadowRoot.appendChild(Yr)}}nodeOrShadowRoot(Oe){return Oe===this.hostEl?this.shadowRoot:Oe}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(Oe,Te){return super.appendChild(this.nodeOrShadowRoot(Oe),Te)}insertBefore(Oe,Te,ht){return super.insertBefore(this.nodeOrShadowRoot(Oe),Te,ht)}removeChild(Oe,Te){return super.removeChild(this.nodeOrShadowRoot(Oe),Te)}parentNode(Oe){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(Oe)))}}let Ot=(()=>{class tt extends Et{constructor(Te){super(Te)}supports(Te){return!0}addEventListener(Te,ht,vt){return Te.addEventListener(ht,vt,!1),()=>this.removeEventListener(Te,ht,vt)}removeEventListener(Te,ht,vt){return Te.removeEventListener(ht,vt)}}return tt.\u0275fac=function(Te){return new(Te||tt)(J.LFG(c.K0))},tt.\u0275prov=J.Yz7({token:tt,factory:tt.\u0275fac}),tt})();const pt=["alt","control","meta","shift"],wt={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},st={alt:tt=>tt.altKey,control:tt=>tt.ctrlKey,meta:tt=>tt.metaKey,shift:tt=>tt.shiftKey};let nn=(()=>{class tt extends Et{constructor(Te){super(Te)}supports(Te){return null!=tt.parseEventName(Te)}addEventListener(Te,ht,vt){const Tn=tt.parseEventName(ht),nr=tt.eventCallback(Tn.fullKey,vt,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,c.q)().onAndCancel(Te,Tn.domEventName,nr))}static parseEventName(Te){const ht=Te.toLowerCase().split("."),vt=ht.shift();if(0===ht.length||"keydown"!==vt&&"keyup"!==vt)return null;const Tn=tt._normalizeKey(ht.pop());let nr="",Yr=ht.indexOf("code");if(Yr>-1&&(ht.splice(Yr,1),nr="code."),pt.forEach(wi=>{const ei=ht.indexOf(wi);ei>-1&&(ht.splice(ei,1),nr+=wi+".")}),nr+=Tn,0!=ht.length||0===Tn.length)return null;const Zr={};return Zr.domEventName=vt,Zr.fullKey=nr,Zr}static matchEventFullKeyCode(Te,ht){let vt=wt[Te.key]||Te.key,Tn="";return ht.indexOf("code.")>-1&&(vt=Te.code,Tn="code."),!(null==vt||!vt)&&(vt=vt.toLowerCase()," "===vt?vt="space":"."===vt&&(vt="dot"),pt.forEach(nr=>{nr!==vt&&(0,st[nr])(Te)&&(Tn+=nr+".")}),Tn+=vt,Tn===ht)}static eventCallback(Te,ht,vt){return Tn=>{tt.matchEventFullKeyCode(Tn,Te)&&vt.runGuarded(()=>ht(Tn))}}static _normalizeKey(Te){return"esc"===Te?"escape":Te}}return tt.\u0275fac=function(Te){return new(Te||tt)(J.LFG(c.K0))},tt.\u0275prov=J.Yz7({token:tt,factory:tt.\u0275fac}),tt})();const Dn=(0,J.eFA)(J._c5,"browser",[{provide:J.Lbi,useValue:c.bD},{provide:J.g9A,useValue:function or(){Ae.makeCurrent()},multi:!0},{provide:c.K0,useFactory:function Mr(){return(0,J.RDi)(document),document},deps:[]}]),ai=new J.OlP(""),Wt=[{provide:J.rWj,useClass:class me{addToWindow(Oe){J.dqk.getAngularTestability=(ht,vt=!0)=>{const Tn=Oe.findTestabilityInTree(ht,vt);if(null==Tn)throw new Error("Could not find testability for element.");return Tn},J.dqk.getAllAngularTestabilities=()=>Oe.getAllTestabilities(),J.dqk.getAllAngularRootElements=()=>Oe.getAllRootElements(),J.dqk.frameworkStabilizers||(J.dqk.frameworkStabilizers=[]),J.dqk.frameworkStabilizers.push(ht=>{const vt=J.dqk.getAllAngularTestabilities();let Tn=vt.length,nr=!1;const Yr=function(Zr){nr=nr||Zr,Tn--,0==Tn&&ht(nr)};vt.forEach(function(Zr){Zr.whenStable(Yr)})})}findTestabilityInTree(Oe,Te,ht){if(null==Te)return null;const vt=Oe.getTestability(Te);return null!=vt?vt:ht?(0,c.q)().isShadowRoot(Te)?this.findTestabilityInTree(Oe,Te.host,!0):this.findTestabilityInTree(Oe,Te.parentElement,!0):null}},deps:[]},{provide:J.lri,useClass:J.dDg,deps:[J.R0b,J.eoX,J.rWj]},{provide:J.dDg,useClass:J.dDg,deps:[J.R0b,J.eoX,J.rWj]}],Ur=[{provide:J.zSh,useValue:"root"},{provide:J.qLn,useFactory:function cr(){return new J.qLn},deps:[]},{provide:We,useClass:Ot,multi:!0,deps:[c.K0,J.R0b,J.Lbi]},{provide:We,useClass:nn,multi:!0,deps:[c.K0]},{provide:Me,useClass:Me,deps:[je,Ce,J.AFp]},{provide:J.FYo,useExisting:Me},{provide:Se,useExisting:Ce},{provide:Ce,useClass:Ce,deps:[c.K0]},{provide:je,useClass:je,deps:[We,J.R0b]},{provide:c.JF,useClass:Re,deps:[]},[]];let hn=(()=>{class tt{constructor(Te){}static withServerTransition(Te){return{ngModule:tt,providers:[{provide:J.AFp,useValue:Te.appId},{provide:Ne,useExisting:J.AFp},he]}}}return tt.\u0275fac=function(Te){return new(Te||tt)(J.LFG(ai,12))},tt.\u0275mod=J.oAB({type:tt}),tt.\u0275inj=J.cJS({providers:[...Ur,...Wt],imports:[c.ez,J.hGG]}),tt})(),Oi=(()=>{class tt{constructor(Te){this._doc=Te}getTitle(){return this._doc.title}setTitle(Te){this._doc.title=Te||""}}return tt.\u0275fac=function(Te){return new(Te||tt)(J.LFG(c.K0))},tt.\u0275prov=J.Yz7({token:tt,factory:function(Te){let ht=null;return ht=Te?new Te:function Si(){return new Oi((0,J.LFG)(c.K0))}(),ht},providedIn:"root"}),tt})();typeof window<"u"&&window;let $n=(()=>{class tt{}return tt.\u0275fac=function(Te){return new(Te||tt)},tt.\u0275prov=J.Yz7({token:tt,factory:function(Te){let ht=null;return ht=Te?new(Te||tt):J.LFG(Tr),ht},providedIn:"root"}),tt})(),Tr=(()=>{class tt extends $n{constructor(Te){super(),this._doc=Te}sanitize(Te,ht){if(null==ht)return null;switch(Te){case J.q3G.NONE:return ht;case J.q3G.HTML:return(0,J.qzn)(ht,"HTML")?(0,J.z3N)(ht):(0,J.EiD)(this._doc,String(ht)).toString();case J.q3G.STYLE:return(0,J.qzn)(ht,"Style")?(0,J.z3N)(ht):ht;case J.q3G.SCRIPT:if((0,J.qzn)(ht,"Script"))return(0,J.z3N)(ht);throw new Error("unsafe value used in a script context");case J.q3G.URL:return(0,J.qzn)(ht,"URL")?(0,J.z3N)(ht):(0,J.mCW)(String(ht));case J.q3G.RESOURCE_URL:if((0,J.qzn)(ht,"ResourceURL"))return(0,J.z3N)(ht);throw new Error(`unsafe value used in a resource URL context (see ${J.JZr})`);default:throw new Error(`Unexpected SecurityContext ${Te} (see ${J.JZr})`)}}bypassSecurityTrustHtml(Te){return(0,J.JVY)(Te)}bypassSecurityTrustStyle(Te){return(0,J.L6k)(Te)}bypassSecurityTrustScript(Te){return(0,J.eBb)(Te)}bypassSecurityTrustUrl(Te){return(0,J.LAX)(Te)}bypassSecurityTrustResourceUrl(Te){return(0,J.pB0)(Te)}}return tt.\u0275fac=function(Te){return new(Te||tt)(J.LFG(c.K0))},tt.\u0275prov=J.Yz7({token:tt,factory:function(Te){let ht=null;return ht=Te?new Te:function Ht(tt){return new Tr(tt.get(c.K0))}(J.LFG(J.zs3)),ht},providedIn:"root"}),tt})()},5892:(Jt,it,V)=>{"use strict";V.d(it,{gz:()=>Ti,y6:()=>Ki,m2:()=>se,OD:()=>ni,eC:()=>st,wm:()=>_i,wN:()=>ls,F0:()=>Jn,rH:()=>Wa,Od:()=>Qi,Bz:()=>Ul,lC:()=>$o,Hx:()=>ki});var c=V(4650),J=V(8996),G=V(9646),Ae=V(1135),_e=V(6805),ke=V(9841),ve=V(7272),Pe=V(9770),Ne=V(9635),we=V(2843),he=V(9751),me=V(515),Re=V(727),We=V(4482),je=V(5403);function Et(){return(0,We.e)((T,M)=>{let I=null;T._refCount++;const N=(0,je.x)(M,void 0,void 0,void 0,()=>{if(!T||T._refCount<=0||0<--T._refCount)return void(I=null);const j=T._connection,ne=I;I=null,j&&(!ne||j===ne)&&j.unsubscribe(),M.unsubscribe()});T.subscribe(N),N.closed||(I=T.connect())})}class Se extends he.y{constructor(M,I){super(),this.source=M,this.subjectFactory=I,this._subject=null,this._refCount=0,this._connection=null,(0,We.A)(M)&&(this.lift=M.lift)}_subscribe(M){return this.getSubject().subscribe(M)}getSubject(){const M=this._subject;return(!M||M.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:M}=this;this._subject=this._connection=null,null==M||M.unsubscribe()}connect(){let M=this._connection;if(!M){M=this._connection=new Re.w0;const I=this.getSubject();M.add(this.source.subscribe((0,je.x)(I,void 0,()=>{this._teardown(),I.complete()},N=>{this._teardown(),I.error(N)},()=>this._teardown()))),M.closed&&(this._connection=null,M=Re.w0.EMPTY)}return M}refCount(){return Et()(this)}}var Ce=V(7579),fe=V(6895),He=V(4004),Be=V(3900),Je=V(5698),Qe=V(8675),Ve=V(9300),Ge=V(5577),te=V(590),Ze=V(4351),le=V(8505),ye=V(262),xe=V(5026);function Me(T){return T<=0?()=>me.E:(0,We.e)((M,I)=>{let N=[];M.subscribe((0,je.x)(I,j=>{N.push(j),T<N.length&&N.shift()},()=>{for(const j of N)I.next(j);I.complete()},void 0,()=>{N=null}))})}var Xe=V(8068),Bt=V(6590),on=V(4671);function Rt(T,M){const I=arguments.length>=2;return N=>N.pipe(T?(0,Ve.h)((j,ne)=>T(j,ne,N)):on.y,Me(1),I?(0,Bt.d)(M):(0,Xe.T)(()=>new _e.K))}var ft=V(9718);function Ot(T){return(0,We.e)((M,I)=>{try{M.subscribe(I)}finally{I.add(T)}})}var pt=V(8189),wt=V(1481);const st="primary",nn=Symbol("RouteTitle");class Kt{constructor(M){this.params=M||{}}has(M){return Object.prototype.hasOwnProperty.call(this.params,M)}get(M){if(this.has(M)){const I=this.params[M];return Array.isArray(I)?I[0]:I}return null}getAll(M){if(this.has(M)){const I=this.params[M];return Array.isArray(I)?I:[I]}return[]}get keys(){return Object.keys(this.params)}}function en(T){return new Kt(T)}function Nn(T,M,I){const N=I.path.split("/");if(N.length>T.length||"full"===I.pathMatch&&(M.hasChildren()||N.length<T.length))return null;const j={};for(let ne=0;ne<N.length;ne++){const ce=N[ne],ot=T[ne];if(ce.startsWith(":"))j[ce.substring(1)]=ot;else if(ce!==ot.path)return null}return{consumed:T.slice(0,N.length),posParams:j}}function Wn(T,M){const I=T?Object.keys(T):void 0,N=M?Object.keys(M):void 0;if(!I||!N||I.length!=N.length)return!1;let j;for(let ne=0;ne<I.length;ne++)if(j=I[ne],!or(T[j],M[j]))return!1;return!0}function or(T,M){if(Array.isArray(T)&&Array.isArray(M)){if(T.length!==M.length)return!1;const I=[...T].sort(),N=[...M].sort();return I.every((j,ne)=>N[ne]===j)}return T===M}function cr(T){return Array.prototype.concat.apply([],T)}function Mr(T){return T.length>0?T[T.length-1]:null}function Dn(T,M){for(const I in T)T.hasOwnProperty(I)&&M(T[I],I)}function ai(T){return(0,c.CqO)(T)?T:(0,c.QGY)(T)?(0,J.D)(Promise.resolve(T)):(0,G.of)(T)}const Wt=!1,Ur={exact:function vr(T,M,I){if(!Nr(T.segments,M.segments)||!On(T.segments,M.segments,I)||T.numberOfChildren!==M.numberOfChildren)return!1;for(const N in M.children)if(!T.children[N]||!vr(T.children[N],M.children[N],I))return!1;return!0},subset:Oi},hn={exact:function gr(T,M){return Wn(T,M)},subset:function Si(T,M){return Object.keys(M).length<=Object.keys(T).length&&Object.keys(M).every(I=>or(T[I],M[I]))},ignored:()=>!0};function ui(T,M,I){return Ur[I.paths](T.root,M.root,I.matrixParams)&&hn[I.queryParams](T.queryParams,M.queryParams)&&!("exact"===I.fragment&&T.fragment!==M.fragment)}function Oi(T,M,I){return xn(T,M,M.segments,I)}function xn(T,M,I,N){if(T.segments.length>I.length){const j=T.segments.slice(0,I.length);return!(!Nr(j,I)||M.hasChildren()||!On(j,I,N))}if(T.segments.length===I.length){if(!Nr(T.segments,I)||!On(T.segments,I,N))return!1;for(const j in M.children)if(!T.children[j]||!Oi(T.children[j],M.children[j],N))return!1;return!0}{const j=I.slice(0,T.segments.length),ne=I.slice(T.segments.length);return!!(Nr(T.segments,j)&&On(T.segments,j,N)&&T.children[st])&&xn(T.children[st],M,ne,N)}}function On(T,M,I){return M.every((N,j)=>hn[I](T[j].parameters,N.parameters))}class fn{constructor(M=new zn([],{}),I={},N=null){this.root=M,this.queryParams=I,this.fragment=N}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=en(this.queryParams)),this._queryParamMap}toString(){return is.serialize(this)}}class zn{constructor(M,I){this.segments=M,this.children=I,this.parent=null,Dn(I,(N,j)=>N.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return ar(this)}}class _r{constructor(M,I){this.path=M,this.parameters=I}get parameterMap(){return this._parameterMap||(this._parameterMap=en(this.parameters)),this._parameterMap}toString(){return xt(this)}}function Nr(T,M){return T.length===M.length&&T.every((I,N)=>I.path===M[N].path)}let ki=(()=>{class T{}return T.\u0275fac=function(I){return new(I||T)},T.\u0275prov=c.Yz7({token:T,factory:function(){return new Rr},providedIn:"root"}),T})();class Rr{parse(M){const I=new Tr(M);return new fn(I.parseRootSegment(),I.parseQueryParams(),I.parseFragment())}serialize(M){const I=`/${li(M.root,!0)}`,N=function De(T){const M=Object.keys(T).map(I=>{const N=T[I];return Array.isArray(N)?N.map(j=>`${sn(I)}=${sn(j)}`).join("&"):`${sn(I)}=${sn(N)}`}).filter(I=>!!I);return M.length?`?${M.join("&")}`:""}(M.queryParams);return`${I}${N}${"string"==typeof M.fragment?`#${function qt(T){return encodeURI(T)}(M.fragment)}`:""}`}}const is=new Rr;function ar(T){return T.segments.map(M=>xt(M)).join("/")}function li(T,M){if(!T.hasChildren())return ar(T);if(M){const I=T.children[st]?li(T.children[st],!1):"",N=[];return Dn(T.children,(j,ne)=>{ne!==st&&N.push(`${ne}:${li(j,!1)}`)}),N.length>0?`${I}(${N.join("//")})`:I}{const I=function xi(T,M){let I=[];return Dn(T.children,(N,j)=>{j===st&&(I=I.concat(M(N,j)))}),Dn(T.children,(N,j)=>{j!==st&&(I=I.concat(M(N,j)))}),I}(T,(N,j)=>j===st?[li(T.children[st],!1)]:[`${j}:${li(N,!1)}`]);return 1===Object.keys(T.children).length&&null!=T.children[st]?`${ar(T)}/${I[0]}`:`${ar(T)}/(${I.join("//")})`}}function fr(T){return encodeURIComponent(T).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function sn(T){return fr(T).replace(/%3B/gi,";")}function gt(T){return fr(T).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Fe(T){return decodeURIComponent(T)}function Ke(T){return Fe(T.replace(/\+/g,"%20"))}function xt(T){return`${gt(T.path)}${function ge(T){return Object.keys(T).map(M=>`;${gt(M)}=${gt(T[M])}`).join("")}(T.parameters)}`}const ze=/^[^\/()?;=#]+/;function At(T){const M=T.match(ze);return M?M[0]:""}const ct=/^[^=?&#]+/,$n=/^[^&#]+/;class Tr{constructor(M){this.url=M,this.remaining=M}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new zn([],{}):new zn([],this.parseChildren())}parseQueryParams(){const M={};if(this.consumeOptional("?"))do{this.parseQueryParam(M)}while(this.consumeOptional("&"));return M}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const M=[];for(this.peekStartsWith("(")||M.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),M.push(this.parseSegment());let I={};this.peekStartsWith("/(")&&(this.capture("/"),I=this.parseParens(!0));let N={};return this.peekStartsWith("(")&&(N=this.parseParens(!1)),(M.length>0||Object.keys(I).length>0)&&(N[st]=new zn(M,I)),N}parseSegment(){const M=At(this.remaining);if(""===M&&this.peekStartsWith(";"))throw new c.vHH(4009,Wt);return this.capture(M),new _r(Fe(M),this.parseMatrixParams())}parseMatrixParams(){const M={};for(;this.consumeOptional(";");)this.parseParam(M);return M}parseParam(M){const I=At(this.remaining);if(!I)return;this.capture(I);let N="";if(this.consumeOptional("=")){const j=At(this.remaining);j&&(N=j,this.capture(N))}M[Fe(I)]=Fe(N)}parseQueryParam(M){const I=function ln(T){const M=T.match(ct);return M?M[0]:""}(this.remaining);if(!I)return;this.capture(I);let N="";if(this.consumeOptional("=")){const ce=function Ht(T){const M=T.match($n);return M?M[0]:""}(this.remaining);ce&&(N=ce,this.capture(N))}const j=Ke(I),ne=Ke(N);if(M.hasOwnProperty(j)){let ce=M[j];Array.isArray(ce)||(ce=[ce],M[j]=ce),ce.push(ne)}else M[j]=ne}parseParens(M){const I={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const N=At(this.remaining),j=this.remaining[N.length];if("/"!==j&&")"!==j&&";"!==j)throw new c.vHH(4010,Wt);let ne;N.indexOf(":")>-1?(ne=N.slice(0,N.indexOf(":")),this.capture(ne),this.capture(":")):M&&(ne=st);const ce=this.parseChildren();I[ne]=1===Object.keys(ce).length?ce[st]:new zn([],ce),this.consumeOptional("//")}return I}peekStartsWith(M){return this.remaining.startsWith(M)}consumeOptional(M){return!!this.peekStartsWith(M)&&(this.remaining=this.remaining.substring(M.length),!0)}capture(M){if(!this.consumeOptional(M))throw new c.vHH(4011,Wt)}}function pn(T){return T.segments.length>0?new zn([],{[st]:T}):T}function tt(T){const M={};for(const N of Object.keys(T.children)){const ne=tt(T.children[N]);(ne.segments.length>0||ne.hasChildren())&&(M[N]=ne)}return function Oe(T){if(1===T.numberOfChildren&&T.children[st]){const M=T.children[st];return new zn(T.segments.concat(M.segments),M.children)}return T}(new zn(T.segments,M))}function Te(T){return T instanceof fn}function Yr(T,M,I,N,j){var ne;if(0===I.length)return ei(M.root,M.root,M.root,N,j);const ce=function ss(T){if("string"==typeof T[0]&&1===T.length&&"/"===T[0])return new Ps(!0,0,T);let M=0,I=!1;const N=T.reduce((j,ne,ce)=>{if("object"==typeof ne&&null!=ne){if(ne.outlets){const ot={};return Dn(ne.outlets,(kt,wn)=>{ot[wn]="string"==typeof kt?kt.split("/"):kt}),[...j,{outlets:ot}]}if(ne.segmentPath)return[...j,ne.segmentPath]}return"string"!=typeof ne?[...j,ne]:0===ce?(ne.split("/").forEach((ot,kt)=>{0==kt&&"."===ot||(0==kt&&""===ot?I=!0:".."===ot?M++:""!=ot&&j.push(ot))}),j):[...j,ne]},[]);return new Ps(I,M,N)}(I);return ce.toRoot()?ei(M.root,M.root,new zn([],{}),N,j):function ot(wn){var Rn;const br=function mr(T,M,I,N){if(T.isAbsolute)return new ti(M.root,!0,0);if(-1===N)return new ti(I,I===M.root,0);return function gi(T,M,I){let N=T,j=M,ne=I;for(;ne>j;){if(ne-=j,N=N.parent,!N)throw new c.vHH(4005,!1);j=N.segments.length}return new ti(N,!1,j-ne)}(I,N+(Zr(T.commands[0])?0:1),T.numberOfDoubleDots)}(ce,M,null===(Rn=T.snapshot)||void 0===Rn?void 0:Rn._urlSegment,wn),Er=br.processChildren?Jr(br.segmentGroup,br.index,ce.commands):ci(br.segmentGroup,br.index,ce.commands);return ei(M.root,br.segmentGroup,Er,N,j)}(null===(ne=T.snapshot)||void 0===ne?void 0:ne._lastPathIndex)}function Zr(T){return"object"==typeof T&&null!=T&&!T.outlets&&!T.segmentPath}function wi(T){return"object"==typeof T&&null!=T&&T.outlets}function ei(T,M,I,N,j){let ce,ne={};N&&Dn(N,(kt,wn)=>{ne[wn]=Array.isArray(kt)?kt.map(Rn=>`${Rn}`):`${kt}`}),ce=T===M?I:xr(T,M,I);const ot=pn(tt(ce));return new fn(ot,ne,j)}function xr(T,M,I){const N={};return Dn(T.children,(j,ne)=>{N[ne]=j===M?I:xr(j,M,I)}),new zn(T.segments,N)}class Ps{constructor(M,I,N){if(this.isAbsolute=M,this.numberOfDoubleDots=I,this.commands=N,M&&N.length>0&&Zr(N[0]))throw new c.vHH(4003,!1);const j=N.find(wi);if(j&&j!==Mr(N))throw new c.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class ti{constructor(M,I,N){this.segmentGroup=M,this.processChildren=I,this.index=N}}function ci(T,M,I){if(T||(T=new zn([],{})),0===T.segments.length&&T.hasChildren())return Jr(T,M,I);const N=function gs(T,M,I){let N=0,j=M;const ne={match:!1,pathIndex:0,commandIndex:0};for(;j<T.segments.length;){if(N>=I.length)return ne;const ce=T.segments[j],ot=I[N];if(wi(ot))break;const kt=`${ot}`,wn=N<I.length-1?I[N+1]:null;if(j>0&&void 0===kt)break;if(kt&&wn&&"object"==typeof wn&&void 0===wn.outlets){if(!Li(kt,wn,ce))return ne;N+=2}else{if(!Li(kt,{},ce))return ne;N++}j++}return{match:!0,pathIndex:j,commandIndex:N}}(T,M,I),j=I.slice(N.commandIndex);if(N.match&&N.pathIndex<T.segments.length){const ne=new zn(T.segments.slice(0,N.pathIndex),{});return ne.children[st]=new zn(T.segments.slice(N.pathIndex),T.children),Jr(ne,0,j)}return N.match&&0===j.length?new zn(T.segments,{}):N.match&&!T.hasChildren()?An(T,M,I):N.match?Jr(T,0,j):An(T,M,I)}function Jr(T,M,I){if(0===I.length)return new zn(T.segments,{});{const N=function Fi(T){return wi(T[0])?T[0].outlets:{[st]:T}}(I),j={};return Dn(N,(ne,ce)=>{"string"==typeof ne&&(ne=[ne]),null!==ne&&(j[ce]=ci(T.children[ce],M,ne))}),Dn(T.children,(ne,ce)=>{void 0===N[ce]&&(j[ce]=ne)}),new zn(T.segments,j)}}function An(T,M,I){const N=T.segments.slice(0,M);let j=0;for(;j<I.length;){const ne=I[j];if(wi(ne)){const kt=tr(ne.outlets);return new zn(N,kt)}if(0===j&&Zr(I[0])){N.push(new _r(T.segments[M].path,Fr(I[0]))),j++;continue}const ce=wi(ne)?ne.outlets[st]:`${ne}`,ot=j<I.length-1?I[j+1]:null;ce&&ot&&Zr(ot)?(N.push(new _r(ce,Fr(ot))),j+=2):(N.push(new _r(ce,{})),j++)}return new zn(N,{})}function tr(T){const M={};return Dn(T,(I,N)=>{"string"==typeof I&&(I=[I]),null!==I&&(M[N]=An(new zn([],{}),0,I))}),M}function Fr(T){const M={};return Dn(T,(I,N)=>M[N]=`${I}`),M}function Li(T,M,I){return T==I.path&&Wn(M,I.parameters)}class mi{constructor(M,I){this.id=M,this.url=I}}class ni extends mi{constructor(M,I,N="imperative",j=null){super(M,I),this.type=0,this.navigationTrigger=N,this.restoredState=j}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class se extends mi{constructor(M,I,N){super(M,I),this.urlAfterRedirects=N,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Ie extends mi{constructor(M,I,N,j){super(M,I),this.reason=N,this.code=j,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class at extends mi{constructor(M,I,N,j){super(M,I),this.error=N,this.target=j,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class mt extends mi{constructor(M,I,N,j){super(M,I),this.urlAfterRedirects=N,this.state=j,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class dt extends mi{constructor(M,I,N,j){super(M,I),this.urlAfterRedirects=N,this.state=j,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class be extends mi{constructor(M,I,N,j,ne){super(M,I),this.urlAfterRedirects=N,this.state=j,this.shouldActivate=ne,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class rt extends mi{constructor(M,I,N,j){super(M,I),this.urlAfterRedirects=N,this.state=j,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class St extends mi{constructor(M,I,N,j){super(M,I),this.urlAfterRedirects=N,this.state=j,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class zt{constructor(M){this.route=M,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class jt{constructor(M){this.route=M,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class vn{constructor(M){this.snapshot=M,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Vn{constructor(M){this.snapshot=M,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class kn{constructor(M){this.snapshot=M,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class rr{constructor(M){this.snapshot=M,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Hr{constructor(M,I,N){this.routerEvent=M,this.position=I,this.anchor=N,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let It=(()=>{class T{createUrlTree(I,N,j,ne,ce,ot){return Yr(I||N.root,j,ne,ce,ot)}}return T.\u0275fac=function(I){return new(I||T)},T.\u0275prov=c.Yz7({token:T,factory:T.\u0275fac}),T})(),un=(()=>{class T{}return T.\u0275fac=function(I){return new(I||T)},T.\u0275prov=c.Yz7({token:T,factory:function(M){return It.\u0275fac(M)},providedIn:"root"}),T})();class In{constructor(M){this._root=M}get root(){return this._root.value}parent(M){const I=this.pathFromRoot(M);return I.length>1?I[I.length-2]:null}children(M){const I=Xn(M,this._root);return I?I.children.map(N=>N.value):[]}firstChild(M){const I=Xn(M,this._root);return I&&I.children.length>0?I.children[0].value:null}siblings(M){const I=Or(M,this._root);return I.length<2?[]:I[I.length-2].children.map(j=>j.value).filter(j=>j!==M)}pathFromRoot(M){return Or(M,this._root).map(I=>I.value)}}function Xn(T,M){if(T===M.value)return M;for(const I of M.children){const N=Xn(T,I);if(N)return N}return null}function Or(T,M){if(T===M.value)return[M];for(const I of M.children){const N=Or(T,I);if(N.length)return N.unshift(M),N}return[]}class Lr{constructor(M,I){this.value=M,this.children=I}toString(){return`TreeNode(${this.value})`}}function vi(T){const M={};return T&&T.children.forEach(I=>M[I.value.outlet]=I),M}class ir extends In{constructor(M,I){super(M),this.snapshot=I,Ns(this,M)}toString(){return this.snapshot.toString()}}function gn(T,M){const I=function Vs(T,M){const ce=new Wi([],{},{},"",{},st,M,null,T.root,-1,{});return new Mo("",new Lr(ce,[]))}(T,M),N=new Ae.X([new _r("",{})]),j=new Ae.X({}),ne=new Ae.X({}),ce=new Ae.X({}),ot=new Ae.X(""),kt=new Ti(N,j,ce,ot,ne,st,M,I.root);return kt.snapshot=I.root,new ir(new Lr(kt,[]),I)}class Ti{constructor(M,I,N,j,ne,ce,ot,kt){var wn,Rn;this.url=M,this.params=I,this.queryParams=N,this.fragment=j,this.data=ne,this.outlet=ce,this.component=ot,this.title=null!==(wn=null===(Rn=this.data)||void 0===Rn?void 0:Rn.pipe((0,He.U)(br=>br[nn])))&&void 0!==wn?wn:(0,G.of)(void 0),this._futureSnapshot=kt}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,He.U)(M=>en(M)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,He.U)(M=>en(M)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function es(T,M="emptyOnly"){const I=T.pathFromRoot;let N=0;if("always"!==M)for(N=I.length-1;N>=1;){const j=I[N],ne=I[N-1];if(j.routeConfig&&""===j.routeConfig.path)N--;else{if(ne.component)break;N--}}return function Ir(T){return T.reduce((M,I)=>{var N;return{params:{...M.params,...I.params},data:{...M.data,...I.data},resolve:{...I.data,...M.resolve,...null===(N=I.routeConfig)||void 0===N?void 0:N.data,...I._resolvedData}}},{params:{},data:{},resolve:{}})}(I.slice(N))}class Wi{constructor(M,I,N,j,ne,ce,ot,kt,wn,Rn,br){this.url=M,this.params=I,this.queryParams=N,this.fragment=j,this.data=ne,this.outlet=ce,this.component=ot,this.routeConfig=kt,this._urlSegment=wn,this._lastPathIndex=Rn,this._resolve=br}get title(){var M;return null===(M=this.data)||void 0===M?void 0:M[nn]}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=en(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=en(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(N=>N.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Mo extends In{constructor(M,I){super(I),this.url=M,Ns(this,I)}toString(){return Mi(this._root)}}function Ns(T,M){M.value._routerState=T,M.children.forEach(I=>Ns(T,I))}function Mi(T){const M=T.children.length>0?` { ${T.children.map(Mi).join(", ")} } `:"";return`${T.value}${M}`}function Os(T){if(T.snapshot){const M=T.snapshot,I=T._futureSnapshot;T.snapshot=I,Wn(M.queryParams,I.queryParams)||T.queryParams.next(I.queryParams),M.fragment!==I.fragment&&T.fragment.next(I.fragment),Wn(M.params,I.params)||T.params.next(I.params),function sr(T,M){if(T.length!==M.length)return!1;for(let I=0;I<T.length;++I)if(!Wn(T[I],M[I]))return!1;return!0}(M.url,I.url)||T.url.next(I.url),Wn(M.data,I.data)||T.data.next(I.data)}else T.snapshot=T._futureSnapshot,T.data.next(T._futureSnapshot.data)}function Xs(T,M){const I=Wn(T.params,M.params)&&function wr(T,M){return Nr(T,M)&&T.every((I,N)=>Wn(I.parameters,M[N].parameters))}(T.url,M.url);return I&&!(!T.parent!=!M.parent)&&(!T.parent||Xs(T.parent,M.parent))}function ms(T,M,I){if(I&&T.shouldReuseRoute(M.value,I.value.snapshot)){const N=I.value;N._futureSnapshot=M.value;const j=function uo(T,M,I){return M.children.map(N=>{for(const j of I.children)if(T.shouldReuseRoute(N.value,j.value.snapshot))return ms(T,N,j);return ms(T,N)})}(T,M,I);return new Lr(N,j)}{if(T.shouldAttach(M.value)){const ne=T.retrieve(M.value);if(null!==ne){const ce=ne.route;return ce.value._futureSnapshot=M.value,ce.children=M.children.map(ot=>ms(T,ot)),ce}}const N=function lo(T){return new Ti(new Ae.X(T.url),new Ae.X(T.params),new Ae.X(T.queryParams),new Ae.X(T.fragment),new Ae.X(T.data),T.outlet,T.component,T)}(M.value),j=M.children.map(ne=>ms(T,ne));return new Lr(N,j)}}const Ro="ngNavigationCancelingError";function xs(T,M){const{redirectTo:I,navigationBehaviorOptions:N}=Te(M)?{redirectTo:M,navigationBehaviorOptions:void 0}:M,j=na(!1,0,M);return j.url=I,j.navigationBehaviorOptions=N,j}function na(T,M,I){const N=new Error("NavigationCancelingError: "+(T||""));return N[Ro]=!0,N.cancellationCode=M,I&&(N.url=I),N}function ra(T){return pa(T)&&Te(T.url)}function pa(T){return T&&T[Ro]}class us{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new Ki,this.attachRef=null}}let Ki=(()=>{class T{constructor(){this.contexts=new Map}onChildOutletCreated(I,N){const j=this.getOrCreateContext(I);j.outlet=N,this.contexts.set(I,j)}onChildOutletDestroyed(I){const N=this.getContext(I);N&&(N.outlet=null,N.attachRef=null)}onOutletDeactivated(){const I=this.contexts;return this.contexts=new Map,I}onOutletReAttached(I){this.contexts=I}getOrCreateContext(I){let N=this.getContext(I);return N||(N=new us,this.contexts.set(I,N)),N}getContext(I){return this.contexts.get(I)||null}}return T.\u0275fac=function(I){return new(I||T)},T.\u0275prov=c.Yz7({token:T,factory:T.\u0275fac,providedIn:"root"}),T})();const co=!1;let $o=(()=>{class T{constructor(){this.activated=null,this._activatedRoute=null,this.name=st,this.activateEvents=new c.vpe,this.deactivateEvents=new c.vpe,this.attachEvents=new c.vpe,this.detachEvents=new c.vpe,this.parentContexts=(0,c.f3M)(Ki),this.location=(0,c.f3M)(c.s_b),this.changeDetector=(0,c.f3M)(c.sBO),this.environmentInjector=(0,c.f3M)(c.lqb)}ngOnChanges(I){if(I.name){const{firstChange:N,previousValue:j}=I.name;if(N)return;this.isTrackedInParentContexts(j)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(j)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name)}isTrackedInParentContexts(I){var N;return(null===(N=this.parentContexts.getContext(I))||void 0===N?void 0:N.outlet)===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const I=this.parentContexts.getContext(this.name);null!=I&&I.route&&(I.attachRef?this.attach(I.attachRef,I.route):this.activateWith(I.route,I.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new c.vHH(4012,co);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new c.vHH(4012,co);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new c.vHH(4012,co);this.location.detach();const I=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(I.instance),I}attach(I,N){this.activated=I,this._activatedRoute=N,this.location.insert(I.hostView),this.attachEvents.emit(I.instance)}deactivate(){if(this.activated){const I=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(I)}}activateWith(I,N){if(this.isActivated)throw new c.vHH(4013,co);this._activatedRoute=I;const j=this.location,ce=I.snapshot.component,ot=this.parentContexts.getOrCreateContext(this.name).children,kt=new ts(I,ot,j.injector);if(N&&function yi(T){return!!T.resolveComponentFactory}(N)){const wn=N.resolveComponentFactory(ce);this.activated=j.createComponent(wn,j.length,kt)}else this.activated=j.createComponent(ce,{index:j.length,injector:kt,environmentInjector:null!=N?N:this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return T.\u0275fac=function(I){return new(I||T)},T.\u0275dir=c.lG2({type:T,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[c.TTD]}),T})();class ts{constructor(M,I,N){this.route=M,this.childContexts=I,this.parent=N}get(M,I){return M===Ti?this.route:M===Ki?this.childContexts:this.parent.get(M,I)}}let Us=(()=>{class T{}return T.\u0275fac=function(I){return new(I||T)},T.\u0275cmp=c.Xpm({type:T,selectors:[["ng-component"]],standalone:!0,features:[c.jDz],decls:1,vars:0,template:function(I,N){1&I&&c._UZ(0,"router-outlet")},dependencies:[$o],encapsulation:2}),T})();function Ct(T,M){var I;return T.providers&&!T._injector&&(T._injector=(0,c.MMx)(T.providers,M,`Route: ${T.path}`)),null!==(I=T._injector)&&void 0!==I?I:M}function Gi(T){const M=T.children&&T.children.map(Gi),I=M?{...T,children:M}:{...T};return!I.component&&!I.loadComponent&&(M||I.loadChildren)&&I.outlet&&I.outlet!==st&&(I.component=Us),I}function di(T){return T.outlet||st}function Js(T,M){const I=T.filter(N=>di(N)===M);return I.push(...T.filter(N=>di(N)!==M)),I}function Bi(T){var M;if(!T)return null;if(null!==(M=T.routeConfig)&&void 0!==M&&M._injector)return T.routeConfig._injector;for(let I=T.parent;I;I=I.parent){const N=I.routeConfig;if(null!=N&&N._loadedInjector)return N._loadedInjector;if(null!=N&&N._injector)return N._injector}return null}class jo{constructor(M,I,N,j){this.routeReuseStrategy=M,this.futureState=I,this.currState=N,this.forwardEvent=j}activate(M){const I=this.futureState._root,N=this.currState?this.currState._root:null;this.deactivateChildRoutes(I,N,M),Os(this.futureState.root),this.activateChildRoutes(I,N,M)}deactivateChildRoutes(M,I,N){const j=vi(I);M.children.forEach(ne=>{const ce=ne.value.outlet;this.deactivateRoutes(ne,j[ce],N),delete j[ce]}),Dn(j,(ne,ce)=>{this.deactivateRouteAndItsChildren(ne,N)})}deactivateRoutes(M,I,N){const j=M.value,ne=I?I.value:null;if(j===ne)if(j.component){const ce=N.getContext(j.outlet);ce&&this.deactivateChildRoutes(M,I,ce.children)}else this.deactivateChildRoutes(M,I,N);else ne&&this.deactivateRouteAndItsChildren(I,N)}deactivateRouteAndItsChildren(M,I){M.value.component&&this.routeReuseStrategy.shouldDetach(M.value.snapshot)?this.detachAndStoreRouteSubtree(M,I):this.deactivateRouteAndOutlet(M,I)}detachAndStoreRouteSubtree(M,I){const N=I.getContext(M.value.outlet),j=N&&M.value.component?N.children:I,ne=vi(M);for(const ce of Object.keys(ne))this.deactivateRouteAndItsChildren(ne[ce],j);if(N&&N.outlet){const ce=N.outlet.detach(),ot=N.children.onOutletDeactivated();this.routeReuseStrategy.store(M.value.snapshot,{componentRef:ce,route:M,contexts:ot})}}deactivateRouteAndOutlet(M,I){const N=I.getContext(M.value.outlet),j=N&&M.value.component?N.children:I,ne=vi(M);for(const ce of Object.keys(ne))this.deactivateRouteAndItsChildren(ne[ce],j);N&&N.outlet&&(N.outlet.deactivate(),N.children.onOutletDeactivated(),N.attachRef=null,N.resolver=null,N.route=null)}activateChildRoutes(M,I,N){const j=vi(I);M.children.forEach(ne=>{this.activateRoutes(ne,j[ne.value.outlet],N),this.forwardEvent(new rr(ne.value.snapshot))}),M.children.length&&this.forwardEvent(new Vn(M.value.snapshot))}activateRoutes(M,I,N){const j=M.value,ne=I?I.value:null;if(Os(j),j===ne)if(j.component){const ot=N.getOrCreateContext(j.outlet);this.activateChildRoutes(M,I,ot.children)}else this.activateChildRoutes(M,I,N);else if(j.component){const ot=N.getOrCreateContext(j.outlet);if(this.routeReuseStrategy.shouldAttach(j.snapshot)){const kt=this.routeReuseStrategy.retrieve(j.snapshot);this.routeReuseStrategy.store(j.snapshot,null),ot.children.onOutletReAttached(kt.contexts),ot.attachRef=kt.componentRef,ot.route=kt.route.value,ot.outlet&&ot.outlet.attach(kt.componentRef,kt.route.value),Os(kt.route.value),this.activateChildRoutes(M,null,ot.children)}else{var ce;const kt=Bi(j.snapshot),wn=null!==(ce=null==kt?void 0:kt.get(c._Vd))&&void 0!==ce?ce:null;ot.attachRef=null,ot.route=j,ot.resolver=wn,ot.injector=kt,ot.outlet&&ot.outlet.activateWith(j,ot.injector),this.activateChildRoutes(M,null,ot.children)}}else this.activateChildRoutes(M,null,N)}}class ns{constructor(M){this.path=M,this.route=this.path[this.path.length-1]}}class Go{constructor(M,I){this.component=M,this.route=I}}function Eo(T,M,I){const N=T._root;return to(N,M?M._root:null,I,[N.value])}function Yi(T,M){const I=Symbol(),N=M.get(T,I);return N===I?"function"!=typeof T||(0,c.Z0I)(T)?M.get(T):T:N}function to(T,M,I,N,j={canDeactivateChecks:[],canActivateChecks:[]}){const ne=vi(M);return T.children.forEach(ce=>{(function ia(T,M,I,N,j={canDeactivateChecks:[],canActivateChecks:[]}){const ne=T.value,ce=M?M.value:null,ot=I?I.getContext(T.value.outlet):null;if(ce&&ne.routeConfig===ce.routeConfig){const kt=function D(T,M,I){if("function"==typeof I)return I(T,M);switch(I){case"pathParamsChange":return!Nr(T.url,M.url);case"pathParamsOrQueryParamsChange":return!Nr(T.url,M.url)||!Wn(T.queryParams,M.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Xs(T,M)||!Wn(T.queryParams,M.queryParams);default:return!Xs(T,M)}}(ce,ne,ne.routeConfig.runGuardsAndResolvers);kt?j.canActivateChecks.push(new ns(N)):(ne.data=ce.data,ne._resolvedData=ce._resolvedData),to(T,M,ne.component?ot?ot.children:null:I,N,j),kt&&ot&&ot.outlet&&ot.outlet.isActivated&&j.canDeactivateChecks.push(new Go(ot.outlet.component,ce))}else ce&&K(M,ot,j),j.canActivateChecks.push(new ns(N)),to(T,null,ne.component?ot?ot.children:null:I,N,j)})(ce,ne[ce.value.outlet],I,N.concat([ce.value]),j),delete ne[ce.value.outlet]}),Dn(ne,(ce,ot)=>K(ce,I.getContext(ot),j)),j}function K(T,M,I){const N=vi(T),j=T.value;Dn(N,(ne,ce)=>{K(ne,j.component?M?M.children.getContext(ce):null:M,I)}),I.canDeactivateChecks.push(new Go(j.component&&M&&M.outlet&&M.outlet.isActivated?M.outlet.component:null,j))}function C(T){return"function"==typeof T}function ur(T){return T instanceof _e.K||"EmptyError"===(null==T?void 0:T.name)}const os=Symbol("INITIAL_VALUE");function L(){return(0,Be.w)(T=>(0,ke.a)(T.map(M=>M.pipe((0,Je.q)(1),(0,Qe.O)(os)))).pipe((0,He.U)(M=>{for(const I of M)if(!0!==I){if(I===os)return os;if(!1===I||I instanceof fn)return I}return!0}),(0,Ve.h)(M=>M!==os),(0,Je.q)(1)))}function Po(T){return(0,Ne.z)((0,le.b)(M=>{if(Te(M))throw xs(0,M)}),(0,He.U)(M=>!0===M))}const ho={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function zi(T,M,I,N,j){const ne=vs(T,M,I);return ne.matched?function Hs(T,M,I,N){const j=M.canMatch;if(!j||0===j.length)return(0,G.of)(!0);const ne=j.map(ce=>{const ot=Yi(ce,T);return ai(function yr(T){return T&&C(T.canMatch)}(ot)?ot.canMatch(M,I):T.runInContext(()=>ot(M,I)))});return(0,G.of)(ne).pipe(L(),Po())}(N=Ct(M,N),M,I).pipe((0,He.U)(ce=>!0===ce?ne:{...ho})):(0,G.of)(ne)}function vs(T,M,I){var N;if(""===M.path)return"full"===M.pathMatch&&(T.hasChildren()||I.length>0)?{...ho}:{matched:!0,consumedSegments:[],remainingSegments:I,parameters:{},positionalParamSegments:{}};const ne=(M.matcher||Nn)(I,T,M);if(!ne)return{...ho};const ce={};Dn(ne.posParams,(kt,wn)=>{ce[wn]=kt.path});const ot=ne.consumed.length>0?{...ce,...ne.consumed[ne.consumed.length-1].parameters}:ce;return{matched:!0,consumedSegments:ne.consumed,remainingSegments:I.slice(ne.consumed.length),parameters:ot,positionalParamSegments:null!==(N=ne.posParams)&&void 0!==N?N:{}}}function sa(T,M,I,N){if(I.length>0&&function Tu(T,M,I){return I.some(N=>Ma(T,M,N)&&di(N)!==st)}(T,I,N)){const ne=new zn(M,function fo(T,M,I,N){const j={};j[st]=N,N._sourceSegment=T,N._segmentIndexShift=M.length;for(const ne of I)if(""===ne.path&&di(ne)!==st){const ce=new zn([],{});ce._sourceSegment=T,ce._segmentIndexShift=M.length,j[di(ne)]=ce}return j}(T,M,N,new zn(I,T.children)));return ne._sourceSegment=T,ne._segmentIndexShift=M.length,{segmentGroup:ne,slicedSegments:[]}}if(0===I.length&&function rl(T,M,I){return I.some(N=>Ma(T,M,N))}(T,I,N)){const ne=new zn(T.segments,function zo(T,M,I,N,j){const ne={};for(const ce of N)if(Ma(T,I,ce)&&!j[di(ce)]){const ot=new zn([],{});ot._sourceSegment=T,ot._segmentIndexShift=M.length,ne[di(ce)]=ot}return{...j,...ne}}(T,M,I,N,T.children));return ne._sourceSegment=T,ne._segmentIndexShift=M.length,{segmentGroup:ne,slicedSegments:I}}const j=new zn(T.segments,T.children);return j._sourceSegment=T,j._segmentIndexShift=M.length,{segmentGroup:j,slicedSegments:I}}function Ma(T,M,I){return(!(T.hasChildren()||M.length>0)||"full"!==I.pathMatch)&&""===I.path}function su(T,M,I,N){return!!(di(T)===N||N!==st&&Ma(M,I,T))&&("**"===T.path||vs(M,T,I).matched)}function Ks(T,M,I){return 0===M.length&&!T.children[I]}const as=!1;class po{constructor(M){this.segmentGroup=M||null}}class wo{constructor(M){this.urlTree=M}}function Ys(T){return(0,we._)(new po(T))}function va(T){return(0,we._)(new wo(T))}class _c{constructor(M,I,N,j,ne){this.injector=M,this.configLoader=I,this.urlSerializer=N,this.urlTree=j,this.config=ne,this.allowRedirects=!0}apply(){const M=sa(this.urlTree.root,[],[],this.config).segmentGroup,I=new zn(M.segments,M.children);return this.expandSegmentGroup(this.injector,this.config,I,st).pipe((0,He.U)(ne=>this.createUrlTree(tt(ne),this.urlTree.queryParams,this.urlTree.fragment))).pipe((0,ye.K)(ne=>{if(ne instanceof wo)return this.allowRedirects=!1,this.match(ne.urlTree);throw ne instanceof po?this.noMatchError(ne):ne}))}match(M){return this.expandSegmentGroup(this.injector,this.config,M.root,st).pipe((0,He.U)(j=>this.createUrlTree(tt(j),M.queryParams,M.fragment))).pipe((0,ye.K)(j=>{throw j instanceof po?this.noMatchError(j):j}))}noMatchError(M){return new c.vHH(4002,as)}createUrlTree(M,I,N){const j=pn(M);return new fn(j,I,N)}expandSegmentGroup(M,I,N,j){return 0===N.segments.length&&N.hasChildren()?this.expandChildren(M,I,N).pipe((0,He.U)(ne=>new zn([],ne))):this.expandSegment(M,N,I,N.segments,j,!0)}expandChildren(M,I,N){const j=[];for(const ne of Object.keys(N.children))"primary"===ne?j.unshift(ne):j.push(ne);return(0,J.D)(j).pipe((0,Ze.b)(ne=>{const ce=N.children[ne],ot=Js(I,ne);return this.expandSegmentGroup(M,ot,ce,ne).pipe((0,He.U)(kt=>({segment:kt,outlet:ne})))}),(0,xe.R)((ne,ce)=>(ne[ce.outlet]=ce.segment,ne),{}),Rt())}expandSegment(M,I,N,j,ne,ce){return(0,J.D)(N).pipe((0,Ze.b)(ot=>this.expandSegmentAgainstRoute(M,I,N,ot,j,ne,ce).pipe((0,ye.K)(wn=>{if(wn instanceof po)return(0,G.of)(null);throw wn}))),(0,te.P)(ot=>!!ot),(0,ye.K)((ot,kt)=>{if(ur(ot))return Ks(I,j,ne)?(0,G.of)(new zn([],{})):Ys(I);throw ot}))}expandSegmentAgainstRoute(M,I,N,j,ne,ce,ot){return su(j,I,ne,ce)?void 0===j.redirectTo?this.matchSegmentAgainstRoute(M,I,j,ne,ce):ot&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(M,I,N,j,ne,ce):Ys(I):Ys(I)}expandSegmentAgainstRouteUsingRedirect(M,I,N,j,ne,ce){return"**"===j.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(M,N,j,ce):this.expandRegularSegmentAgainstRouteUsingRedirect(M,I,N,j,ne,ce)}expandWildCardWithParamsAgainstRouteUsingRedirect(M,I,N,j){const ne=this.applyRedirectCommands([],N.redirectTo,{});return N.redirectTo.startsWith("/")?va(ne):this.lineralizeSegments(N,ne).pipe((0,Ge.z)(ce=>{const ot=new zn(ce,{});return this.expandSegment(M,ot,I,ce,j,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(M,I,N,j,ne,ce){const{matched:ot,consumedSegments:kt,remainingSegments:wn,positionalParamSegments:Rn}=vs(I,j,ne);if(!ot)return Ys(I);const br=this.applyRedirectCommands(kt,j.redirectTo,Rn);return j.redirectTo.startsWith("/")?va(br):this.lineralizeSegments(j,br).pipe((0,Ge.z)(Er=>this.expandSegment(M,I,N,Er.concat(wn),ce,!1)))}matchSegmentAgainstRoute(M,I,N,j,ne){return"**"===N.path?(M=Ct(N,M),N.loadChildren?(N._loadedRoutes?(0,G.of)({routes:N._loadedRoutes,injector:N._loadedInjector}):this.configLoader.loadChildren(M,N)).pipe((0,He.U)(ot=>(N._loadedRoutes=ot.routes,N._loadedInjector=ot.injector,new zn(j,{})))):(0,G.of)(new zn(j,{}))):zi(I,N,j,M).pipe((0,Be.w)(({matched:ce,consumedSegments:ot,remainingSegments:kt})=>{var wn;return ce?(M=null!==(wn=N._injector)&&void 0!==wn?wn:M,this.getChildConfig(M,N,j).pipe((0,Ge.z)(br=>{var Er;const Ci=null!==(Er=br.injector)&&void 0!==Er?Er:M,bi=br.routes,{segmentGroup:Es,slicedSegments:cs}=sa(I,ot,kt,bi),Ls=new zn(Es.segments,Es.children);if(0===cs.length&&Ls.hasChildren())return this.expandChildren(Ci,bi,Ls).pipe((0,He.U)(Hl=>new zn(ot,Hl)));if(0===bi.length&&0===cs.length)return(0,G.of)(new zn(ot,{}));const Ms=di(N)===ne;return this.expandSegment(Ci,Ls,bi,cs,Ms?st:ne,!0).pipe((0,He.U)(ws=>new zn(ot.concat(ws.segments),ws.children)))}))):Ys(I)}))}getChildConfig(M,I,N){return I.children?(0,G.of)({routes:I.children,injector:M}):I.loadChildren?void 0!==I._loadedRoutes?(0,G.of)({routes:I._loadedRoutes,injector:I._loadedInjector}):function ks(T,M,I,N){const j=M.canLoad;if(void 0===j||0===j.length)return(0,G.of)(!0);const ne=j.map(ce=>{const ot=Yi(ce,T);return ai(function re(T){return T&&C(T.canLoad)}(ot)?ot.canLoad(M,I):T.runInContext(()=>ot(M,I)))});return(0,G.of)(ne).pipe(L(),Po())}(M,I,N).pipe((0,Ge.z)(j=>j?this.configLoader.loadChildren(M,I).pipe((0,le.b)(ne=>{I._loadedRoutes=ne.routes,I._loadedInjector=ne.injector})):function No(T){return(0,we._)(na(as,3))}())):(0,G.of)({routes:[],injector:M})}lineralizeSegments(M,I){let N=[],j=I.root;for(;;){if(N=N.concat(j.segments),0===j.numberOfChildren)return(0,G.of)(N);if(j.numberOfChildren>1||!j.children[st])return(0,we._)(new c.vHH(4e3,as));j=j.children[st]}}applyRedirectCommands(M,I,N){return this.applyRedirectCreateUrlTree(I,this.urlSerializer.parse(I),M,N)}applyRedirectCreateUrlTree(M,I,N,j){const ne=this.createSegmentGroup(M,I.root,N,j);return new fn(ne,this.createQueryParams(I.queryParams,this.urlTree.queryParams),I.fragment)}createQueryParams(M,I){const N={};return Dn(M,(j,ne)=>{if("string"==typeof j&&j.startsWith(":")){const ot=j.substring(1);N[ne]=I[ot]}else N[ne]=j}),N}createSegmentGroup(M,I,N,j){const ne=this.createSegments(M,I.segments,N,j);let ce={};return Dn(I.children,(ot,kt)=>{ce[kt]=this.createSegmentGroup(M,ot,N,j)}),new zn(ne,ce)}createSegments(M,I,N,j){return I.map(ne=>ne.path.startsWith(":")?this.findPosParam(M,ne,j):this.findOrReturn(ne,N))}findPosParam(M,I,N){const j=N[I.path.substring(1)];if(!j)throw new c.vHH(4001,as);return j}findOrReturn(M,I){let N=0;for(const j of I){if(j.path===M.path)return I.splice(N),j;N++}return M}}class Ec{}class Ra{constructor(M,I,N,j,ne,ce,ot){this.injector=M,this.rootComponentType=I,this.config=N,this.urlTree=j,this.url=ne,this.paramsInheritanceStrategy=ce,this.urlSerializer=ot}recognize(){const M=sa(this.urlTree.root,[],[],this.config.filter(I=>void 0===I.redirectTo)).segmentGroup;return this.processSegmentGroup(this.injector,this.config,M,st).pipe((0,He.U)(I=>{if(null===I)return null;const N=new Wi([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},st,this.rootComponentType,null,this.urlTree.root,-1,{}),j=new Lr(N,I),ne=new Mo(this.url,j);return this.inheritParamsAndData(ne._root),ne}))}inheritParamsAndData(M){const I=M.value,N=es(I,this.paramsInheritanceStrategy);I.params=Object.freeze(N.params),I.data=Object.freeze(N.data),M.children.forEach(j=>this.inheritParamsAndData(j))}processSegmentGroup(M,I,N,j){return 0===N.segments.length&&N.hasChildren()?this.processChildren(M,I,N):this.processSegment(M,I,N,N.segments,j)}processChildren(M,I,N){return(0,J.D)(Object.keys(N.children)).pipe((0,Ze.b)(j=>{const ne=N.children[j],ce=Js(I,j);return this.processSegmentGroup(M,ce,ne,j)}),(0,xe.R)((j,ne)=>j&&ne?(j.push(...ne),j):null),function bt(T,M=!1){return(0,We.e)((I,N)=>{let j=0;I.subscribe((0,je.x)(N,ne=>{const ce=T(ne,j++);(ce||M)&&N.next(ne),!ce&&N.complete()}))})}(j=>null!==j),(0,Bt.d)(null),Rt(),(0,He.U)(j=>{if(null===j)return null;const ne=ys(j);return function fi(T){T.sort((M,I)=>M.value.outlet===st?-1:I.value.outlet===st?1:M.value.outlet.localeCompare(I.value.outlet))}(ne),ne}))}processSegment(M,I,N,j,ne){return(0,J.D)(I).pipe((0,Ze.b)(ce=>{var ot;return this.processSegmentAgainstRoute(null!==(ot=ce._injector)&&void 0!==ot?ot:M,ce,N,j,ne)}),(0,te.P)(ce=>!!ce),(0,ye.K)(ce=>{if(ur(ce))return Ks(N,j,ne)?(0,G.of)([]):(0,G.of)(null);throw ce}))}processSegmentAgainstRoute(M,I,N,j,ne){if(I.redirectTo||!su(I,N,j,ne))return(0,G.of)(null);let ce;if("**"===I.path){var ot,kt;const wn=j.length>0?Mr(j).parameters:{},Rn=O(N)+j.length,br=new Wi(j,wn,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,B(I),di(I),null!==(ot=null!==(kt=I.component)&&void 0!==kt?kt:I._loadedComponent)&&void 0!==ot?ot:null,I,Ui(N),Rn,ie(I));ce=(0,G.of)({snapshot:br,consumedSegments:[],remainingSegments:[]})}else ce=zi(N,I,j,M).pipe((0,He.U)(({matched:wn,consumedSegments:Rn,remainingSegments:br,parameters:Er})=>{var Ci,bi;if(!wn)return null;const Es=O(N)+Rn.length;return{snapshot:new Wi(Rn,Er,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,B(I),di(I),null!==(Ci=null!==(bi=I.component)&&void 0!==bi?bi:I._loadedComponent)&&void 0!==Ci?Ci:null,I,Ui(N),Es,ie(I)),consumedSegments:Rn,remainingSegments:br}}));return ce.pipe((0,Be.w)(wn=>{var Rn,br;if(null===wn)return(0,G.of)(null);const{snapshot:Er,consumedSegments:Ci,remainingSegments:bi}=wn;M=null!==(Rn=I._injector)&&void 0!==Rn?Rn:M;const Es=null!==(br=I._loadedInjector)&&void 0!==br?br:M,cs=function _a(T){return T.children?T.children:T.loadChildren?T._loadedRoutes:[]}(I),{segmentGroup:Ls,slicedSegments:Ms}=sa(N,Ci,bi,cs.filter(ws=>void 0===ws.redirectTo));if(0===Ms.length&&Ls.hasChildren())return this.processChildren(Es,cs,Ls).pipe((0,He.U)(ws=>null===ws?null:[new Lr(Er,ws)]));if(0===cs.length&&0===Ms.length)return(0,G.of)([new Lr(Er,[])]);const cu=di(I)===ne;return this.processSegment(Es,cs,Ls,Ms,cu?st:ne).pipe((0,He.U)(ws=>null===ws?null:[new Lr(Er,ws)]))}))}}function qa(T){const M=T.value.routeConfig;return M&&""===M.path&&void 0===M.redirectTo}function ys(T){const M=[],I=new Set;for(const N of T){if(!qa(N)){M.push(N);continue}const j=M.find(ne=>N.value.routeConfig===ne.value.routeConfig);void 0!==j?(j.children.push(...N.children),I.add(j)):M.push(N)}for(const N of I){const j=ys(N.children);M.push(new Lr(N.value,j))}return M.filter(N=>!I.has(N))}function Ui(T){let M=T;for(;M._sourceSegment;)M=M._sourceSegment;return M}function O(T){var M;let I=T,N=null!==(M=I._segmentIndexShift)&&void 0!==M?M:0;for(;I._sourceSegment;){var j;I=I._sourceSegment,N+=null!==(j=I._segmentIndexShift)&&void 0!==j?j:0}return N-1}function B(T){return T.data||{}}function ie(T){return T.resolve||{}}function $r(T){return"string"==typeof T.title||null===T.title}function kr(T){return(0,Be.w)(M=>{const I=T(M);return I?(0,J.D)(I).pipe((0,He.U)(()=>M)):(0,G.of)(M)})}const jr=new c.OlP("ROUTES");let Fs=(()=>{class T{constructor(I,N){this.injector=I,this.compiler=N,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(I){if(this.componentLoaders.get(I))return this.componentLoaders.get(I);if(I._loadedComponent)return(0,G.of)(I._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(I);const N=ai(I.loadComponent()).pipe((0,He.U)(mn),(0,le.b)(ne=>{this.onLoadEndListener&&this.onLoadEndListener(I),I._loadedComponent=ne}),Ot(()=>{this.componentLoaders.delete(I)})),j=new Se(N,()=>new Ce.x).pipe(Et());return this.componentLoaders.set(I,j),j}loadChildren(I,N){if(this.childrenLoaders.get(N))return this.childrenLoaders.get(N);if(N._loadedRoutes)return(0,G.of)({routes:N._loadedRoutes,injector:N._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(N);const ne=this.loadModuleFactoryOrRoutes(N.loadChildren).pipe((0,He.U)(ot=>{this.onLoadEndListener&&this.onLoadEndListener(N);let kt,wn,Rn=!1;Array.isArray(ot)?wn=ot:(kt=ot.create(I).injector,wn=cr(kt.get(jr,[],c.XFs.Self|c.XFs.Optional)));return{routes:wn.map(Gi),injector:kt}}),Ot(()=>{this.childrenLoaders.delete(N)})),ce=new Se(ne,()=>new Ce.x).pipe(Et());return this.childrenLoaders.set(N,ce),ce}loadModuleFactoryOrRoutes(I){return ai(I()).pipe((0,He.U)(mn),(0,Ge.z)(j=>j instanceof c.YKP||Array.isArray(j)?(0,G.of)(j):(0,J.D)(this.compiler.compileModuleAsync(j))))}}return T.\u0275fac=function(I){return new(I||T)(c.LFG(c.zs3),c.LFG(c.Sil))},T.\u0275prov=c.Yz7({token:T,factory:T.\u0275fac,providedIn:"root"}),T})();function mn(T){return function go(T){return T&&"object"==typeof T&&"default"in T}(T)?T.default:T}let oa=(()=>{class T{constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new Ce.x,this.configLoader=(0,c.f3M)(Fs),this.environmentInjector=(0,c.f3M)(c.lqb),this.urlSerializer=(0,c.f3M)(ki),this.rootContexts=(0,c.f3M)(Ki),this.navigationId=0,this.configLoader.onLoadEndListener=j=>this.events.next(new jt(j)),this.configLoader.onLoadStartListener=j=>this.events.next(new zt(j))}get hasRequestedNavigation(){return 0!==this.navigationId}complete(){var I;null===(I=this.transitions)||void 0===I||I.complete()}handleNavigationRequest(I){var N;const j=++this.navigationId;null===(N=this.transitions)||void 0===N||N.next({...this.transitions.value,...I,id:j})}setupNavigations(I){return this.transitions=new Ae.X({id:0,targetPageId:0,currentUrlTree:I.currentUrlTree,currentRawUrl:I.currentUrlTree,extractedUrl:I.urlHandlingStrategy.extract(I.currentUrlTree),urlAfterRedirects:I.urlHandlingStrategy.extract(I.currentUrlTree),rawUrl:I.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:I.routerState.snapshot,targetSnapshot:null,currentRouterState:I.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,Ve.h)(N=>0!==N.id),(0,He.U)(N=>({...N,extractedUrl:I.urlHandlingStrategy.extract(N.rawUrl)})),(0,Be.w)(N=>{let j=!1,ne=!1;return(0,G.of)(N).pipe((0,le.b)(ce=>{this.currentNavigation={id:ce.id,initialUrl:ce.rawUrl,extractedUrl:ce.extractedUrl,trigger:ce.source,extras:ce.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,Be.w)(ce=>{const ot=I.browserUrlTree.toString(),kt=!I.navigated||ce.extractedUrl.toString()!==ot||ot!==I.currentUrlTree.toString();if(("reload"===I.onSameUrlNavigation||kt)&&I.urlHandlingStrategy.shouldProcessUrl(ce.rawUrl))return bn(ce.source)&&(I.browserUrlTree=ce.extractedUrl),(0,G.of)(ce).pipe((0,Be.w)(Rn=>{var br,Er;const Ci=null===(br=this.transitions)||void 0===br?void 0:br.getValue();return this.events.next(new ni(Rn.id,this.urlSerializer.serialize(Rn.extractedUrl),Rn.source,Rn.restoredState)),Ci!==(null===(Er=this.transitions)||void 0===Er?void 0:Er.getValue())?me.E:Promise.resolve(Rn)}),function ya(T,M,I,N){return(0,Be.w)(j=>function ou(T,M,I,N,j){return new _c(T,M,I,N,j).apply()}(T,M,I,j.extractedUrl,N).pipe((0,He.U)(ne=>({...j,urlAfterRedirects:ne}))))}(this.environmentInjector,this.configLoader,this.urlSerializer,I.config),(0,le.b)(Rn=>{this.currentNavigation={...this.currentNavigation,finalUrl:Rn.urlAfterRedirects},N.urlAfterRedirects=Rn.urlAfterRedirects}),function qe(T,M,I,N,j){return(0,Ge.z)(ne=>function no(T,M,I,N,j,ne,ce="emptyOnly"){return new Ra(T,M,I,N,j,ce,ne).recognize().pipe((0,Be.w)(ot=>null===ot?function il(T){return new he.y(M=>M.error(T))}(new Ec):(0,G.of)(ot)))}(T,M,I,ne.urlAfterRedirects,N.serialize(ne.urlAfterRedirects),N,j).pipe((0,He.U)(ce=>({...ne,targetSnapshot:ce}))))}(this.environmentInjector,I.rootComponentType,I.config,this.urlSerializer,I.paramsInheritanceStrategy),(0,le.b)(Rn=>{if(N.targetSnapshot=Rn.targetSnapshot,"eager"===I.urlUpdateStrategy){if(!Rn.extras.skipLocationChange){const Er=I.urlHandlingStrategy.merge(Rn.urlAfterRedirects,Rn.rawUrl);I.setBrowserUrl(Er,Rn)}I.browserUrlTree=Rn.urlAfterRedirects}const br=new mt(Rn.id,this.urlSerializer.serialize(Rn.extractedUrl),this.urlSerializer.serialize(Rn.urlAfterRedirects),Rn.targetSnapshot);this.events.next(br)}));if(kt&&I.rawUrlTree&&I.urlHandlingStrategy.shouldProcessUrl(I.rawUrlTree)){const{id:br,extractedUrl:Er,source:Ci,restoredState:bi,extras:Es}=ce,cs=new ni(br,this.urlSerializer.serialize(Er),Ci,bi);this.events.next(cs);const Ls=gn(Er,I.rootComponentType).snapshot;return N={...ce,targetSnapshot:Ls,urlAfterRedirects:Er,extras:{...Es,skipLocationChange:!1,replaceUrl:!1}},(0,G.of)(N)}return I.rawUrlTree=ce.rawUrl,ce.resolve(null),me.E}),(0,le.b)(ce=>{const ot=new dt(ce.id,this.urlSerializer.serialize(ce.extractedUrl),this.urlSerializer.serialize(ce.urlAfterRedirects),ce.targetSnapshot);this.events.next(ot)}),(0,He.U)(ce=>N={...ce,guards:Eo(ce.targetSnapshot,ce.currentSnapshot,this.rootContexts)}),function k(T,M){return(0,Ge.z)(I=>{const{targetSnapshot:N,currentSnapshot:j,guards:{canActivateChecks:ne,canDeactivateChecks:ce}}=I;return 0===ce.length&&0===ne.length?(0,G.of)({...I,guardsResult:!0}):function F(T,M,I,N){return(0,J.D)(T).pipe((0,Ge.z)(j=>function Ws(T,M,I,N,j){const ne=M&&M.routeConfig?M.routeConfig.canDeactivate:null;if(!ne||0===ne.length)return(0,G.of)(!0);const ce=ne.map(ot=>{var kt;const wn=null!==(kt=Bi(M))&&void 0!==kt?kt:j,Rn=Yi(ot,wn);return ai(function Fn(T){return T&&C(T.canDeactivate)}(Rn)?Rn.canDeactivate(T,M,I,N):wn.runInContext(()=>Rn(T,M,I,N))).pipe((0,te.P)())});return(0,G.of)(ce).pipe(L())}(j.component,j.route,I,M,N)),(0,te.P)(j=>!0!==j,!0))}(ce,N,j,T).pipe((0,Ge.z)(ot=>ot&&function H(T){return"boolean"==typeof T}(ot)?function oe(T,M,I,N){return(0,J.D)(M).pipe((0,Ze.b)(j=>(0,ve.z)(function Ln(T,M){return null!==T&&M&&M(new vn(T)),(0,G.of)(!0)}(j.route.parent,N),function Mt(T,M){return null!==T&&M&&M(new kn(T)),(0,G.of)(!0)}(j.route,N),function Zi(T,M,I){const N=M[M.length-1],ne=M.slice(0,M.length-1).reverse().map(ce=>function eo(T){const M=T.routeConfig?T.routeConfig.canActivateChild:null;return M&&0!==M.length?{node:T,guards:M}:null}(ce)).filter(ce=>null!==ce).map(ce=>(0,Pe.P)(()=>{const ot=ce.guards.map(kt=>{var wn;const Rn=null!==(wn=Bi(ce.node))&&void 0!==wn?wn:I,br=Yi(kt,Rn);return ai(function Cn(T){return T&&C(T.canActivateChild)}(br)?br.canActivateChild(N,T):Rn.runInContext(()=>br(N,T))).pipe((0,te.P)())});return(0,G.of)(ot).pipe(L())}));return(0,G.of)(ne).pipe(L())}(T,j.path,I),function Ri(T,M,I){const N=M.routeConfig?M.routeConfig.canActivate:null;if(!N||0===N.length)return(0,G.of)(!0);const j=N.map(ne=>(0,Pe.P)(()=>{var ce;const ot=null!==(ce=Bi(M))&&void 0!==ce?ce:I,kt=Yi(ne,ot);return ai(function Nt(T){return T&&C(T.canActivate)}(kt)?kt.canActivate(M,T):ot.runInContext(()=>kt(M,T))).pipe((0,te.P)())}));return(0,G.of)(j).pipe(L())}(T,j.route,I))),(0,te.P)(j=>!0!==j,!0))}(N,ne,T,M):(0,G.of)(ot)),(0,He.U)(ot=>({...I,guardsResult:ot})))})}(this.environmentInjector,ce=>this.events.next(ce)),(0,le.b)(ce=>{if(N.guardsResult=ce.guardsResult,Te(ce.guardsResult))throw xs(0,ce.guardsResult);const ot=new be(ce.id,this.urlSerializer.serialize(ce.extractedUrl),this.urlSerializer.serialize(ce.urlAfterRedirects),ce.targetSnapshot,!!ce.guardsResult);this.events.next(ot)}),(0,Ve.h)(ce=>!!ce.guardsResult||(I.restoreHistory(ce),this.cancelNavigationTransition(ce,"",3,I),!1)),kr(ce=>{if(ce.guards.canActivateChecks.length)return(0,G.of)(ce).pipe((0,le.b)(ot=>{const kt=new rt(ot.id,this.urlSerializer.serialize(ot.extractedUrl),this.urlSerializer.serialize(ot.urlAfterRedirects),ot.targetSnapshot);this.events.next(kt)}),(0,Be.w)(ot=>{let kt=!1;return(0,G.of)(ot).pipe(function $t(T,M){return(0,Ge.z)(I=>{const{targetSnapshot:N,guards:{canActivateChecks:j}}=I;if(!j.length)return(0,G.of)(I);let ne=0;return(0,J.D)(j).pipe((0,Ze.b)(ce=>function Xt(T,M,I,N){const j=T.routeConfig,ne=T._resolve;return void 0!==(null==j?void 0:j.title)&&!$r(j)&&(ne[nn]=j.title),function qn(T,M,I,N){const j=function pr(T){return[...Object.keys(T),...Object.getOwnPropertySymbols(T)]}(T);if(0===j.length)return(0,G.of)({});const ne={};return(0,J.D)(j).pipe((0,Ge.z)(ce=>function Cr(T,M,I,N){var j;const ne=null!==(j=Bi(M))&&void 0!==j?j:N,ce=Yi(T,ne);return ai(ce.resolve?ce.resolve(M,I):ne.runInContext(()=>ce(M,I)))}(T[ce],M,I,N).pipe((0,te.P)(),(0,le.b)(ot=>{ne[ce]=ot}))),Me(1),(0,ft.h)(ne),(0,ye.K)(ce=>ur(ce)?me.E:(0,we._)(ce)))}(ne,T,M,N).pipe((0,He.U)(ce=>(T._resolvedData=ce,T.data=es(T,I).resolve,j&&$r(j)&&(T.data[nn]=j.title),null)))}(ce.route,N,T,M)),(0,le.b)(()=>ne++),Me(1),(0,Ge.z)(ce=>ne===j.length?(0,G.of)(I):me.E))})}(I.paramsInheritanceStrategy,this.environmentInjector),(0,le.b)({next:()=>kt=!0,complete:()=>{kt||(I.restoreHistory(ot),this.cancelNavigationTransition(ot,"",2,I))}}))}),(0,le.b)(ot=>{const kt=new St(ot.id,this.urlSerializer.serialize(ot.extractedUrl),this.urlSerializer.serialize(ot.urlAfterRedirects),ot.targetSnapshot);this.events.next(kt)}))}),kr(ce=>{const ot=kt=>{var wn;const Rn=[];null!==(wn=kt.routeConfig)&&void 0!==wn&&wn.loadComponent&&!kt.routeConfig._loadedComponent&&Rn.push(this.configLoader.loadComponent(kt.routeConfig).pipe((0,le.b)(br=>{kt.component=br}),(0,He.U)(()=>{})));for(const br of kt.children)Rn.push(...ot(br));return Rn};return(0,ke.a)(ot(ce.targetSnapshot.root)).pipe((0,Bt.d)(),(0,Je.q)(1))}),kr(()=>I.afterPreactivation()),(0,He.U)(ce=>{const ot=function Pt(T,M,I){const N=ms(T,M._root,I?I._root:void 0);return new ir(N,M)}(I.routeReuseStrategy,ce.targetSnapshot,ce.currentRouterState);return N={...ce,targetRouterState:ot}}),(0,le.b)(ce=>{I.currentUrlTree=ce.urlAfterRedirects,I.rawUrlTree=I.urlHandlingStrategy.merge(ce.urlAfterRedirects,ce.rawUrl),I.routerState=ce.targetRouterState,"deferred"===I.urlUpdateStrategy&&(ce.extras.skipLocationChange||I.setBrowserUrl(I.rawUrlTree,ce),I.browserUrlTree=ce.urlAfterRedirects)}),((T,M,I)=>(0,He.U)(N=>(new jo(M,N.targetRouterState,N.currentRouterState,I).activate(T),N)))(this.rootContexts,I.routeReuseStrategy,ce=>this.events.next(ce)),(0,le.b)({next:ce=>{var ot;j=!0,this.lastSuccessfulNavigation=this.currentNavigation,I.navigated=!0,this.events.next(new se(ce.id,this.urlSerializer.serialize(ce.extractedUrl),this.urlSerializer.serialize(I.currentUrlTree))),null===(ot=I.titleStrategy)||void 0===ot||ot.updateTitle(ce.targetRouterState.snapshot),ce.resolve(!0)},complete:()=>{j=!0}}),Ot(()=>{var ce;j||ne||this.cancelNavigationTransition(N,"",1,I),(null===(ce=this.currentNavigation)||void 0===ce?void 0:ce.id)===N.id&&(this.currentNavigation=null)}),(0,ye.K)(ce=>{if(ne=!0,pa(ce)){ra(ce)||(I.navigated=!0,I.restoreHistory(N,!0));const kt=new Ie(N.id,this.urlSerializer.serialize(N.extractedUrl),ce.message,ce.cancellationCode);if(this.events.next(kt),ra(ce)){const wn=I.urlHandlingStrategy.merge(ce.url,I.rawUrlTree),Rn={skipLocationChange:N.extras.skipLocationChange,replaceUrl:"eager"===I.urlUpdateStrategy||bn(N.source)};I.scheduleNavigation(wn,"imperative",null,Rn,{resolve:N.resolve,reject:N.reject,promise:N.promise})}else N.resolve(!1)}else{var ot;I.restoreHistory(N,!0);const kt=new at(N.id,this.urlSerializer.serialize(N.extractedUrl),ce,null!==(ot=N.targetSnapshot)&&void 0!==ot?ot:void 0);this.events.next(kt);try{N.resolve(I.errorHandler(ce))}catch(wn){N.reject(wn)}}return me.E}))}))}cancelNavigationTransition(I,N,j,ne){const ce=new Ie(I.id,this.urlSerializer.serialize(I.extractedUrl),N,j);this.events.next(ce),I.resolve(!1)}}return T.\u0275fac=function(I){return new(I||T)},T.\u0275prov=c.Yz7({token:T,factory:T.\u0275fac,providedIn:"root"}),T})();function bn(T){return"imperative"!==T}let Gt=(()=>{class T{buildTitle(I){let N,j=I.root;for(;void 0!==j;){var ne;N=null!==(ne=this.getResolvedTitleForRoute(j))&&void 0!==ne?ne:N,j=j.children.find(ce=>ce.outlet===st)}return N}getResolvedTitleForRoute(I){return I.data[nn]}}return T.\u0275fac=function(I){return new(I||T)},T.\u0275prov=c.Yz7({token:T,factory:function(){return(0,c.f3M)(rn)},providedIn:"root"}),T})(),rn=(()=>{class T extends Gt{constructor(I){super(),this.title=I}updateTitle(I){const N=this.buildTitle(I);void 0!==N&&this.title.setTitle(N)}}return T.\u0275fac=function(I){return new(I||T)(c.LFG(wt.Dx))},T.\u0275prov=c.Yz7({token:T,factory:T.\u0275fac,providedIn:"root"}),T})(),ls=(()=>{class T{}return T.\u0275fac=function(I){return new(I||T)},T.\u0275prov=c.Yz7({token:T,factory:function(){return(0,c.f3M)(Cl)},providedIn:"root"}),T})();class sl{shouldDetach(M){return!1}store(M,I){}shouldAttach(M){return!1}retrieve(M){return null}shouldReuseRoute(M,I){return M.routeConfig===I.routeConfig}}let Cl=(()=>{class T extends sl{}return T.\u0275fac=function(){let M;return function(N){return(M||(M=c.n5z(T)))(N||T)}}(),T.\u0275prov=c.Yz7({token:T,factory:T.\u0275fac,providedIn:"root"}),T})();const Ea=new c.OlP("",{providedIn:"root",factory:()=>({})});let Au=(()=>{class T{}return T.\u0275fac=function(I){return new(I||T)},T.\u0275prov=c.Yz7({token:T,factory:function(){return(0,c.f3M)(ol)},providedIn:"root"}),T})(),ol=(()=>{class T{shouldProcessUrl(I){return!0}extract(I){return I}merge(I,N){return I}}return T.\u0275fac=function(I){return new(I||T)},T.\u0275prov=c.Yz7({token:T,factory:T.\u0275fac,providedIn:"root"}),T})();function xu(T){throw T}function qo(T,M,I){return M.parse("/")}const al={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},wa={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Jn=(()=>{class T{constructor(){var I;this.disposed=!1,this.currentPageId=0,this.console=(0,c.f3M)(c.c2e),this.isNgZoneEnabled=!1,this.options=(0,c.f3M)(Ea,{optional:!0})||{},this.errorHandler=this.options.errorHandler||xu,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||qo,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>(0,G.of)(void 0),this.urlHandlingStrategy=(0,c.f3M)(Au),this.routeReuseStrategy=(0,c.f3M)(ls),this.urlCreationStrategy=(0,c.f3M)(un),this.titleStrategy=(0,c.f3M)(Gt),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=cr(null!==(I=(0,c.f3M)(jr,{optional:!0}))&&void 0!==I?I:[]),this.navigationTransitions=(0,c.f3M)(oa),this.urlSerializer=(0,c.f3M)(ki),this.location=(0,c.f3M)(fe.Ye),this.rootComponentType=null,this.isNgZoneEnabled=(0,c.f3M)(c.R0b)instanceof c.R0b&&c.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new fn,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=gn(this.currentUrlTree,this.rootComponentType),this.navigationTransitions.setupNavigations(this).subscribe(N=>{this.lastSuccessfulId=N.id,this.currentPageId=N.targetPageId},N=>{this.console.warn(`Unhandled Navigation Error: ${N}`)})}get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){var I;return null===(I=this.location.getState())||void 0===I?void 0:I.\u0275routerPageId}get events(){return this.navigationTransitions.events}resetRootComponentType(I){this.rootComponentType=I,this.routerState.root.component=this.rootComponentType}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(I=>{const N="popstate"===I.type?"popstate":"hashchange";"popstate"===N&&setTimeout(()=>{var j;const ne={replaceUrl:!0},ce=null!==(j=I.state)&&void 0!==j&&j.navigationId?I.state:null;if(I.state){const kt={...I.state};delete kt.navigationId,delete kt.\u0275routerPageId,0!==Object.keys(kt).length&&(ne.state=kt)}const ot=this.parseUrl(I.url);this.scheduleNavigation(ot,N,ce,ne)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}resetConfig(I){this.config=I.map(Gi),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(I,N={}){const{relativeTo:j,queryParams:ne,fragment:ce,queryParamsHandling:ot,preserveFragment:kt}=N,wn=kt?this.currentUrlTree.fragment:ce;let Rn=null;switch(ot){case"merge":Rn={...this.currentUrlTree.queryParams,...ne};break;case"preserve":Rn=this.currentUrlTree.queryParams;break;default:Rn=ne||null}return null!==Rn&&(Rn=this.removeEmptyProps(Rn)),this.urlCreationStrategy.createUrlTree(j,this.routerState,this.currentUrlTree,I,Rn,null!=wn?wn:null)}navigateByUrl(I,N={skipLocationChange:!1}){const j=Te(I)?I:this.parseUrl(I),ne=this.urlHandlingStrategy.merge(j,this.rawUrlTree);return this.scheduleNavigation(ne,"imperative",null,N)}navigate(I,N={skipLocationChange:!1}){return function Va(T){for(let M=0;M<T.length;M++){if(null==T[M])throw new c.vHH(4008,!1)}}(I),this.navigateByUrl(this.createUrlTree(I,N),N)}serializeUrl(I){return this.urlSerializer.serialize(I)}parseUrl(I){let N;try{N=this.urlSerializer.parse(I)}catch(j){N=this.malformedUriErrorHandler(j,this.urlSerializer,I)}return N}isActive(I,N){let j;if(j=!0===N?{...al}:!1===N?{...wa}:N,Te(I))return ui(this.currentUrlTree,I,j);const ne=this.parseUrl(I);return ui(this.currentUrlTree,ne,j)}removeEmptyProps(I){return Object.keys(I).reduce((N,j)=>{const ne=I[j];return null!=ne&&(N[j]=ne),N},{})}scheduleNavigation(I,N,j,ne,ce){if(this.disposed)return Promise.resolve(!1);let ot,kt,wn,Rn;if(ce?(ot=ce.resolve,kt=ce.reject,wn=ce.promise):wn=new Promise((Ci,bi)=>{ot=Ci,kt=bi}),"computed"===this.canceledNavigationResolution)if(0===this.currentPageId&&(j=this.location.getState()),j&&j.\u0275routerPageId)Rn=j.\u0275routerPageId;else if(ne.replaceUrl||ne.skipLocationChange){var br;Rn=null!==(br=this.browserPageId)&&void 0!==br?br:0}else{var Er;Rn=(null!==(Er=this.browserPageId)&&void 0!==Er?Er:0)+1}else Rn=0;return this.navigationTransitions.handleNavigationRequest({targetPageId:Rn,source:N,restoredState:j,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:I,extras:ne,resolve:ot,reject:kt,promise:wn,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),wn.catch(Ci=>Promise.reject(Ci))}setBrowserUrl(I,N){const j=this.urlSerializer.serialize(I),ne={...N.extras.state,...this.generateNgRouterState(N.id,N.targetPageId)};this.location.isCurrentPathEqualTo(j)||N.extras.replaceUrl?this.location.replaceState(j,"",ne):this.location.go(j,"",ne)}restoreHistory(I,N=!1){if("computed"===this.canceledNavigationResolution){var j,ne;const ce=this.currentPageId-I.targetPageId;"popstate"!==I.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(j=this.getCurrentNavigation())||void 0===j?void 0:j.finalUrl)||0===ce?this.currentUrlTree===(null===(ne=this.getCurrentNavigation())||void 0===ne?void 0:ne.finalUrl)&&0===ce&&(this.resetState(I),this.browserUrlTree=I.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(ce)}else"replace"===this.canceledNavigationResolution&&(N&&this.resetState(I),this.resetUrlToCurrentUrlTree())}resetState(I){this.routerState=I.currentRouterState,this.currentUrlTree=I.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,I.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(I,N){return"computed"===this.canceledNavigationResolution?{navigationId:I,\u0275routerPageId:N}:{navigationId:I}}}return T.\u0275fac=function(I){return new(I||T)},T.\u0275prov=c.Yz7({token:T,factory:T.\u0275fac,providedIn:"root"}),T})(),Wa=(()=>{class T{constructor(I,N,j,ne,ce,ot){this.router=I,this.route=N,this.tabIndexAttribute=j,this.renderer=ne,this.el=ce,this.locationStrategy=ot,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.href=null,this.commands=null,this.onChanges=new Ce.x;const kt=ce.nativeElement.tagName;this.isAnchorElement="A"===kt||"AREA"===kt,this.isAnchorElement?this.subscription=I.events.subscribe(wn=>{wn instanceof se&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(I){this._preserveFragment=(0,c.D6c)(I)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(I){this._skipLocationChange=(0,c.D6c)(I)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(I){this._replaceUrl=(0,c.D6c)(I)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(I){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",I)}ngOnChanges(I){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(I){null!=I?(this.commands=Array.isArray(I)?I:[I],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(I,N,j,ne,ce){return!!(null===this.urlTree||this.isAnchorElement&&(0!==I||N||j||ne||ce||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){var I;null===(I=this.subscription)||void 0===I||I.unsubscribe()}updateHref(){var I;this.href=null!==this.urlTree&&this.locationStrategy?null===(I=this.locationStrategy)||void 0===I?void 0:I.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const N=null===this.href?null:(0,c.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",N)}applyAttributeValue(I,N){const j=this.renderer,ne=this.el.nativeElement;null!==N?j.setAttribute(ne,I,N):j.removeAttribute(ne,I)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return T.\u0275fac=function(I){return new(I||T)(c.Y36(Jn),c.Y36(Ti),c.$8M("tabindex"),c.Y36(c.Qsj),c.Y36(c.SBq),c.Y36(fe.S$))},T.\u0275dir=c.lG2({type:T,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(I,N){1&I&&c.NdJ("click",function(ne){return N.onClick(ne.button,ne.ctrlKey,ne.shiftKey,ne.altKey,ne.metaKey)}),2&I&&c.uIk("target",N.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[c.TTD]}),T})(),Qi=(()=>{class T{constructor(I,N,j,ne,ce){this.router=I,this.element=N,this.renderer=j,this.cdr=ne,this.link=ce,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new c.vpe,this.routerEventsSubscription=I.events.subscribe(ot=>{ot instanceof se&&this.update()})}ngAfterContentInit(){(0,G.of)(this.links.changes,(0,G.of)(null)).pipe((0,pt.J)()).subscribe(I=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){var I;null===(I=this.linkInputChangesSubscription)||void 0===I||I.unsubscribe();const N=[...this.links.toArray(),this.link].filter(j=>!!j).map(j=>j.onChanges);this.linkInputChangesSubscription=(0,J.D)(N).pipe((0,pt.J)()).subscribe(j=>{this.isActive!==this.isLinkActive(this.router)(j)&&this.update()})}set routerLinkActive(I){const N=Array.isArray(I)?I:I.split(" ");this.classes=N.filter(j=>!!j)}ngOnChanges(I){this.update()}ngOnDestroy(){var I;this.routerEventsSubscription.unsubscribe(),null===(I=this.linkInputChangesSubscription)||void 0===I||I.unsubscribe()}update(){!this.links||!this.router.navigated||Promise.resolve().then(()=>{const I=this.hasActiveLinks();this.isActive!==I&&(this.isActive=I,this.cdr.markForCheck(),this.classes.forEach(N=>{I?this.renderer.addClass(this.element.nativeElement,N):this.renderer.removeClass(this.element.nativeElement,N)}),I&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this.isActiveChange.emit(I))})}isLinkActive(I){const N=function Yn(T){return!!T.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return j=>!!j.urlTree&&I.isActive(j.urlTree,N)}hasActiveLinks(){const I=this.isLinkActive(this.router);return this.link&&I(this.link)||this.links.some(I)}}return T.\u0275fac=function(I){return new(I||T)(c.Y36(Jn),c.Y36(c.SBq),c.Y36(c.Qsj),c.Y36(c.sBO),c.Y36(Wa,8))},T.\u0275dir=c.lG2({type:T,selectors:[["","routerLinkActive",""]],contentQueries:function(I,N,j){if(1&I&&c.Suo(j,Wa,5),2&I){let ne;c.iGM(ne=c.CRH())&&(N.links=ne)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[c.TTD]}),T})();class mo{}let _i=(()=>{class T{preload(I,N){return N().pipe((0,ye.K)(()=>(0,G.of)(null)))}}return T.\u0275fac=function(I){return new(I||T)},T.\u0275prov=c.Yz7({token:T,factory:T.\u0275fac,providedIn:"root"}),T})(),Hi=(()=>{class T{constructor(I,N,j,ne,ce){this.router=I,this.injector=j,this.preloadingStrategy=ne,this.loader=ce}setUpPreloading(){this.subscription=this.router.events.pipe((0,Ve.h)(I=>I instanceof se),(0,Ze.b)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(I,N){const j=[];for(const kt of N){var ne,ce;kt.providers&&!kt._injector&&(kt._injector=(0,c.MMx)(kt.providers,I,`Route: ${kt.path}`));const wn=null!==(ne=kt._injector)&&void 0!==ne?ne:I,Rn=null!==(ce=kt._loadedInjector)&&void 0!==ce?ce:wn;if(kt.loadChildren&&!kt._loadedRoutes&&void 0===kt.canLoad||kt.loadComponent&&!kt._loadedComponent)j.push(this.preloadConfig(wn,kt));else if(kt.children||kt._loadedRoutes){var ot;j.push(this.processRoutes(Rn,null!==(ot=kt.children)&&void 0!==ot?ot:kt._loadedRoutes))}}return(0,J.D)(j).pipe((0,pt.J)())}preloadConfig(I,N){return this.preloadingStrategy.preload(N,()=>{let j;j=N.loadChildren&&void 0===N.canLoad?this.loader.loadChildren(I,N):(0,G.of)(null);const ne=j.pipe((0,Ge.z)(ce=>{var ot;return null===ce?(0,G.of)(void 0):(N._loadedRoutes=ce.routes,N._loadedInjector=ce.injector,this.processRoutes(null!==(ot=ce.injector)&&void 0!==ot?ot:I,ce.routes))}));if(N.loadComponent&&!N._loadedComponent){const ce=this.loader.loadComponent(N);return(0,J.D)([ne,ce]).pipe((0,pt.J)())}return ne})}}return T.\u0275fac=function(I){return new(I||T)(c.LFG(Jn),c.LFG(c.Sil),c.LFG(c.lqb),c.LFG(mo),c.LFG(Fs))},T.\u0275prov=c.Yz7({token:T,factory:T.\u0275fac,providedIn:"root"}),T})();const Mn=new c.OlP("");let Ua=(()=>{class T{constructor(I,N,j,ne,ce={}){this.urlSerializer=I,this.transitions=N,this.viewportScroller=j,this.zone=ne,this.options=ce,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},ce.scrollPositionRestoration=ce.scrollPositionRestoration||"disabled",ce.anchorScrolling=ce.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(I=>{I instanceof ni?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=I.navigationTrigger,this.restoredId=I.restoredState?I.restoredState.navigationId:0):I instanceof se&&(this.lastId=I.id,this.scheduleScrollEvent(I,this.urlSerializer.parse(I.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(I=>{I instanceof Hr&&(I.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(I.position):I.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(I.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(I,N){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Hr(I,"popstate"===this.lastSource?this.store[this.restoredId]:null,N))})},0)})}ngOnDestroy(){var I,N;null===(I=this.routerEventsSubscription)||void 0===I||I.unsubscribe(),null===(N=this.scrollEventsSubscription)||void 0===N||N.unsubscribe()}}return T.\u0275fac=function(I){c.$Z()},T.\u0275prov=c.Yz7({token:T,factory:T.\u0275fac}),T})();function Ds(T,M){return{\u0275kind:T,\u0275providers:M}}function Io(){const T=(0,c.f3M)(c.zs3);return M=>{var I,N;const j=T.get(c.z2F);if(M!==j.components[0])return;const ne=T.get(Jn),ce=T.get(Is);1===T.get(Mu)&&ne.initialNavigation(),null===(I=T.get(Ut,null,c.XFs.Optional))||void 0===I||I.setUpPreloading(),null===(N=T.get(Mn,null,c.XFs.Optional))||void 0===N||N.init(),ne.resetRootComponentType(j.componentTypes[0]),ce.closed||(ce.next(),ce.unsubscribe())}}const Is=new c.OlP("",{factory:()=>new Ce.x}),Mu=new c.OlP("",{providedIn:"root",factory:()=>1});const Ut=new c.OlP("");function Ru(T){return Ds(0,[{provide:Ut,useExisting:Hi},{provide:mo,useExisting:T}])}const pi=new c.OlP("ROUTER_FORROOT_GUARD"),ko=[fe.Ye,{provide:ki,useClass:Rr},Jn,Ki,{provide:Ti,useFactory:function ul(T){return T.routerState.root},deps:[Jn]},Fs,[]];function js(){return new c.PXZ("Router",Jn)}let Ul=(()=>{class T{constructor(I){}static forRoot(I,N){return{ngModule:T,providers:[ko,[],{provide:jr,multi:!0,useValue:I},{provide:pi,useFactory:So,deps:[[Jn,new c.FiY,new c.tp0]]},{provide:Ea,useValue:N||{}},null!=N&&N.useHash?{provide:fe.S$,useClass:fe.Do}:{provide:fe.S$,useClass:fe.b0},{provide:Mn,useFactory:()=>{const T=(0,c.f3M)(fe.EM),M=(0,c.f3M)(c.R0b),I=(0,c.f3M)(Ea),N=(0,c.f3M)(oa),j=(0,c.f3M)(ki);return I.scrollOffset&&T.setOffset(I.scrollOffset),new Ua(j,N,T,M,I)}},null!=N&&N.preloadingStrategy?Ru(N.preloadingStrategy).\u0275providers:[],{provide:c.PXZ,multi:!0,useFactory:js},null!=N&&N.initialNavigation?Pu(N):[],[{provide:Ia,useFactory:Io},{provide:c.tb,multi:!0,useExisting:Ia}]]}}static forChild(I){return{ngModule:T,providers:[{provide:jr,multi:!0,useValue:I}]}}}return T.\u0275fac=function(I){return new(I||T)(c.LFG(pi,8))},T.\u0275mod=c.oAB({type:T}),T.\u0275inj=c.cJS({imports:[Us]}),T})();function So(T){return"guarded"}function Pu(T){return["disabled"===T.initialNavigation?Ds(3,[{provide:c.ip1,multi:!0,useFactory:()=>{const M=(0,c.f3M)(Jn);return()=>{M.setUpLocationChangeListener()}}},{provide:Mu,useValue:2}]).\u0275providers:[],"enabledBlocking"===T.initialNavigation?Ds(2,[{provide:Mu,useValue:0},{provide:c.ip1,multi:!0,deps:[c.zs3],useFactory:M=>{const I=M.get(fe.V_,Promise.resolve());return()=>I.then(()=>new Promise(j=>{const ne=M.get(Jn),ce=M.get(Is);(function N(j){M.get(Jn).events.pipe((0,Ve.h)(ce=>ce instanceof se||ce instanceof Ie||ce instanceof at),(0,He.U)(ce=>ce instanceof se||ce instanceof Ie&&(0===ce.code||1===ce.code)&&null),(0,Ve.h)(ce=>null!==ce),(0,Je.q)(1)).subscribe(()=>{j()})})(()=>{j(!0)}),ne.afterPreactivation=()=>(j(!0),ce.closed?(0,G.of)(void 0):ce),ne.initialNavigation()}))}}]).\u0275providers:[]]}const Ia=new c.OlP("")},3942:(Jt,it,V)=>{"use strict";V.d(it,{Z:()=>je});var c=V(2090),J=V(4859),G=V(9681),Ae=V(1877);class _e{constructor(Se,Ce){this._delegate=Se,this.firebase=Ce,(0,G._addComponent)(Se,new J.wA("app-compat",()=>this,"PUBLIC")),this.container=Se.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Se){this._delegate.automaticDataCollectionEnabled=Se}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Se=>{this._delegate.checkDestroyed(),Se()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,G.deleteApp)(this._delegate)))}_getService(Se,Ce=G._DEFAULT_ENTRY_NAME){var fe;this._delegate.checkDestroyed();const He=this._delegate.container.getProvider(Se);return!He.isInitialized()&&"EXPLICIT"===(null===(fe=He.getComponent())||void 0===fe?void 0:fe.instantiationMode)&&He.initialize(),He.getImmediate({identifier:Ce})}_removeServiceInstance(Se,Ce=G._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Se).clearInstance(Ce)}_addComponent(Se){(0,G._addComponent)(this._delegate,Se)}_addOrOverwriteComponent(Se){(0,G._addOrOverwriteComponent)(this._delegate,Se)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const ve=new c.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),we=function Ne(){const Et=function Pe(Et){const Se={},Ce={__esModule:!0,initializeApp:function Be(Ge,te={}){const Ze=G.initializeApp(Ge,te);if((0,c.r3)(Se,Ze.name))return Se[Ze.name];const le=new Et(Ze,Ce);return Se[Ze.name]=le,le},app:He,registerVersion:G.registerVersion,setLogLevel:G.setLogLevel,onLog:G.onLog,apps:null,SDK_VERSION:G.SDK_VERSION,INTERNAL:{registerComponent:function Qe(Ge){const te=Ge.name,Ze=te.replace("-compat","");if(G._registerComponent(Ge)&&"PUBLIC"===Ge.type){const le=(ye=He())=>{if("function"!=typeof ye[Ze])throw ve.create("invalid-app-argument",{appName:te});return ye[Ze]()};void 0!==Ge.serviceProps&&(0,c.ZB)(le,Ge.serviceProps),Ce[Ze]=le,Et.prototype[Ze]=function(...ye){return this._getService.bind(this,te).apply(this,Ge.multipleInstances?ye:[])}}return"PUBLIC"===Ge.type?Ce[Ze]:null},removeApp:function fe(Ge){delete Se[Ge]},useAsService:function Ve(Ge,te){return"serverAuth"===te?null:te},modularAPIs:G}};function He(Ge){if(!(0,c.r3)(Se,Ge=Ge||G._DEFAULT_ENTRY_NAME))throw ve.create("no-app",{appName:Ge});return Se[Ge]}return Ce.default=Ce,Object.defineProperty(Ce,"apps",{get:function Je(){return Object.keys(Se).map(Ge=>Se[Ge])}}),He.App=Et,Ce}(_e);return Et.INTERNAL=Object.assign(Object.assign({},Et.INTERNAL),{createFirebaseNamespace:Ne,extendNamespace:function Se(Ce){(0,c.ZB)(Et,Ce)},createSubscribe:c.ne,ErrorFactory:c.LL,deepExtend:c.ZB}),Et}(),he=new Ae.Yd("@firebase/app-compat");if((0,c.jU)()&&void 0!==self.firebase){he.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Et=self.firebase.SDK_VERSION;Et&&Et.indexOf("LITE")>=0&&he.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const je=we;!function We(Et){(0,G.registerVersion)("@firebase/app-compat","0.2.3",Et)}()},9681:(Jt,it,V)=>{"use strict";V.r(it),V.d(it,{FirebaseError:()=>Ae.ZR,SDK_VERSION:()=>cr,_DEFAULT_ENTRY_NAME:()=>bt,_addComponent:()=>wt,_addOrOverwriteComponent:()=>st,_apps:()=>Ot,_clearComponents:()=>Nn,_components:()=>pt,_getProvider:()=>Kt,_registerComponent:()=>nn,_removeServiceInstance:()=>en,deleteApp:()=>ai,getApp:()=>Vr,getApps:()=>Dn,initializeApp:()=>Mr,onLog:()=>hn,registerVersion:()=>Ur,setLogLevel:()=>ui});var c=V(5861),J=V(4859),G=V(1877),Ae=V(2090),_e=V(8766);class ke{constructor(qt){this.container=qt}getPlatformInfoString(){return this.container.getProviders().map(gt=>{if(function ve(sn){const qt=sn.getComponent();return"VERSION"===(null==qt?void 0:qt.type)}(gt)){const Fe=gt.getImmediate();return`${Fe.library}/${Fe.version}`}return null}).filter(gt=>gt).join(" ")}}const Pe="@firebase/app",we=new G.Yd("@firebase/app"),bt="[DEFAULT]",ft={[Pe]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Ot=new Map,pt=new Map;function wt(sn,qt){try{sn.container.addComponent(qt)}catch(gt){we.debug(`Component ${qt.name} failed to register with FirebaseApp ${sn.name}`,gt)}}function st(sn,qt){sn.container.addOrOverwriteComponent(qt)}function nn(sn){const qt=sn.name;if(pt.has(qt))return we.debug(`There were multiple attempts to register component ${qt}.`),!1;pt.set(qt,sn);for(const gt of Ot.values())wt(gt,sn);return!0}function Kt(sn,qt){const gt=sn.container.getProvider("heartbeat").getImmediate({optional:!0});return gt&&gt.triggerHeartbeat(),sn.container.getProvider(qt)}function en(sn,qt,gt=bt){Kt(sn,qt).clearInstance(gt)}function Nn(){pt.clear()}const Wn=new Ae.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class or{constructor(qt,gt,Fe){this._isDeleted=!1,this._options=Object.assign({},qt),this._config=Object.assign({},gt),this._name=gt.name,this._automaticDataCollectionEnabled=gt.automaticDataCollectionEnabled,this._container=Fe,this.container.addComponent(new J.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(qt){this.checkDestroyed(),this._automaticDataCollectionEnabled=qt}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(qt){this._isDeleted=qt}checkDestroyed(){if(this.isDeleted)throw Wn.create("app-deleted",{appName:this._name})}}const cr="9.17.1";function Mr(sn,qt={}){let gt=sn;"object"!=typeof qt&&(qt={name:qt});const Fe=Object.assign({name:bt,automaticDataCollectionEnabled:!1},qt),Ke=Fe.name;if("string"!=typeof Ke||!Ke)throw Wn.create("bad-app-name",{appName:String(Ke)});if(gt||(gt=(0,Ae.aH)()),!gt)throw Wn.create("no-options");const xt=Ot.get(Ke);if(xt){if((0,Ae.vZ)(gt,xt.options)&&(0,Ae.vZ)(Fe,xt.config))return xt;throw Wn.create("duplicate-app",{appName:Ke})}const ge=new J.H0(Ke);for(const ze of pt.values())ge.addComponent(ze);const De=new or(gt,Fe,ge);return Ot.set(Ke,De),De}function Vr(sn=bt){const qt=Ot.get(sn);if(!qt&&sn===bt)return Mr();if(!qt)throw Wn.create("no-app",{appName:sn});return qt}function Dn(){return Array.from(Ot.values())}function ai(sn){return Wt.apply(this,arguments)}function Wt(){return(Wt=(0,c.Z)(function*(sn){const qt=sn.name;Ot.has(qt)&&(Ot.delete(qt),yield Promise.all(sn.container.getProviders().map(gt=>gt.delete())),sn.isDeleted=!0)})).apply(this,arguments)}function Ur(sn,qt,gt){var Fe;let Ke=null!==(Fe=ft[sn])&&void 0!==Fe?Fe:sn;gt&&(Ke+=`-${gt}`);const xt=Ke.match(/\s|\//),ge=qt.match(/\s|\//);if(xt||ge){const De=[`Unable to register library "${Ke}" with version "${qt}":`];return xt&&De.push(`library name "${Ke}" contains illegal characters (whitespace or "/")`),xt&&ge&&De.push("and"),ge&&De.push(`version name "${qt}" contains illegal characters (whitespace or "/")`),void we.warn(De.join(" "))}nn(new J.wA(`${Ke}-version`,()=>({library:Ke,version:qt}),"VERSION"))}function hn(sn,qt){if(null!==sn&&"function"!=typeof sn)throw Wn.create("invalid-log-argument");(0,G.Am)(sn,qt)}function ui(sn){(0,G.Ub)(sn)}const Si="firebase-heartbeat-store";let Oi=null;function xn(){return Oi||(Oi=(0,_e.X3)("firebase-heartbeat-database",1,{upgrade:(sn,qt)=>{0===qt&&sn.createObjectStore(Si)}}).catch(sn=>{throw Wn.create("idb-open",{originalErrorMessage:sn.message})})),Oi}function fn(){return(fn=(0,c.Z)(function*(sn){try{return(yield xn()).transaction(Si).objectStore(Si).get(wr(sn))}catch(qt){if(qt instanceof Ae.ZR)we.warn(qt.message);else{const gt=Wn.create("idb-get",{originalErrorMessage:null==qt?void 0:qt.message});we.warn(gt.message)}}})).apply(this,arguments)}function zn(sn,qt){return _r.apply(this,arguments)}function _r(){return(_r=(0,c.Z)(function*(sn,qt){try{const Fe=(yield xn()).transaction(Si,"readwrite");return yield Fe.objectStore(Si).put(qt,wr(sn)),Fe.done}catch(gt){if(gt instanceof Ae.ZR)we.warn(gt.message);else{const Fe=Wn.create("idb-set",{originalErrorMessage:null==gt?void 0:gt.message});we.warn(Fe.message)}}})).apply(this,arguments)}function wr(sn){return`${sn.name}!${sn.options.appId}`}class ki{constructor(qt){this.container=qt,this._heartbeatsCache=null;const gt=this.container.getProvider("app").getImmediate();this._storage=new ar(gt),this._heartbeatsCachePromise=this._storage.read().then(Fe=>(this._heartbeatsCache=Fe,Fe))}triggerHeartbeat(){var qt=this;return(0,c.Z)(function*(){const Fe=qt.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Ke=Rr();if(null===qt._heartbeatsCache&&(qt._heartbeatsCache=yield qt._heartbeatsCachePromise),qt._heartbeatsCache.lastSentHeartbeatDate!==Ke&&!qt._heartbeatsCache.heartbeats.some(xt=>xt.date===Ke))return qt._heartbeatsCache.heartbeats.push({date:Ke,agent:Fe}),qt._heartbeatsCache.heartbeats=qt._heartbeatsCache.heartbeats.filter(xt=>{const ge=new Date(xt.date).valueOf();return Date.now()-ge<=2592e6}),qt._storage.overwrite(qt._heartbeatsCache)})()}getHeartbeatsHeader(){var qt=this;return(0,c.Z)(function*(){if(null===qt._heartbeatsCache&&(yield qt._heartbeatsCachePromise),null===qt._heartbeatsCache||0===qt._heartbeatsCache.heartbeats.length)return"";const gt=Rr(),{heartbeatsToSend:Fe,unsentEntries:Ke}=function is(sn,qt=1024){const gt=[];let Fe=sn.slice();for(const Ke of sn){const xt=gt.find(ge=>ge.agent===Ke.agent);if(xt){if(xt.dates.push(Ke.date),li(gt)>qt){xt.dates.pop();break}}else if(gt.push({agent:Ke.agent,dates:[Ke.date]}),li(gt)>qt){gt.pop();break}Fe=Fe.slice(1)}return{heartbeatsToSend:gt,unsentEntries:Fe}}(qt._heartbeatsCache.heartbeats),xt=(0,Ae.L)(JSON.stringify({version:2,heartbeats:Fe}));return qt._heartbeatsCache.lastSentHeartbeatDate=gt,Ke.length>0?(qt._heartbeatsCache.heartbeats=Ke,yield qt._storage.overwrite(qt._heartbeatsCache)):(qt._heartbeatsCache.heartbeats=[],qt._storage.overwrite(qt._heartbeatsCache)),xt})()}}function Rr(){return(new Date).toISOString().substring(0,10)}class ar{constructor(qt){this.app=qt,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,c.Z)(function*(){return!!(0,Ae.hl)()&&(0,Ae.eu)().then(()=>!0).catch(()=>!1)})()}read(){var qt=this;return(0,c.Z)(function*(){return(yield qt._canUseIndexedDBPromise)&&(yield function On(sn){return fn.apply(this,arguments)}(qt.app))||{heartbeats:[]}})()}overwrite(qt){var gt=this;return(0,c.Z)(function*(){var Fe;if(yield gt._canUseIndexedDBPromise){const xt=yield gt.read();return zn(gt.app,{lastSentHeartbeatDate:null!==(Fe=qt.lastSentHeartbeatDate)&&void 0!==Fe?Fe:xt.lastSentHeartbeatDate,heartbeats:qt.heartbeats})}})()}add(qt){var gt=this;return(0,c.Z)(function*(){var Fe;if(yield gt._canUseIndexedDBPromise){const xt=yield gt.read();return zn(gt.app,{lastSentHeartbeatDate:null!==(Fe=qt.lastSentHeartbeatDate)&&void 0!==Fe?Fe:xt.lastSentHeartbeatDate,heartbeats:[...xt.heartbeats,...qt.heartbeats]})}})()}}function li(sn){return(0,Ae.L)(JSON.stringify({version:2,heartbeats:sn})).length}!function fr(sn){nn(new J.wA("platform-logger",qt=>new ke(qt),"PRIVATE")),nn(new J.wA("heartbeat",qt=>new ki(qt),"PRIVATE")),Ur(Pe,"0.9.3",sn),Ur(Pe,"0.9.3","esm2017"),Ur("fire-js","")}("")},4859:(Jt,it,V)=>{"use strict";V.d(it,{H0:()=>Pe,wA:()=>G});var c=V(5861),J=V(2090);class G{constructor(we,he,me){this.name=we,this.instanceFactory=he,this.type=me,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(we){return this.instantiationMode=we,this}setMultipleInstances(we){return this.multipleInstances=we,this}setServiceProps(we){return this.serviceProps=we,this}setInstanceCreatedCallback(we){return this.onInstanceCreated=we,this}}const Ae="[DEFAULT]";class _e{constructor(we,he){this.name=we,this.container=he,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(we){const he=this.normalizeInstanceIdentifier(we);if(!this.instancesDeferred.has(he)){const me=new J.BH;if(this.instancesDeferred.set(he,me),this.isInitialized(he)||this.shouldAutoInitialize())try{const Re=this.getOrInitializeService({instanceIdentifier:he});Re&&me.resolve(Re)}catch(Re){}}return this.instancesDeferred.get(he).promise}getImmediate(we){var he;const me=this.normalizeInstanceIdentifier(null==we?void 0:we.identifier),Re=null!==(he=null==we?void 0:we.optional)&&void 0!==he&&he;if(!this.isInitialized(me)&&!this.shouldAutoInitialize()){if(Re)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:me})}catch(We){if(Re)return null;throw We}}getComponent(){return this.component}setComponent(we){if(we.name!==this.name)throw Error(`Mismatching Component ${we.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=we,this.shouldAutoInitialize()){if(function ve(Ne){return"EAGER"===Ne.instantiationMode}(we))try{this.getOrInitializeService({instanceIdentifier:Ae})}catch(he){}for(const[he,me]of this.instancesDeferred.entries()){const Re=this.normalizeInstanceIdentifier(he);try{const We=this.getOrInitializeService({instanceIdentifier:Re});me.resolve(We)}catch(We){}}}}clearInstance(we=Ae){this.instancesDeferred.delete(we),this.instancesOptions.delete(we),this.instances.delete(we)}delete(){var we=this;return(0,c.Z)(function*(){const he=Array.from(we.instances.values());yield Promise.all([...he.filter(me=>"INTERNAL"in me).map(me=>me.INTERNAL.delete()),...he.filter(me=>"_delete"in me).map(me=>me._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(we=Ae){return this.instances.has(we)}getOptions(we=Ae){return this.instancesOptions.get(we)||{}}initialize(we={}){const{options:he={}}=we,me=this.normalizeInstanceIdentifier(we.instanceIdentifier);if(this.isInitialized(me))throw Error(`${this.name}(${me}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Re=this.getOrInitializeService({instanceIdentifier:me,options:he});for(const[We,je]of this.instancesDeferred.entries())me===this.normalizeInstanceIdentifier(We)&&je.resolve(Re);return Re}onInit(we,he){var me;const Re=this.normalizeInstanceIdentifier(he),We=null!==(me=this.onInitCallbacks.get(Re))&&void 0!==me?me:new Set;We.add(we),this.onInitCallbacks.set(Re,We);const je=this.instances.get(Re);return je&&we(je,Re),()=>{We.delete(we)}}invokeOnInitCallbacks(we,he){const me=this.onInitCallbacks.get(he);if(me)for(const Re of me)try{Re(we,he)}catch(We){}}getOrInitializeService({instanceIdentifier:we,options:he={}}){let me=this.instances.get(we);if(!me&&this.component&&(me=this.component.instanceFactory(this.container,{instanceIdentifier:(Ne=we,Ne===Ae?void 0:Ne),options:he}),this.instances.set(we,me),this.instancesOptions.set(we,he),this.invokeOnInitCallbacks(me,we),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,we,me)}catch(Re){}var Ne;return me||null}normalizeInstanceIdentifier(we=Ae){return this.component?this.component.multipleInstances?we:Ae:we}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Pe{constructor(we){this.name=we,this.providers=new Map}addComponent(we){const he=this.getProvider(we.name);if(he.isComponentSet())throw new Error(`Component ${we.name} has already been registered with ${this.name}`);he.setComponent(we)}addOrOverwriteComponent(we){this.getProvider(we.name).isComponentSet()&&this.providers.delete(we.name),this.addComponent(we)}getProvider(we){if(this.providers.has(we))return this.providers.get(we);const he=new _e(we,this);return this.providers.set(we,he),he}getProviders(){return Array.from(this.providers.values())}}},1877:(Jt,it,V)=>{"use strict";V.d(it,{Am:()=>Ne,Ub:()=>Pe,Yd:()=>ve,in:()=>J});const c=[];var J=(()=>{return(we=J||(J={}))[we.DEBUG=0]="DEBUG",we[we.VERBOSE=1]="VERBOSE",we[we.INFO=2]="INFO",we[we.WARN=3]="WARN",we[we.ERROR=4]="ERROR",we[we.SILENT=5]="SILENT",J;var we})();const G={debug:J.DEBUG,verbose:J.VERBOSE,info:J.INFO,warn:J.WARN,error:J.ERROR,silent:J.SILENT},Ae=J.INFO,_e={[J.DEBUG]:"log",[J.VERBOSE]:"log",[J.INFO]:"info",[J.WARN]:"warn",[J.ERROR]:"error"},ke=(we,he,...me)=>{if(he<we.logLevel)return;const Re=(new Date).toISOString(),We=_e[he];if(!We)throw new Error(`Attempted to log a message with an invalid logType (value: ${he})`);console[We](`[${Re}]  ${we.name}:`,...me)};class ve{constructor(he){this.name=he,this._logLevel=Ae,this._logHandler=ke,this._userLogHandler=null,c.push(this)}get logLevel(){return this._logLevel}set logLevel(he){if(!(he in J))throw new TypeError(`Invalid value "${he}" assigned to \`logLevel\``);this._logLevel=he}setLogLevel(he){this._logLevel="string"==typeof he?G[he]:he}get logHandler(){return this._logHandler}set logHandler(he){if("function"!=typeof he)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=he}get userLogHandler(){return this._userLogHandler}set userLogHandler(he){this._userLogHandler=he}debug(...he){this._userLogHandler&&this._userLogHandler(this,J.DEBUG,...he),this._logHandler(this,J.DEBUG,...he)}log(...he){this._userLogHandler&&this._userLogHandler(this,J.VERBOSE,...he),this._logHandler(this,J.VERBOSE,...he)}info(...he){this._userLogHandler&&this._userLogHandler(this,J.INFO,...he),this._logHandler(this,J.INFO,...he)}warn(...he){this._userLogHandler&&this._userLogHandler(this,J.WARN,...he),this._logHandler(this,J.WARN,...he)}error(...he){this._userLogHandler&&this._userLogHandler(this,J.ERROR,...he),this._logHandler(this,J.ERROR,...he)}}function Pe(we){c.forEach(he=>{he.setLogLevel(we)})}function Ne(we,he){for(const me of c){let Re=null;he&&he.level&&(Re=G[he.level]),me.userLogHandler=null===we?null:(We,je,...Et)=>{const Se=Et.map(Ce=>{if(null==Ce)return null;if("string"==typeof Ce)return Ce;if("number"==typeof Ce||"boolean"==typeof Ce)return Ce.toString();if(Ce instanceof Error)return Ce.message;try{return JSON.stringify(Ce)}catch(fe){return null}}).filter(Ce=>Ce).join(" ");je>=(null!=Re?Re:We.logLevel)&&we({level:J[je].toLowerCase(),message:Se,args:Et,type:We.name})}}}},259:(Jt,it,V)=>{"use strict";V.d(it,{C6:()=>c.getApps,Mq:()=>c.getApp});var c=V(9681);(0,c.registerVersion)("firebase","9.17.1","app")},9260:(Jt,it,V)=>{"use strict";V.d(it,{Z:()=>c.Z});var c=V(3942);c.Z.registerVersion("firebase","9.17.1","app-compat")},407:(Jt,it,V)=>{"use strict";V.r(it);var c=V(5861),J=V(3942),G=V(2090),Ae=V(9681),_e=V(1877),ke=V(655),ve=V(4859);const je=function Re(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},Et=function We(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Se=new G.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),fe=new _e.Yd("@firebase/auth");function He(b,...m){fe.logLevel<=_e.in.ERROR&&fe.error(`Auth (${Ae.SDK_VERSION}): ${b}`,...m)}function Be(b,...m){throw Ge(b,...m)}function Je(b,...m){return Ge(b,...m)}function Qe(b,m,_){const A=Object.assign(Object.assign({},Et()),{[m]:_});return new G.LL("auth","Firebase",A).create(m,{appName:b.name})}function Ve(b,m,_){if(!(m instanceof _))throw _.name!==m.constructor.name&&Be(b,"argument-error"),Qe(b,"argument-error",`Type of ${m.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Ge(b,...m){if("string"!=typeof b){const _=m[0],A=[...m.slice(1)];return A[0]&&(A[0].appName=b.name),b._errorFactory.create(_,...A)}return Se.create(b,...m)}function te(b,m,..._){if(!b)throw Ge(m,..._)}function Ze(b){const m="INTERNAL ASSERTION FAILED: "+b;throw He(m),new Error(m)}function le(b,m){b||Ze(m)}const ye=new Map;function xe(b){le(b instanceof Function,"Expected a class definition");let m=ye.get(b);return m?(le(m instanceof b,"Instance stored in cache mismatched with class"),m):(m=new b,ye.set(b,m),m)}function Bt(){var b;return typeof self<"u"&&(null===(b=self.location)||void 0===b?void 0:b.href)||""}function on(){return"http:"===Rt()||"https:"===Rt()}function Rt(){var b;return typeof self<"u"&&(null===(b=self.location)||void 0===b?void 0:b.protocol)||null}class Ot{constructor(m,_){this.shortDelay=m,this.longDelay=_,le(_>m,"Short delay should be less than long delay!"),this.isMobile=(0,G.uI)()||(0,G.b$)()}get(){return function bt(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(on()||(0,G.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function pt(b,m){le(b.emulator,"Emulator should always be set here");const{url:_}=b.emulator;return m?`${_}${m.startsWith("/")?m.slice(1):m}`:_}class wt{static initialize(m,_,A){this.fetchImpl=m,_&&(this.headersImpl=_),A&&(this.responseImpl=A)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void Ze("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void Ze("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void Ze("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const st={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},nn=new Ot(3e4,6e4);function Kt(b,m){return b.tenantId&&!m.tenantId?Object.assign(Object.assign({},m),{tenantId:b.tenantId}):m}function en(b,m,_,A){return Nn.apply(this,arguments)}function Nn(){return(Nn=(0,c.Z)(function*(b,m,_,A,Z={}){return sr(b,Z,(0,c.Z)(function*(){let pe={},_t={};A&&("GET"===m?_t=A:pe={body:JSON.stringify(A)});const Yt=(0,G.xO)(Object.assign({key:b.config.apiKey},_t)).slice(1),Pn=yield b._getAdditionalHeaders();return Pn["Content-Type"]="application/json",b.languageCode&&(Pn["X-Firebase-Locale"]=b.languageCode),wt.fetch()(Mr(b,b.config.apiHost,_,Yt),Object.assign({method:m,headers:Pn,referrerPolicy:"no-referrer"},pe))}))})).apply(this,arguments)}function sr(b,m,_){return Wn.apply(this,arguments)}function Wn(){return(Wn=(0,c.Z)(function*(b,m,_){b._canInitEmulator=!1;const A=Object.assign(Object.assign({},st),m);try{const Z=new Vr(b),pe=yield Promise.race([_(),Z.promise]);Z.clearNetworkTimeout();const _t=yield pe.json();if("needConfirmation"in _t)throw Dn(b,"account-exists-with-different-credential",_t);if(pe.ok&&!("errorMessage"in _t))return _t;{const Yt=pe.ok?_t.errorMessage:_t.error.message,[Pn,Qn]=Yt.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Pn)throw Dn(b,"credential-already-in-use",_t);if("EMAIL_EXISTS"===Pn)throw Dn(b,"email-already-in-use",_t);if("USER_DISABLED"===Pn)throw Dn(b,"user-disabled",_t);const Pr=A[Pn]||Pn.toLowerCase().replace(/[_\s]+/g,"-");if(Qn)throw Qe(b,Pr,Qn);Be(b,Pr)}}catch(Z){if(Z instanceof G.ZR)throw Z;Be(b,"network-request-failed")}})).apply(this,arguments)}function or(b,m,_,A){return cr.apply(this,arguments)}function cr(){return(cr=(0,c.Z)(function*(b,m,_,A,Z={}){const pe=yield en(b,m,_,A,Z);return"mfaPendingCredential"in pe&&Be(b,"multi-factor-auth-required",{_serverResponse:pe}),pe})).apply(this,arguments)}function Mr(b,m,_,A){const Z=`${m}${_}?${A}`;return b.config.emulator?pt(b.config,Z):`${b.config.apiScheme}://${Z}`}class Vr{constructor(m){this.auth=m,this.timer=null,this.promise=new Promise((_,A)=>{this.timer=setTimeout(()=>A(Je(this.auth,"network-request-failed")),nn.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Dn(b,m,_){const A={appName:b.name};_.email&&(A.email=_.email),_.phoneNumber&&(A.phoneNumber=_.phoneNumber);const Z=Je(b,m,A);return Z.customData._tokenResponse=_,Z}function Wt(){return(Wt=(0,c.Z)(function*(b,m){return en(b,"POST","/v1/accounts:delete",m)})).apply(this,arguments)}function Ur(b,m){return hn.apply(this,arguments)}function hn(){return(hn=(0,c.Z)(function*(b,m){return en(b,"POST","/v1/accounts:update",m)})).apply(this,arguments)}function ui(b,m){return gr.apply(this,arguments)}function gr(){return(gr=(0,c.Z)(function*(b,m){return en(b,"POST","/v1/accounts:lookup",m)})).apply(this,arguments)}function vr(b){if(b)try{const m=new Date(Number(b));if(!isNaN(m.getTime()))return m.toUTCString()}catch(m){}}function xn(){return(xn=(0,c.Z)(function*(b,m=!1){const _=(0,G.m9)(b),A=yield _.getIdToken(m),Z=fn(A);te(Z&&Z.exp&&Z.auth_time&&Z.iat,_.auth,"internal-error");const pe="object"==typeof Z.firebase?Z.firebase:void 0,_t=null==pe?void 0:pe.sign_in_provider;return{claims:Z,token:A,authTime:vr(On(Z.auth_time)),issuedAtTime:vr(On(Z.iat)),expirationTime:vr(On(Z.exp)),signInProvider:_t||null,signInSecondFactor:(null==pe?void 0:pe.sign_in_second_factor)||null}})).apply(this,arguments)}function On(b){return 1e3*Number(b)}function fn(b){const[m,_,A]=b.split(".");if(void 0===m||void 0===_||void 0===A)return He("JWT malformed, contained fewer than 3 sections"),null;try{const Z=(0,G.tV)(_);return Z?JSON.parse(Z):(He("Failed to decode base64 JWT payload"),null)}catch(Z){return He("Caught error parsing JWT payload as JSON",null==Z?void 0:Z.toString()),null}}function _r(b,m){return wr.apply(this,arguments)}function wr(){return(wr=(0,c.Z)(function*(b,m,_=!1){if(_)return m;try{return yield m}catch(A){throw A instanceof G.ZR&&Nr(A)&&b.auth.currentUser===b&&(yield b.auth.signOut()),A}})).apply(this,arguments)}function Nr({code:b}){return"auth/user-disabled"===b||"auth/user-token-expired"===b}class xi{constructor(m){this.user=m,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(m){var _;if(m){const A=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),A}{this.errorBackoff=3e4;const Z=(null!==(_=this.user.stsTokenManager.expirationTime)&&void 0!==_?_:0)-Date.now()-3e5;return Math.max(0,Z)}}schedule(m=!1){var _=this;if(!this.isRunning)return;const A=this.getInterval(m);this.timerId=setTimeout((0,c.Z)(function*(){yield _.iteration()}),A)}iteration(){var m=this;return(0,c.Z)(function*(){try{yield m.user.getIdToken(!0)}catch(_){return void("auth/network-request-failed"===(null==_?void 0:_.code)&&m.schedule(!0))}m.schedule()})()}}class ki{constructor(m,_){this.createdAt=m,this.lastLoginAt=_,this._initializeTime()}_initializeTime(){this.lastSignInTime=vr(this.lastLoginAt),this.creationTime=vr(this.createdAt)}_copy(m){this.createdAt=m.createdAt,this.lastLoginAt=m.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Rr(b){return is.apply(this,arguments)}function is(){return(is=(0,c.Z)(function*(b){var m;const _=b.auth,A=yield b.getIdToken(),Z=yield _r(b,ui(_,{idToken:A}));te(null==Z?void 0:Z.users.length,_,"internal-error");const pe=Z.users[0];b._notifyReloadListener(pe);const _t=null!==(m=pe.providerUserInfo)&&void 0!==m&&m.length?sn(pe.providerUserInfo):[],Yt=fr(b.providerData,_t),Pr=!!b.isAnonymous&&!(b.email&&pe.passwordHash||null!=Yt&&Yt.length),Dr={uid:pe.localId,displayName:pe.displayName||null,photoURL:pe.photoUrl||null,email:pe.email||null,emailVerified:pe.emailVerified||!1,phoneNumber:pe.phoneNumber||null,tenantId:pe.tenantId||null,providerData:Yt,metadata:new ki(pe.createdAt,pe.lastLoginAt),isAnonymous:Pr};Object.assign(b,Dr)})).apply(this,arguments)}function li(){return(li=(0,c.Z)(function*(b){const m=(0,G.m9)(b);yield Rr(m),yield m.auth._persistUserIfCurrent(m),m.auth._notifyListenersIfCurrent(m)})).apply(this,arguments)}function fr(b,m){return[...b.filter(A=>!m.some(Z=>Z.providerId===A.providerId)),...m]}function sn(b){return b.map(m=>{var{providerId:_}=m,A=(0,ke._T)(m,["providerId"]);return{providerId:_,uid:A.rawId||"",displayName:A.displayName||null,email:A.email||null,phoneNumber:A.phoneNumber||null,photoURL:A.photoUrl||null}})}function gt(){return(gt=(0,c.Z)(function*(b,m){const _=yield sr(b,{},(0,c.Z)(function*(){const A=(0,G.xO)({grant_type:"refresh_token",refresh_token:m}).slice(1),{tokenApiHost:Z,apiKey:pe}=b.config,_t=Mr(b,Z,"/v1/token",`key=${pe}`),Yt=yield b._getAdditionalHeaders();return Yt["Content-Type"]="application/x-www-form-urlencoded",wt.fetch()(_t,{method:"POST",headers:Yt,body:A})}));return{accessToken:_.access_token,expiresIn:_.expires_in,refreshToken:_.refresh_token}})).apply(this,arguments)}class Fe{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(m){te(m.idToken,"internal-error"),te(typeof m.idToken<"u","internal-error"),te(typeof m.refreshToken<"u","internal-error");const _="expiresIn"in m&&typeof m.expiresIn<"u"?Number(m.expiresIn):function zn(b){const m=fn(b);return te(m,"internal-error"),te(typeof m.exp<"u","internal-error"),te(typeof m.iat<"u","internal-error"),Number(m.exp)-Number(m.iat)}(m.idToken);this.updateTokensAndExpiration(m.idToken,m.refreshToken,_)}getToken(m,_=!1){var A=this;return(0,c.Z)(function*(){return te(!A.accessToken||A.refreshToken,m,"user-token-expired"),_||!A.accessToken||A.isExpired?A.refreshToken?(yield A.refresh(m,A.refreshToken),A.accessToken):null:A.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(m,_){var A=this;return(0,c.Z)(function*(){const{accessToken:Z,refreshToken:pe,expiresIn:_t}=yield function qt(b,m){return gt.apply(this,arguments)}(m,_);A.updateTokensAndExpiration(Z,pe,Number(_t))})()}updateTokensAndExpiration(m,_,A){this.refreshToken=_||null,this.accessToken=m||null,this.expirationTime=Date.now()+1e3*A}static fromJSON(m,_){const{refreshToken:A,accessToken:Z,expirationTime:pe}=_,_t=new Fe;return A&&(te("string"==typeof A,"internal-error",{appName:m}),_t.refreshToken=A),Z&&(te("string"==typeof Z,"internal-error",{appName:m}),_t.accessToken=Z),pe&&(te("number"==typeof pe,"internal-error",{appName:m}),_t.expirationTime=pe),_t}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(m){this.accessToken=m.accessToken,this.refreshToken=m.refreshToken,this.expirationTime=m.expirationTime}_clone(){return Object.assign(new Fe,this.toJSON())}_performRefresh(){return Ze("not implemented")}}function Ke(b,m){te("string"==typeof b||typeof b>"u","internal-error",{appName:m})}class xt{constructor(m){var{uid:_,auth:A,stsTokenManager:Z}=m,pe=(0,ke._T)(m,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new xi(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=_,this.auth=A,this.stsTokenManager=Z,this.accessToken=Z.accessToken,this.displayName=pe.displayName||null,this.email=pe.email||null,this.emailVerified=pe.emailVerified||!1,this.phoneNumber=pe.phoneNumber||null,this.photoURL=pe.photoURL||null,this.isAnonymous=pe.isAnonymous||!1,this.tenantId=pe.tenantId||null,this.providerData=pe.providerData?[...pe.providerData]:[],this.metadata=new ki(pe.createdAt||void 0,pe.lastLoginAt||void 0)}getIdToken(m){var _=this;return(0,c.Z)(function*(){const A=yield _r(_,_.stsTokenManager.getToken(_.auth,m));return te(A,_.auth,"internal-error"),_.accessToken!==A&&(_.accessToken=A,yield _.auth._persistUserIfCurrent(_),_.auth._notifyListenersIfCurrent(_)),A})()}getIdTokenResult(m){return function Oi(b){return xn.apply(this,arguments)}(this,m)}reload(){return function ar(b){return li.apply(this,arguments)}(this)}_assign(m){this!==m&&(te(this.uid===m.uid,this.auth,"internal-error"),this.displayName=m.displayName,this.photoURL=m.photoURL,this.email=m.email,this.emailVerified=m.emailVerified,this.phoneNumber=m.phoneNumber,this.isAnonymous=m.isAnonymous,this.tenantId=m.tenantId,this.providerData=m.providerData.map(_=>Object.assign({},_)),this.metadata._copy(m.metadata),this.stsTokenManager._assign(m.stsTokenManager))}_clone(m){return new xt(Object.assign(Object.assign({},this),{auth:m,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(m){te(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=m,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(m){this.reloadListener?this.reloadListener(m):this.reloadUserInfo=m}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(m,_=!1){var A=this;return(0,c.Z)(function*(){let Z=!1;m.idToken&&m.idToken!==A.stsTokenManager.accessToken&&(A.stsTokenManager.updateFromServerResponse(m),Z=!0),_&&(yield Rr(A)),yield A.auth._persistUserIfCurrent(A),Z&&A.auth._notifyListenersIfCurrent(A)})()}delete(){var m=this;return(0,c.Z)(function*(){const _=yield m.getIdToken();return yield _r(m,function ai(b,m){return Wt.apply(this,arguments)}(m.auth,{idToken:_})),m.stsTokenManager.clearRefreshToken(),m.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(m=>Object.assign({},m)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(m,_){var A,Z,pe,_t,Yt,Pn,Qn,Pr;const Dr=null!==(A=_.displayName)&&void 0!==A?A:void 0,oo=null!==(Z=_.email)&&void 0!==Z?Z:void 0,Xa=null!==(pe=_.phoneNumber)&&void 0!==pe?pe:void 0,oh=null!==(_t=_.photoURL)&&void 0!==_t?_t:void 0,Hf=null!==(Yt=_.tenantId)&&void 0!==Yt?Yt:void 0,mu=null!==(Pn=_._redirectEventId)&&void 0!==Pn?Pn:void 0,Xo=null!==(Qn=_.createdAt)&&void 0!==Qn?Qn:void 0,qu=null!==(Pr=_.lastLoginAt)&&void 0!==Pr?Pr:void 0,{uid:ah,emailVerified:uh,isAnonymous:Qo,providerData:jf,stsTokenManager:Gf}=_;te(ah&&Gf,m,"internal-error");const Wu=Fe.fromJSON(this.name,Gf);te("string"==typeof ah,m,"internal-error"),Ke(Dr,m.name),Ke(oo,m.name),te("boolean"==typeof uh,m,"internal-error"),te("boolean"==typeof Qo,m,"internal-error"),Ke(Xa,m.name),Ke(oh,m.name),Ke(Hf,m.name),Ke(mu,m.name),Ke(Xo,m.name),Ke(qu,m.name);const kc=new xt({uid:ah,auth:m,email:oo,emailVerified:uh,displayName:Dr,isAnonymous:Qo,photoURL:oh,phoneNumber:Xa,tenantId:Hf,stsTokenManager:Wu,createdAt:Xo,lastLoginAt:qu});return jf&&Array.isArray(jf)&&(kc.providerData=jf.map(Fc=>Object.assign({},Fc))),mu&&(kc._redirectEventId=mu),kc}static _fromIdTokenResponse(m,_,A=!1){return(0,c.Z)(function*(){const Z=new Fe;Z.updateFromServerResponse(_);const pe=new xt({uid:_.localId,auth:m,stsTokenManager:Z,isAnonymous:A});return yield Rr(pe),pe})()}}const De=(()=>{class b{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,c.Z)(function*(){return!0})()}_set(_,A){var Z=this;return(0,c.Z)(function*(){Z.storage[_]=A})()}_get(_){var A=this;return(0,c.Z)(function*(){const Z=A.storage[_];return void 0===Z?null:Z})()}_remove(_){var A=this;return(0,c.Z)(function*(){delete A.storage[_]})()}_addListener(_,A){}_removeListener(_,A){}}return b.type="NONE",b})();function ze(b,m,_){return`firebase:${b}:${m}:${_}`}class At{constructor(m,_,A){this.persistence=m,this.auth=_,this.userKey=A;const{config:Z,name:pe}=this.auth;this.fullUserKey=ze(this.userKey,Z.apiKey,pe),this.fullPersistenceKey=ze("persistence",Z.apiKey,pe),this.boundEventHandler=_._onStorageEvent.bind(_),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(m){return this.persistence._set(this.fullUserKey,m.toJSON())}getCurrentUser(){var m=this;return(0,c.Z)(function*(){const _=yield m.persistence._get(m.fullUserKey);return _?xt._fromJSON(m.auth,_):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(m){var _=this;return(0,c.Z)(function*(){if(_.persistence===m)return;const A=yield _.getCurrentUser();return yield _.removeCurrentUser(),_.persistence=m,A?_.setCurrentUser(A):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(m,_,A="authUser"){return(0,c.Z)(function*(){if(!_.length)return new At(xe(De),m,A);const Z=(yield Promise.all(_.map(function(){var Qn=(0,c.Z)(function*(Pr){if(yield Pr._isAvailable())return Pr});return function(Pr){return Qn.apply(this,arguments)}}()))).filter(Qn=>Qn);let pe=Z[0]||xe(De);const _t=ze(A,m.config.apiKey,m.name);let Yt=null;for(const Qn of _)try{const Pr=yield Qn._get(_t);if(Pr){const Dr=xt._fromJSON(m,Pr);Qn!==pe&&(Yt=Dr),pe=Qn;break}}catch(Pr){}const Pn=Z.filter(Qn=>Qn._shouldAllowMigration);return pe._shouldAllowMigration&&Pn.length?(pe=Pn[0],Yt&&(yield pe._set(_t,Yt.toJSON())),yield Promise.all(_.map(function(){var Qn=(0,c.Z)(function*(Pr){if(Pr!==pe)try{yield Pr._remove(_t)}catch(Dr){}});return function(Pr){return Qn.apply(this,arguments)}}())),new At(pe,m,A)):new At(pe,m,A)})()}}function ct(b){const m=b.toLowerCase();if(m.includes("opera/")||m.includes("opr/")||m.includes("opios/"))return"Opera";if(Tr(m))return"IEMobile";if(m.includes("msie")||m.includes("trident/"))return"IE";if(m.includes("edge/"))return"Edge";if(ln(m))return"Firefox";if(m.includes("silk/"))return"Silk";if(tt(m))return"Blackberry";if(Oe(m))return"Webos";if($n(m))return"Safari";if((m.includes("chrome/")||Ht(m))&&!m.includes("edge/"))return"Chrome";if(pn(m))return"Android";{const A=b.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==A?void 0:A.length))return A[1]}return"Other"}function ln(b=(0,G.z$)()){return/firefox\//i.test(b)}function $n(b=(0,G.z$)()){const m=b.toLowerCase();return m.includes("safari/")&&!m.includes("chrome/")&&!m.includes("crios/")&&!m.includes("android")}function Ht(b=(0,G.z$)()){return/crios\//i.test(b)}function Tr(b=(0,G.z$)()){return/iemobile/i.test(b)}function pn(b=(0,G.z$)()){return/android/i.test(b)}function tt(b=(0,G.z$)()){return/blackberry/i.test(b)}function Oe(b=(0,G.z$)()){return/webos/i.test(b)}function Te(b=(0,G.z$)()){return/iphone|ipad|ipod/i.test(b)||/macintosh/i.test(b)&&/mobile/i.test(b)}function nr(b=(0,G.z$)()){return Te(b)||pn(b)||Oe(b)||tt(b)||/windows phone/i.test(b)||Tr(b)}function Zr(b,m=[]){let _;switch(b){case"Browser":_=ct((0,G.z$)());break;case"Worker":_=`${ct((0,G.z$)())}-${b}`;break;default:_=b}const A=m.length?m.join(","):"FirebaseCore-web";return`${_}/JsCore/${Ae.SDK_VERSION}/${A}`}class wi{constructor(m){this.auth=m,this.queue=[]}pushCallback(m,_){const A=pe=>new Promise((_t,Yt)=>{try{_t(m(pe))}catch(Pn){Yt(Pn)}});A.onAbort=_,this.queue.push(A);const Z=this.queue.length-1;return()=>{this.queue[Z]=()=>Promise.resolve()}}runMiddleware(m){var _=this;return(0,c.Z)(function*(){if(_.auth.currentUser===m)return;const A=[];try{for(const Z of _.queue)yield Z(m),Z.onAbort&&A.push(Z.onAbort)}catch(Z){A.reverse();for(const pe of A)try{pe()}catch(_t){}throw _.auth._errorFactory.create("login-blocked",{originalMessage:null==Z?void 0:Z.message})}})()}}class ei{constructor(m,_,A){this.app=m,this.heartbeatServiceProvider=_,this.config=A,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ps(this),this.idTokenSubscription=new Ps(this),this.beforeStateQueue=new wi(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Se,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=m.name,this.clientVersion=A.sdkClientVersion}_initializeWithPersistence(m,_){var A=this;return _&&(this._popupRedirectResolver=xe(_)),this._initializationPromise=this.queue((0,c.Z)(function*(){var Z,pe;if(!A._deleted&&(A.persistenceManager=yield At.create(A,m),!A._deleted)){if(null!==(Z=A._popupRedirectResolver)&&void 0!==Z&&Z._shouldInitProactively)try{yield A._popupRedirectResolver._initialize(A)}catch(_t){}yield A.initializeCurrentUser(_),A.lastNotifiedUid=(null===(pe=A.currentUser)||void 0===pe?void 0:pe.uid)||null,!A._deleted&&(A._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var m=this;return(0,c.Z)(function*(){if(m._deleted)return;const _=yield m.assertedPersistence.getCurrentUser();if(m.currentUser||_){if(m.currentUser&&_&&m.currentUser.uid===_.uid)return m._currentUser._assign(_),void(yield m.currentUser.getIdToken());yield m._updateCurrentUser(_,!0)}})()}initializeCurrentUser(m){var _=this;return(0,c.Z)(function*(){var A;const Z=yield _.assertedPersistence.getCurrentUser();let pe=Z,_t=!1;if(m&&_.config.authDomain){yield _.getOrInitRedirectPersistenceManager();const Yt=null===(A=_.redirectUser)||void 0===A?void 0:A._redirectEventId,Pn=null==pe?void 0:pe._redirectEventId,Qn=yield _.tryRedirectSignIn(m);(!Yt||Yt===Pn)&&(null==Qn?void 0:Qn.user)&&(pe=Qn.user,_t=!0)}if(!pe)return _.directlySetCurrentUser(null);if(!pe._redirectEventId){if(_t)try{yield _.beforeStateQueue.runMiddleware(pe)}catch(Yt){pe=Z,_._popupRedirectResolver._overrideRedirectResult(_,()=>Promise.reject(Yt))}return pe?_.reloadAndSetCurrentUserOrClear(pe):_.directlySetCurrentUser(null)}return te(_._popupRedirectResolver,_,"argument-error"),yield _.getOrInitRedirectPersistenceManager(),_.redirectUser&&_.redirectUser._redirectEventId===pe._redirectEventId?_.directlySetCurrentUser(pe):_.reloadAndSetCurrentUserOrClear(pe)})()}tryRedirectSignIn(m){var _=this;return(0,c.Z)(function*(){let A=null;try{A=yield _._popupRedirectResolver._completeRedirectFn(_,m,!0)}catch(Z){yield _._setRedirectUser(null)}return A})()}reloadAndSetCurrentUserOrClear(m){var _=this;return(0,c.Z)(function*(){try{yield Rr(m)}catch(A){if("auth/network-request-failed"!==(null==A?void 0:A.code))return _.directlySetCurrentUser(null)}return _.directlySetCurrentUser(m)})()}useDeviceLanguage(){this.languageCode=function ft(){if(typeof navigator>"u")return null;const b=navigator;return b.languages&&b.languages[0]||b.language||null}()}_delete(){var m=this;return(0,c.Z)(function*(){m._deleted=!0})()}updateCurrentUser(m){var _=this;return(0,c.Z)(function*(){const A=m?(0,G.m9)(m):null;return A&&te(A.auth.config.apiKey===_.config.apiKey,_,"invalid-user-token"),_._updateCurrentUser(A&&A._clone(_))})()}_updateCurrentUser(m,_=!1){var A=this;return(0,c.Z)(function*(){if(!A._deleted)return m&&te(A.tenantId===m.tenantId,A,"tenant-id-mismatch"),_||(yield A.beforeStateQueue.runMiddleware(m)),A.queue((0,c.Z)(function*(){yield A.directlySetCurrentUser(m),A.notifyAuthListeners()}))})()}signOut(){var m=this;return(0,c.Z)(function*(){return yield m.beforeStateQueue.runMiddleware(null),(m.redirectPersistenceManager||m._popupRedirectResolver)&&(yield m._setRedirectUser(null)),m._updateCurrentUser(null,!0)})()}setPersistence(m){var _=this;return this.queue((0,c.Z)(function*(){yield _.assertedPersistence.setPersistence(xe(m))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(m){this._errorFactory=new G.LL("auth","Firebase",m())}onAuthStateChanged(m,_,A){return this.registerStateListener(this.authStateSubscription,m,_,A)}beforeAuthStateChanged(m,_){return this.beforeStateQueue.pushCallback(m,_)}onIdTokenChanged(m,_,A){return this.registerStateListener(this.idTokenSubscription,m,_,A)}toJSON(){var m;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(m=this._currentUser)||void 0===m?void 0:m.toJSON()}}_setRedirectUser(m,_){var A=this;return(0,c.Z)(function*(){const Z=yield A.getOrInitRedirectPersistenceManager(_);return null===m?Z.removeCurrentUser():Z.setCurrentUser(m)})()}getOrInitRedirectPersistenceManager(m){var _=this;return(0,c.Z)(function*(){if(!_.redirectPersistenceManager){const A=m&&xe(m)||_._popupRedirectResolver;te(A,_,"argument-error"),_.redirectPersistenceManager=yield At.create(_,[xe(A._redirectPersistence)],"redirectUser"),_.redirectUser=yield _.redirectPersistenceManager.getCurrentUser()}return _.redirectPersistenceManager})()}_redirectUserForId(m){var _=this;return(0,c.Z)(function*(){var A,Z;return _._isInitialized&&(yield _.queue((0,c.Z)(function*(){}))),(null===(A=_._currentUser)||void 0===A?void 0:A._redirectEventId)===m?_._currentUser:(null===(Z=_.redirectUser)||void 0===Z?void 0:Z._redirectEventId)===m?_.redirectUser:null})()}_persistUserIfCurrent(m){var _=this;return(0,c.Z)(function*(){if(m===_.currentUser)return _.queue((0,c.Z)(function*(){return _.directlySetCurrentUser(m)}))})()}_notifyListenersIfCurrent(m){m===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var m,_;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const A=null!==(_=null===(m=this.currentUser)||void 0===m?void 0:m.uid)&&void 0!==_?_:null;this.lastNotifiedUid!==A&&(this.lastNotifiedUid=A,this.authStateSubscription.next(this.currentUser))}registerStateListener(m,_,A,Z){if(this._deleted)return()=>{};const pe="function"==typeof _?_:_.next.bind(_),_t=this._isInitialized?Promise.resolve():this._initializationPromise;return te(_t,this,"internal-error"),_t.then(()=>pe(this.currentUser)),"function"==typeof _?m.addObserver(_,A,Z):m.addObserver(_)}directlySetCurrentUser(m){var _=this;return(0,c.Z)(function*(){_.currentUser&&_.currentUser!==m&&_._currentUser._stopProactiveRefresh(),m&&_.isProactiveRefreshEnabled&&m._startProactiveRefresh(),_.currentUser=m,m?yield _.assertedPersistence.setCurrentUser(m):yield _.assertedPersistence.removeCurrentUser()})()}queue(m){return this.operations=this.operations.then(m,m),this.operations}get assertedPersistence(){return te(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(m){!m||this.frameworks.includes(m)||(this.frameworks.push(m),this.frameworks.sort(),this.clientVersion=Zr(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var m=this;return(0,c.Z)(function*(){var _;const A={"X-Client-Version":m.clientVersion};m.app.options.appId&&(A["X-Firebase-gmpid"]=m.app.options.appId);const Z=yield null===(_=m.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===_?void 0:_.getHeartbeatsHeader();return Z&&(A["X-Firebase-Client"]=Z),A})()}}function xr(b){return(0,G.m9)(b)}class Ps{constructor(m){this.auth=m,this.observer=null,this.addObserver=(0,G.ne)(_=>this.observer=_)}get next(){return te(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function ti(b){const m=b.indexOf(":");return m<0?"":b.substr(0,m+1)}function mr(b){if(!b)return null;const m=Number(b);return isNaN(m)?null:m}class Fi{constructor(m,_){this.providerId=m,this.signInMethod=_}toJSON(){return Ze("not implemented")}_getIdTokenResponse(m){return Ze("not implemented")}_linkToIdToken(m,_){return Ze("not implemented")}_getReauthenticationResolver(m){return Ze("not implemented")}}function ci(b,m){return Jr.apply(this,arguments)}function Jr(){return(Jr=(0,c.Z)(function*(b,m){return en(b,"POST","/v1/accounts:resetPassword",Kt(b,m))})).apply(this,arguments)}function gs(b,m){return An.apply(this,arguments)}function An(){return(An=(0,c.Z)(function*(b,m){return en(b,"POST","/v1/accounts:update",m)})).apply(this,arguments)}function tr(b,m){return Fr.apply(this,arguments)}function Fr(){return(Fr=(0,c.Z)(function*(b,m){return en(b,"POST","/v1/accounts:update",Kt(b,m))})).apply(this,arguments)}function mi(){return(mi=(0,c.Z)(function*(b,m){return or(b,"POST","/v1/accounts:signInWithPassword",Kt(b,m))})).apply(this,arguments)}function ni(b,m){return se.apply(this,arguments)}function se(){return(se=(0,c.Z)(function*(b,m){return en(b,"POST","/v1/accounts:sendOobCode",Kt(b,m))})).apply(this,arguments)}function Ie(b,m){return at.apply(this,arguments)}function at(){return(at=(0,c.Z)(function*(b,m){return ni(b,m)})).apply(this,arguments)}function mt(b,m){return dt.apply(this,arguments)}function dt(){return(dt=(0,c.Z)(function*(b,m){return ni(b,m)})).apply(this,arguments)}function be(b,m){return rt.apply(this,arguments)}function rt(){return(rt=(0,c.Z)(function*(b,m){return ni(b,m)})).apply(this,arguments)}function St(b,m){return zt.apply(this,arguments)}function zt(){return(zt=(0,c.Z)(function*(b,m){return ni(b,m)})).apply(this,arguments)}function vn(){return(vn=(0,c.Z)(function*(b,m){return or(b,"POST","/v1/accounts:signInWithEmailLink",Kt(b,m))})).apply(this,arguments)}function kn(){return(kn=(0,c.Z)(function*(b,m){return or(b,"POST","/v1/accounts:signInWithEmailLink",Kt(b,m))})).apply(this,arguments)}class rr extends Fi{constructor(m,_,A,Z=null){super("password",A),this._email=m,this._password=_,this._tenantId=Z}static _fromEmailAndPassword(m,_){return new rr(m,_,"password")}static _fromEmailAndCode(m,_,A=null){return new rr(m,_,"emailLink",A)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(m){const _="string"==typeof m?JSON.parse(m):m;if((null==_?void 0:_.email)&&(null==_?void 0:_.password)){if("password"===_.signInMethod)return this._fromEmailAndPassword(_.email,_.password);if("emailLink"===_.signInMethod)return this._fromEmailAndCode(_.email,_.password,_.tenantId)}return null}_getIdTokenResponse(m){var _=this;return(0,c.Z)(function*(){switch(_.signInMethod){case"password":return function Li(b,m){return mi.apply(this,arguments)}(m,{returnSecureToken:!0,email:_._email,password:_._password});case"emailLink":return function jt(b,m){return vn.apply(this,arguments)}(m,{email:_._email,oobCode:_._password});default:Be(m,"internal-error")}})()}_linkToIdToken(m,_){var A=this;return(0,c.Z)(function*(){switch(A.signInMethod){case"password":return gs(m,{idToken:_,returnSecureToken:!0,email:A._email,password:A._password});case"emailLink":return function Vn(b,m){return kn.apply(this,arguments)}(m,{idToken:_,email:A._email,oobCode:A._password});default:Be(m,"internal-error")}})()}_getReauthenticationResolver(m){return this._getIdTokenResponse(m)}}function Hr(b,m){return nt.apply(this,arguments)}function nt(){return(nt=(0,c.Z)(function*(b,m){return or(b,"POST","/v1/accounts:signInWithIdp",Kt(b,m))})).apply(this,arguments)}class It extends Fi{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(m){const _=new It(m.providerId,m.signInMethod);return m.idToken||m.accessToken?(m.idToken&&(_.idToken=m.idToken),m.accessToken&&(_.accessToken=m.accessToken),m.nonce&&!m.pendingToken&&(_.nonce=m.nonce),m.pendingToken&&(_.pendingToken=m.pendingToken)):m.oauthToken&&m.oauthTokenSecret?(_.accessToken=m.oauthToken,_.secret=m.oauthTokenSecret):Be("argument-error"),_}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(m){const _="string"==typeof m?JSON.parse(m):m,{providerId:A,signInMethod:Z}=_,pe=(0,ke._T)(_,["providerId","signInMethod"]);if(!A||!Z)return null;const _t=new It(A,Z);return _t.idToken=pe.idToken||void 0,_t.accessToken=pe.accessToken||void 0,_t.secret=pe.secret,_t.nonce=pe.nonce,_t.pendingToken=pe.pendingToken||null,_t}_getIdTokenResponse(m){return Hr(m,this.buildRequest())}_linkToIdToken(m,_){const A=this.buildRequest();return A.idToken=_,Hr(m,A)}_getReauthenticationResolver(m){const _=this.buildRequest();return _.autoCreate=!1,Hr(m,_)}buildRequest(){const m={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)m.pendingToken=this.pendingToken;else{const _={};this.idToken&&(_.id_token=this.idToken),this.accessToken&&(_.access_token=this.accessToken),this.secret&&(_.oauth_token_secret=this.secret),_.providerId=this.providerId,this.nonce&&!this.pendingToken&&(_.nonce=this.nonce),m.postBody=(0,G.xO)(_)}return m}}function Zt(b,m){return un.apply(this,arguments)}function un(){return(un=(0,c.Z)(function*(b,m){return en(b,"POST","/v1/accounts:sendVerificationCode",Kt(b,m))})).apply(this,arguments)}function Xn(){return(Xn=(0,c.Z)(function*(b,m){return or(b,"POST","/v1/accounts:signInWithPhoneNumber",Kt(b,m))})).apply(this,arguments)}function Lr(){return(Lr=(0,c.Z)(function*(b,m){const _=yield or(b,"POST","/v1/accounts:signInWithPhoneNumber",Kt(b,m));if(_.temporaryProof)throw Dn(b,"account-exists-with-different-credential",_);return _})).apply(this,arguments)}const vi={USER_NOT_FOUND:"user-not-found"};function gn(){return(gn=(0,c.Z)(function*(b,m){return or(b,"POST","/v1/accounts:signInWithPhoneNumber",Kt(b,Object.assign(Object.assign({},m),{operation:"REAUTH"})),vi)})).apply(this,arguments)}class Vs extends Fi{constructor(m){super("phone","phone"),this.params=m}static _fromVerification(m,_){return new Vs({verificationId:m,verificationCode:_})}static _fromTokenResponse(m,_){return new Vs({phoneNumber:m,temporaryProof:_})}_getIdTokenResponse(m){return function In(b,m){return Xn.apply(this,arguments)}(m,this._makeVerificationRequest())}_linkToIdToken(m,_){return function Or(b,m){return Lr.apply(this,arguments)}(m,Object.assign({idToken:_},this._makeVerificationRequest()))}_getReauthenticationResolver(m){return function ir(b,m){return gn.apply(this,arguments)}(m,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:m,phoneNumber:_,verificationId:A,verificationCode:Z}=this.params;return m&&_?{temporaryProof:m,phoneNumber:_}:{sessionInfo:A,code:Z}}toJSON(){const m={providerId:this.providerId};return this.params.phoneNumber&&(m.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(m.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(m.verificationCode=this.params.verificationCode),this.params.verificationId&&(m.verificationId=this.params.verificationId),m}static fromJSON(m){"string"==typeof m&&(m=JSON.parse(m));const{verificationId:_,verificationCode:A,phoneNumber:Z,temporaryProof:pe}=m;return A||_||Z||pe?new Vs({verificationId:_,verificationCode:A,phoneNumber:Z,temporaryProof:pe}):null}}class Ir{constructor(m){var _,A,Z,pe,_t,Yt;const Pn=(0,G.zd)((0,G.pd)(m)),Qn=null!==(_=Pn.apiKey)&&void 0!==_?_:null,Pr=null!==(A=Pn.oobCode)&&void 0!==A?A:null,Dr=function Ti(b){switch(b){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(Z=Pn.mode)&&void 0!==Z?Z:null);te(Qn&&Pr&&Dr,"argument-error"),this.apiKey=Qn,this.operation=Dr,this.code=Pr,this.continueUrl=null!==(pe=Pn.continueUrl)&&void 0!==pe?pe:null,this.languageCode=null!==(_t=Pn.languageCode)&&void 0!==_t?_t:null,this.tenantId=null!==(Yt=Pn.tenantId)&&void 0!==Yt?Yt:null}static parseLink(m){const _=function es(b){const m=(0,G.zd)((0,G.pd)(b)).link,_=m?(0,G.zd)((0,G.pd)(m)).deep_link_id:null,A=(0,G.zd)((0,G.pd)(b)).deep_link_id;return(A?(0,G.zd)((0,G.pd)(A)).link:null)||A||_||m||b}(m);try{return new Ir(_)}catch(A){return null}}}let Mo=(()=>{class b{constructor(){this.providerId=b.PROVIDER_ID}static credential(_,A){return rr._fromEmailAndPassword(_,A)}static credentialWithLink(_,A){const Z=Ir.parseLink(A);return te(Z,"argument-error"),rr._fromEmailAndCode(_,Z.code,Z.tenantId)}}return b.PROVIDER_ID="password",b.EMAIL_PASSWORD_SIGN_IN_METHOD="password",b.EMAIL_LINK_SIGN_IN_METHOD="emailLink",b})();class Ns{constructor(m){this.providerId=m,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(m){this.defaultLanguageCode=m}setCustomParameters(m){return this.customParameters=m,this}getCustomParameters(){return this.customParameters}}class Mi extends Ns{constructor(){super(...arguments),this.scopes=[]}addScope(m){return this.scopes.includes(m)||this.scopes.push(m),this}getScopes(){return[...this.scopes]}}class Os extends Mi{static credentialFromJSON(m){const _="string"==typeof m?JSON.parse(m):m;return te("providerId"in _&&"signInMethod"in _,"argument-error"),It._fromParams(_)}credential(m){return this._credential(Object.assign(Object.assign({},m),{nonce:m.rawNonce}))}_credential(m){return te(m.idToken||m.accessToken,"argument-error"),It._fromParams(Object.assign(Object.assign({},m),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(m){return Os.oauthCredentialFromTaggedObject(m)}static credentialFromError(m){return Os.oauthCredentialFromTaggedObject(m.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthIdToken:_,oauthAccessToken:A,oauthTokenSecret:Z,pendingToken:pe,nonce:_t,providerId:Yt}=m;if(!A&&!Z&&!_&&!pe||!Yt)return null;try{return new Os(Yt)._credential({idToken:_,accessToken:A,nonce:_t,pendingToken:pe})}catch(Pn){return null}}}let Xs=(()=>{class b extends Mi{constructor(){super("facebook.com")}static credential(_){return It._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.FACEBOOK_SIGN_IN_METHOD,accessToken:_})}static credentialFromResult(_){return b.credentialFromTaggedObject(_)}static credentialFromError(_){return b.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_||!("oauthAccessToken"in _)||!_.oauthAccessToken)return null;try{return b.credential(_.oauthAccessToken)}catch(A){return null}}}return b.FACEBOOK_SIGN_IN_METHOD="facebook.com",b.PROVIDER_ID="facebook.com",b})(),Pt=(()=>{class b extends Mi{constructor(){super("google.com"),this.addScope("profile")}static credential(_,A){return It._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.GOOGLE_SIGN_IN_METHOD,idToken:_,accessToken:A})}static credentialFromResult(_){return b.credentialFromTaggedObject(_)}static credentialFromError(_){return b.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthIdToken:A,oauthAccessToken:Z}=_;if(!A&&!Z)return null;try{return b.credential(A,Z)}catch(pe){return null}}}return b.GOOGLE_SIGN_IN_METHOD="google.com",b.PROVIDER_ID="google.com",b})(),ms=(()=>{class b extends Mi{constructor(){super("github.com")}static credential(_){return It._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.GITHUB_SIGN_IN_METHOD,accessToken:_})}static credentialFromResult(_){return b.credentialFromTaggedObject(_)}static credentialFromError(_){return b.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_||!("oauthAccessToken"in _)||!_.oauthAccessToken)return null;try{return b.credential(_.oauthAccessToken)}catch(A){return null}}}return b.GITHUB_SIGN_IN_METHOD="github.com",b.PROVIDER_ID="github.com",b})();class lo extends Fi{constructor(m,_){super(m,m),this.pendingToken=_}_getIdTokenResponse(m){return Hr(m,this.buildRequest())}_linkToIdToken(m,_){const A=this.buildRequest();return A.idToken=_,Hr(m,A)}_getReauthenticationResolver(m){const _=this.buildRequest();return _.autoCreate=!1,Hr(m,_)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(m){const _="string"==typeof m?JSON.parse(m):m,{providerId:A,signInMethod:Z,pendingToken:pe}=_;return A&&Z&&pe&&A===Z?new lo(A,pe):null}static _create(m,_){return new lo(m,_)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class xs extends Ns{constructor(m){te(m.startsWith("saml."),"argument-error"),super(m)}static credentialFromResult(m){return xs.samlCredentialFromTaggedObject(m)}static credentialFromError(m){return xs.samlCredentialFromTaggedObject(m.customData||{})}static credentialFromJSON(m){const _=lo.fromJSON(m);return te(_,"argument-error"),_}static samlCredentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{pendingToken:_,providerId:A}=m;if(!_||!A)return null;try{return lo._create(A,_)}catch(Z){return null}}}let na=(()=>{class b extends Mi{constructor(){super("twitter.com")}static credential(_,A){return It._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.TWITTER_SIGN_IN_METHOD,oauthToken:_,oauthTokenSecret:A})}static credentialFromResult(_){return b.credentialFromTaggedObject(_)}static credentialFromError(_){return b.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthAccessToken:A,oauthTokenSecret:Z}=_;if(!A||!Z)return null;try{return b.credential(A,Z)}catch(pe){return null}}}return b.TWITTER_SIGN_IN_METHOD="twitter.com",b.PROVIDER_ID="twitter.com",b})();function ra(b,m){return pa.apply(this,arguments)}function pa(){return(pa=(0,c.Z)(function*(b,m){return or(b,"POST","/v1/accounts:signUp",Kt(b,m))})).apply(this,arguments)}class us{constructor(m){this.user=m.user,this.providerId=m.providerId,this._tokenResponse=m._tokenResponse,this.operationType=m.operationType}static _fromIdTokenResponse(m,_,A,Z=!1){return(0,c.Z)(function*(){const pe=yield xt._fromIdTokenResponse(m,A,Z),_t=Ki(A);return new us({user:pe,providerId:_t,_tokenResponse:A,operationType:_})})()}static _forOperation(m,_,A){return(0,c.Z)(function*(){yield m._updateTokensIfNecessary(A,!0);const Z=Ki(A);return new us({user:m,providerId:Z,_tokenResponse:A,operationType:_})})()}}function Ki(b){return b.providerId?b.providerId:"phoneNumber"in b?"phone":null}function $o(){return($o=(0,c.Z)(function*(b){var m;const _=xr(b);if(yield _._initializationPromise,null!==(m=_.currentUser)&&void 0!==m&&m.isAnonymous)return new us({user:_.currentUser,providerId:null,operationType:"signIn"});const A=yield ra(_,{returnSecureToken:!0}),Z=yield us._fromIdTokenResponse(_,"signIn",A,!0);return yield _._updateCurrentUser(Z.user),Z})).apply(this,arguments)}class ts extends G.ZR{constructor(m,_,A,Z){var pe;super(_.code,_.message),this.operationType=A,this.user=Z,Object.setPrototypeOf(this,ts.prototype),this.customData={appName:m.name,tenantId:null!==(pe=m.tenantId)&&void 0!==pe?pe:void 0,_serverResponse:_.customData._serverResponse,operationType:A}}static _fromErrorAndOperation(m,_,A,Z){return new ts(m,_,A,Z)}}function yi(b,m,_,A){return("reauthenticate"===m?_._getReauthenticationResolver(b):_._getIdTokenResponse(b)).catch(pe=>{throw"auth/multi-factor-auth-required"===pe.code?ts._fromErrorAndOperation(b,pe,m,A):pe})}function Us(b){return new Set(b.map(({providerId:m})=>m).filter(m=>!!m))}function Ue(){return(Ue=(0,c.Z)(function*(b,m){const _=(0,G.m9)(b);yield Qs(!0,_,m);const{providerUserInfo:A}=yield Ur(_.auth,{idToken:yield _.getIdToken(),deleteProvider:[m]}),Z=Us(A||[]);return _.providerData=_.providerData.filter(pe=>Z.has(pe.providerId)),Z.has("phone")||(_.phoneNumber=null),yield _.auth._persistUserIfCurrent(_),_})).apply(this,arguments)}function ga(b,m){return Vo.apply(this,arguments)}function Vo(){return(Vo=(0,c.Z)(function*(b,m,_=!1){const A=yield _r(b,m._linkToIdToken(b.auth,yield b.getIdToken()),_);return us._forOperation(b,"link",A)})).apply(this,arguments)}function Qs(b,m,_){return Uo.apply(this,arguments)}function Uo(){return(Uo=(0,c.Z)(function*(b,m,_){yield Rr(m);const Z=!1===b?"provider-already-linked":"no-such-provider";te(Us(m.providerData).has(_)===b,m.auth,Z)})).apply(this,arguments)}function Ho(b,m){return ma.apply(this,arguments)}function ma(){return(ma=(0,c.Z)(function*(b,m,_=!1){const{auth:A}=b,Z="reauthenticate";try{const pe=yield _r(b,yi(A,Z,m,b),_);te(pe.idToken,A,"internal-error");const _t=fn(pe.idToken);te(_t,A,"internal-error");const{sub:Yt}=_t;return te(b.uid===Yt,A,"user-mismatch"),us._forOperation(b,Z,pe)}catch(pe){throw"auth/user-not-found"===(null==pe?void 0:pe.code)&&Be(A,"user-mismatch"),pe}})).apply(this,arguments)}function zs(b,m){return Gi.apply(this,arguments)}function Gi(){return(Gi=(0,c.Z)(function*(b,m,_=!1){const A="signIn",Z=yield yi(b,A,m),pe=yield us._fromIdTokenResponse(b,A,Z);return _||(yield b._updateCurrentUser(pe.user)),pe})).apply(this,arguments)}function di(b,m){return Js.apply(this,arguments)}function Js(){return(Js=(0,c.Z)(function*(b,m){return zs(xr(b),m)})).apply(this,arguments)}function Bi(b,m){return qs.apply(this,arguments)}function qs(){return(qs=(0,c.Z)(function*(b,m){const _=(0,G.m9)(b);return yield Qs(!1,_,m.providerId),ga(_,m)})).apply(this,arguments)}function jo(b,m){return ns.apply(this,arguments)}function ns(){return(ns=(0,c.Z)(function*(b,m){return Ho((0,G.m9)(b),m)})).apply(this,arguments)}function Go(b,m){return Eo.apply(this,arguments)}function Eo(){return(Eo=(0,c.Z)(function*(b,m){return or(b,"POST","/v1/accounts:signInWithCustomToken",Kt(b,m))})).apply(this,arguments)}function Yi(){return(Yi=(0,c.Z)(function*(b,m){const _=xr(b),A=yield Go(_,{token:m,returnSecureToken:!0}),Z=yield us._fromIdTokenResponse(_,"signIn",A);return yield _._updateCurrentUser(Z.user),Z})).apply(this,arguments)}class to{constructor(m,_){this.factorId=m,this.uid=_.mfaEnrollmentId,this.enrollmentTime=new Date(_.enrolledAt).toUTCString(),this.displayName=_.displayName}static _fromServerResponse(m,_){return"phoneInfo"in _?ia._fromServerResponse(m,_):Be(m,"internal-error")}}class ia extends to{constructor(m){super("phone",m),this.phoneNumber=m.phoneInfo}static _fromServerResponse(m,_){return new ia(_)}}function D(b,m,_){var A;te((null===(A=_.url)||void 0===A?void 0:A.length)>0,b,"invalid-continue-uri"),te(typeof _.dynamicLinkDomain>"u"||_.dynamicLinkDomain.length>0,b,"invalid-dynamic-link-domain"),m.continueUrl=_.url,m.dynamicLinkDomain=_.dynamicLinkDomain,m.canHandleCodeInApp=_.handleCodeInApp,_.iOS&&(te(_.iOS.bundleId.length>0,b,"missing-ios-bundle-id"),m.iOSBundleId=_.iOS.bundleId),_.android&&(te(_.android.packageName.length>0,b,"missing-android-pkg-name"),m.androidInstallApp=_.android.installApp,m.androidMinimumVersionCode=_.android.minimumVersion,m.androidPackageName=_.android.packageName)}function C(){return(C=(0,c.Z)(function*(b,m,_){const A=(0,G.m9)(b),Z={requestType:"PASSWORD_RESET",email:m};_&&D(A,Z,_),yield mt(A,Z)})).apply(this,arguments)}function re(){return(re=(0,c.Z)(function*(b,m,_){yield ci((0,G.m9)(b),{oobCode:m,newPassword:_})})).apply(this,arguments)}function Cn(){return(Cn=(0,c.Z)(function*(b,m){yield tr((0,G.m9)(b),{oobCode:m})})).apply(this,arguments)}function Fn(b,m){return yr.apply(this,arguments)}function yr(){return(yr=(0,c.Z)(function*(b,m){const _=(0,G.m9)(b),A=yield ci(_,{oobCode:m}),Z=A.requestType;switch(te(Z,_,"internal-error"),Z){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":te(A.newEmail,_,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":te(A.mfaInfo,_,"internal-error");default:te(A.email,_,"internal-error")}let pe=null;return A.mfaInfo&&(pe=to._fromServerResponse(xr(_),A.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===A.requestType?A.newEmail:A.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===A.requestType?A.email:A.newEmail)||null,multiFactorInfo:pe},operation:Z}})).apply(this,arguments)}function ri(){return(ri=(0,c.Z)(function*(b,m){const{data:_}=yield Fn((0,G.m9)(b),m);return _.email})).apply(this,arguments)}function os(){return(os=(0,c.Z)(function*(b,m,_){const A=xr(b),Z=yield ra(A,{returnSecureToken:!0,email:m,password:_}),pe=yield us._fromIdTokenResponse(A,"signIn",Z);return yield A._updateCurrentUser(pe.user),pe})).apply(this,arguments)}function F(){return(F=(0,c.Z)(function*(b,m,_){const A=(0,G.m9)(b),Z={requestType:"EMAIL_SIGNIN",email:m};te(_.handleCodeInApp,A,"argument-error"),_&&D(A,Z,_),yield be(A,Z)})).apply(this,arguments)}function Ln(){return(Ln=(0,c.Z)(function*(b,m,_){const A=(0,G.m9)(b),Z=Mo.credentialWithLink(m,_||Bt());return te(Z._tenantId===(A.tenantId||null),A,"tenant-id-mismatch"),di(A,Z)})).apply(this,arguments)}function Ri(b,m){return Zi.apply(this,arguments)}function Zi(){return(Zi=(0,c.Z)(function*(b,m){return en(b,"POST","/v1/accounts:createAuthUri",Kt(b,m))})).apply(this,arguments)}function ks(){return(ks=(0,c.Z)(function*(b,m){const A={identifier:m,continueUri:on()?Bt():"http://localhost"},{signinMethods:Z}=yield Ri((0,G.m9)(b),A);return Z||[]})).apply(this,arguments)}function Hs(){return(Hs=(0,c.Z)(function*(b,m){const _=(0,G.m9)(b),Z={requestType:"VERIFY_EMAIL",idToken:yield b.getIdToken()};m&&D(_.auth,Z,m);const{email:pe}=yield Ie(_.auth,Z);pe!==b.email&&(yield b.reload())})).apply(this,arguments)}function zi(){return(zi=(0,c.Z)(function*(b,m,_){const A=(0,G.m9)(b),pe={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield b.getIdToken(),newEmail:m};_&&D(A.auth,pe,_);const{email:_t}=yield St(A.auth,pe);_t!==b.email&&(yield b.reload())})).apply(this,arguments)}function vs(b,m){return sa.apply(this,arguments)}function sa(){return(sa=(0,c.Z)(function*(b,m){return en(b,"POST","/v1/accounts:update",m)})).apply(this,arguments)}function fo(){return(fo=(0,c.Z)(function*(b,{displayName:m,photoURL:_}){if(void 0===m&&void 0===_)return;const A=(0,G.m9)(b),pe={idToken:yield A.getIdToken(),displayName:m,photoUrl:_,returnSecureToken:!0},_t=yield _r(A,vs(A.auth,pe));A.displayName=_t.displayName||null,A.photoURL=_t.photoUrl||null;const Yt=A.providerData.find(({providerId:Pn})=>"password"===Pn);Yt&&(Yt.displayName=A.displayName,Yt.photoURL=A.photoURL),yield A._updateTokensIfNecessary(_t)})).apply(this,arguments)}function Ma(b,m,_){return su.apply(this,arguments)}function su(){return(su=(0,c.Z)(function*(b,m,_){const{auth:A}=b,pe={idToken:yield b.getIdToken(),returnSecureToken:!0};m&&(pe.email=m),_&&(pe.password=_);const _t=yield _r(b,gs(A,pe));yield b._updateTokensIfNecessary(_t,!0)})).apply(this,arguments)}class as{constructor(m,_,A={}){this.isNewUser=m,this.providerId=_,this.profile=A}}class po extends as{constructor(m,_,A,Z){super(m,_,A),this.username=Z}}class wo extends as{constructor(m,_){super(m,"facebook.com",_)}}class Ys extends po{constructor(m,_){super(m,"github.com",_,"string"==typeof(null==_?void 0:_.login)?null==_?void 0:_.login:null)}}class va extends as{constructor(m,_){super(m,"google.com",_)}}class Ba extends po{constructor(m,_,A){super(m,"twitter.com",_,A)}}function No(b){const{user:m,_tokenResponse:_}=b;return m.isAnonymous&&!_?{providerId:null,isNewUser:!1,profile:null}:function Ks(b){var m,_;if(!b)return null;const{providerId:A}=b,Z=b.rawUserInfo?JSON.parse(b.rawUserInfo):{},pe=b.isNewUser||"identitytoolkit#SignupNewUserResponse"===b.kind;if(!A&&(null==b?void 0:b.idToken)){const _t=null===(_=null===(m=fn(b.idToken))||void 0===m?void 0:m.firebase)||void 0===_?void 0:_.sign_in_provider;if(_t)return new as(pe,"anonymous"!==_t&&"custom"!==_t?_t:null)}if(!A)return null;switch(A){case"facebook.com":return new wo(pe,Z);case"github.com":return new Ys(pe,Z);case"google.com":return new va(pe,Z);case"twitter.com":return new Ba(pe,Z,b.screenName||null);case"custom":case"anonymous":return new as(pe,null);default:return new as(pe,A,Z)}}(_)}class _a{constructor(m,_,A){this.type=m,this.credential=_,this.auth=A}static _fromIdtoken(m,_){return new _a("enroll",m,_)}static _fromMfaPendingCredential(m){return new _a("signin",m)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(m){var _,A;if(null!=m&&m.multiFactorSession){if(null!==(_=m.multiFactorSession)&&void 0!==_&&_.pendingCredential)return _a._fromMfaPendingCredential(m.multiFactorSession.pendingCredential);if(null!==(A=m.multiFactorSession)&&void 0!==A&&A.idToken)return _a._fromIdtoken(m.multiFactorSession.idToken)}return null}}class qa{constructor(m,_,A){this.session=m,this.hints=_,this.signInResolver=A}static _fromError(m,_){const A=xr(m),Z=_.customData._serverResponse,pe=(Z.mfaInfo||[]).map(Yt=>to._fromServerResponse(A,Yt));te(Z.mfaPendingCredential,A,"internal-error");const _t=_a._fromMfaPendingCredential(Z.mfaPendingCredential);return new qa(_t,pe,function(){var Yt=(0,c.Z)(function*(Pn){const Qn=yield Pn._process(A,_t);delete Z.mfaInfo,delete Z.mfaPendingCredential;const Pr=Object.assign(Object.assign({},Z),{idToken:Qn.idToken,refreshToken:Qn.refreshToken});switch(_.operationType){case"signIn":const Dr=yield us._fromIdTokenResponse(A,_.operationType,Pr);return yield A._updateCurrentUser(Dr.user),Dr;case"reauthenticate":return te(_.user,A,"internal-error"),us._forOperation(_.user,_.operationType,Pr);default:Be(A,"internal-error")}});return function(Pn){return Yt.apply(this,arguments)}}())}resolveSignIn(m){var _=this;return(0,c.Z)(function*(){return _.signInResolver(m)})()}}function Xr(b,m){return en(b,"POST","/v2/accounts/mfaEnrollment:start",Kt(b,m))}class X{constructor(m){this.user=m,this.enrolledFactors=[],m._onReload(_=>{_.mfaInfo&&(this.enrolledFactors=_.mfaInfo.map(A=>to._fromServerResponse(m.auth,A)))})}static _fromUser(m){return new X(m)}getSession(){var m=this;return(0,c.Z)(function*(){return _a._fromIdtoken(yield m.user.getIdToken(),m.user.auth)})()}enroll(m,_){var A=this;return(0,c.Z)(function*(){const Z=m,pe=yield A.getSession(),_t=yield _r(A.user,Z._process(A.user.auth,pe,_));return yield A.user._updateTokensIfNecessary(_t),A.user.reload()})()}unenroll(m){var _=this;return(0,c.Z)(function*(){const A="string"==typeof m?m:m.uid,Z=yield _.user.getIdToken();try{const pe=yield _r(_.user,function O(b,m){return en(b,"POST","/v2/accounts/mfaEnrollment:withdraw",Kt(b,m))}(_.user.auth,{idToken:Z,mfaEnrollmentId:A}));_.enrolledFactors=_.enrolledFactors.filter(({uid:_t})=>_t!==A),yield _.user._updateTokensIfNecessary(pe),yield _.user.reload()}catch(pe){throw pe}})()}}const B=new WeakMap,qe="__sak";class $t{constructor(m,_){this.storageRetriever=m,this.type=_}_isAvailable(){try{return this.storage?(this.storage.setItem(qe,"1"),this.storage.removeItem(qe),Promise.resolve(!0)):Promise.resolve(!1)}catch(m){return Promise.resolve(!1)}}_set(m,_){return this.storage.setItem(m,JSON.stringify(_)),Promise.resolve()}_get(m){const _=this.storage.getItem(m);return Promise.resolve(_?JSON.parse(_):null)}_remove(m){return this.storage.removeItem(m),Promise.resolve()}get storage(){return this.storageRetriever()}}const $r=(()=>{class b extends $t{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(_,A)=>this.onStorageEvent(_,A),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Xt(){const b=(0,G.z$)();return $n(b)||Te(b)}()&&function Yr(){try{return!(!window||window===window.top)}catch(b){return!1}}(),this.fallbackToPolling=nr(),this._shouldAllowMigration=!0}forAllChangedKeys(_){for(const A of Object.keys(this.listeners)){const Z=this.storage.getItem(A),pe=this.localCache[A];Z!==pe&&_(A,pe,Z)}}onStorageEvent(_,A=!1){if(!_.key)return void this.forAllChangedKeys((Yt,Pn,Qn)=>{this.notifyListeners(Yt,Qn)});const Z=_.key;if(A?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const Yt=this.storage.getItem(Z);if(_.newValue!==Yt)null!==_.newValue?this.storage.setItem(Z,_.newValue):this.storage.removeItem(Z);else if(this.localCache[Z]===_.newValue&&!A)return}const pe=()=>{const Yt=this.storage.getItem(Z);!A&&this.localCache[Z]===Yt||this.notifyListeners(Z,Yt)},_t=this.storage.getItem(Z);!function Tn(){return(0,G.w1)()&&10===document.documentMode}()||_t===_.newValue||_.newValue===_.oldValue?pe():setTimeout(pe,10)}notifyListeners(_,A){this.localCache[_]=A;const Z=this.listeners[_];if(Z)for(const pe of Array.from(Z))pe(A&&JSON.parse(A))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((_,A,Z)=>{this.onStorageEvent(new StorageEvent("storage",{key:_,oldValue:A,newValue:Z}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(_,A){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[_]||(this.listeners[_]=new Set,this.localCache[_]=this.storage.getItem(_)),this.listeners[_].add(A)}_removeListener(_,A){this.listeners[_]&&(this.listeners[_].delete(A),0===this.listeners[_].size&&delete this.listeners[_]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(_,A){var Z=()=>super._set,pe=this;return(0,c.Z)(function*(){yield Z().call(pe,_,A),pe.localCache[_]=JSON.stringify(A)})()}_get(_){var A=()=>super._get,Z=this;return(0,c.Z)(function*(){const pe=yield A().call(Z,_);return Z.localCache[_]=JSON.stringify(pe),pe})()}_remove(_){var A=()=>super._remove,Z=this;return(0,c.Z)(function*(){yield A().call(Z,_),delete Z.localCache[_]})()}}return b.type="LOCAL",b})(),Xi=(()=>{class b extends $t{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(_,A){}_removeListener(_,A){}}return b.type="SESSION",b})();let jr=(()=>{class b{constructor(_){this.eventTarget=_,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(_){const A=this.receivers.find(pe=>pe.isListeningto(_));if(A)return A;const Z=new b(_);return this.receivers.push(Z),Z}isListeningto(_){return this.eventTarget===_}handleEvent(_){var A=this;return(0,c.Z)(function*(){const Z=_,{eventId:pe,eventType:_t,data:Yt}=Z.data,Pn=A.handlersMap[_t];if(null==Pn||!Pn.size)return;Z.ports[0].postMessage({status:"ack",eventId:pe,eventType:_t});const Qn=Array.from(Pn).map(function(){var Dr=(0,c.Z)(function*(oo){return oo(Z.origin,Yt)});return function(oo){return Dr.apply(this,arguments)}}()),Pr=yield function Qt(b){return Promise.all(b.map(function(){var m=(0,c.Z)(function*(_){try{return{fulfilled:!0,value:yield _}}catch(A){return{fulfilled:!1,reason:A}}});return function(_){return m.apply(this,arguments)}}()))}(Qn);Z.ports[0].postMessage({status:"done",eventId:pe,eventType:_t,response:Pr})})()}_subscribe(_,A){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[_]||(this.handlersMap[_]=new Set),this.handlersMap[_].add(A)}_unsubscribe(_,A){this.handlersMap[_]&&A&&this.handlersMap[_].delete(A),(!A||0===this.handlersMap[_].size)&&delete this.handlersMap[_],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return b.receivers=[],b})();function Fs(b="",m=10){let _="";for(let A=0;A<m;A++)_+=Math.floor(10*Math.random());return b+_}class go{constructor(m){this.target=m,this.handlers=new Set}removeMessageHandler(m){m.messageChannel&&(m.messageChannel.port1.removeEventListener("message",m.onMessage),m.messageChannel.port1.close()),this.handlers.delete(m)}_send(m,_,A=50){var Z=this;return(0,c.Z)(function*(){const pe=typeof MessageChannel<"u"?new MessageChannel:null;if(!pe)throw new Error("connection_unavailable");let _t,Yt;return new Promise((Pn,Qn)=>{const Pr=Fs("",20);pe.port1.start();const Dr=setTimeout(()=>{Qn(new Error("unsupported_event"))},A);Yt={messageChannel:pe,onMessage(oo){const Xa=oo;if(Xa.data.eventId===Pr)switch(Xa.data.status){case"ack":clearTimeout(Dr),_t=setTimeout(()=>{Qn(new Error("timeout"))},3e3);break;case"done":clearTimeout(_t),Pn(Xa.data.response);break;default:clearTimeout(Dr),clearTimeout(_t),Qn(new Error("invalid_response"))}}},Z.handlers.add(Yt),pe.port1.addEventListener("message",Yt.onMessage),Z.target.postMessage({eventType:m,eventId:Pr,data:_},[pe.port2])}).finally(()=>{Yt&&Z.removeMessageHandler(Yt)})})()}}function mn(){return window}function oa(){return typeof mn().WorkerGlobalScope<"u"&&"function"==typeof mn().importScripts}function Gt(){return(Gt=(0,c.Z)(function*(){if(null==navigator||!navigator.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch(b){return null}})).apply(this,arguments)}const sl="firebaseLocalStorageDb",$a="firebaseLocalStorage",Ea="fbase_key";class Au{constructor(m){this.request=m}toPromise(){return new Promise((m,_)=>{this.request.addEventListener("success",()=>{m(this.request.result)}),this.request.addEventListener("error",()=>{_(this.request.error)})})}}function ol(b,m){return b.transaction([$a],m?"readwrite":"readonly").objectStore($a)}function xu(){const b=indexedDB.open(sl,1);return new Promise((m,_)=>{b.addEventListener("error",()=>{_(b.error)}),b.addEventListener("upgradeneeded",()=>{const A=b.result;try{A.createObjectStore($a,{keyPath:Ea})}catch(Z){_(Z)}}),b.addEventListener("success",(0,c.Z)(function*(){const A=b.result;A.objectStoreNames.contains($a)?m(A):(A.close(),yield function au(){const b=indexedDB.deleteDatabase(sl);return new Au(b).toPromise()}(),m(yield xu()))}))})}function qo(b,m,_){return al.apply(this,arguments)}function al(){return(al=(0,c.Z)(function*(b,m,_){const A=ol(b,!0).put({[Ea]:m,value:_});return new Au(A).toPromise()})).apply(this,arguments)}function Jn(){return(Jn=(0,c.Z)(function*(b,m){const _=ol(b,!1).get(m),A=yield new Au(_).toPromise();return void 0===A?null:A.value})).apply(this,arguments)}function Va(b,m){const _=ol(b,!0).delete(m);return new Au(_).toPromise()}const mo=(()=>{class b{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var _=this;return(0,c.Z)(function*(){return _.db||(_.db=yield xu()),_.db})()}_withRetries(_){var A=this;return(0,c.Z)(function*(){let Z=0;for(;;)try{const pe=yield A._openDb();return yield _(pe)}catch(pe){if(Z++>3)throw pe;A.db&&(A.db.close(),A.db=void 0)}})()}initializeServiceWorkerMessaging(){var _=this;return(0,c.Z)(function*(){return oa()?_.initializeReceiver():_.initializeSender()})()}initializeReceiver(){var _=this;return(0,c.Z)(function*(){_.receiver=jr._getInstance(function ls(){return oa()?self:null}()),_.receiver._subscribe("keyChanged",function(){var A=(0,c.Z)(function*(Z,pe){return{keyProcessed:(yield _._poll()).includes(pe.key)}});return function(Z,pe){return A.apply(this,arguments)}}()),_.receiver._subscribe("ping",function(){var A=(0,c.Z)(function*(Z,pe){return["keyChanged"]});return function(Z,pe){return A.apply(this,arguments)}}())})()}initializeSender(){var _=this;return(0,c.Z)(function*(){var A,Z;if(_.activeServiceWorker=yield function bn(){return Gt.apply(this,arguments)}(),!_.activeServiceWorker)return;_.sender=new go(_.activeServiceWorker);const pe=yield _.sender._send("ping",{},800);!pe||(null===(A=pe[0])||void 0===A?void 0:A.fulfilled)&&(null===(Z=pe[0])||void 0===Z?void 0:Z.value.includes("keyChanged"))&&(_.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(_){var A=this;return(0,c.Z)(function*(){if(A.sender&&A.activeServiceWorker&&function rn(){var b;return(null===(b=null==navigator?void 0:navigator.serviceWorker)||void 0===b?void 0:b.controller)||null}()===A.activeServiceWorker)try{yield A.sender._send("keyChanged",{key:_},A.serviceWorkerReceiverAvailable?800:50)}catch(Z){}})()}_isAvailable(){return(0,c.Z)(function*(){try{if(!indexedDB)return!1;const _=yield xu();return yield qo(_,qe,"1"),yield Va(_,qe),!0}catch(_){}return!1})()}_withPendingWrite(_){var A=this;return(0,c.Z)(function*(){A.pendingWrites++;try{yield _()}finally{A.pendingWrites--}})()}_set(_,A){var Z=this;return(0,c.Z)(function*(){return Z._withPendingWrite((0,c.Z)(function*(){return yield Z._withRetries(pe=>qo(pe,_,A)),Z.localCache[_]=A,Z.notifyServiceWorker(_)}))})()}_get(_){var A=this;return(0,c.Z)(function*(){const Z=yield A._withRetries(pe=>function wa(b,m){return Jn.apply(this,arguments)}(pe,_));return A.localCache[_]=Z,Z})()}_remove(_){var A=this;return(0,c.Z)(function*(){return A._withPendingWrite((0,c.Z)(function*(){return yield A._withRetries(Z=>Va(Z,_)),delete A.localCache[_],A.notifyServiceWorker(_)}))})()}_poll(){var _=this;return(0,c.Z)(function*(){const A=yield _._withRetries(_t=>{const Yt=ol(_t,!1).getAll();return new Au(Yt).toPromise()});if(!A)return[];if(0!==_.pendingWrites)return[];const Z=[],pe=new Set;for(const{fbase_key:_t,value:Yt}of A)pe.add(_t),JSON.stringify(_.localCache[_t])!==JSON.stringify(Yt)&&(_.notifyListeners(_t,Yt),Z.push(_t));for(const _t of Object.keys(_.localCache))_.localCache[_t]&&!pe.has(_t)&&(_.notifyListeners(_t,null),Z.push(_t));return Z})()}notifyListeners(_,A){this.localCache[_]=A;const Z=this.listeners[_];if(Z)for(const pe of Array.from(Z))pe(A)}startPolling(){var _=this;this.stopPolling(),this.pollTimer=setInterval((0,c.Z)(function*(){return _._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(_,A){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[_]||(this.listeners[_]=new Set,this._get(_)),this.listeners[_].add(A)}_removeListener(_,A){this.listeners[_]&&(this.listeners[_].delete(A),0===this.listeners[_].size&&delete this.listeners[_]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return b.type="LOCAL",b})();function _i(b,m){return en(b,"POST","/v2/accounts/mfaSignIn:start",Kt(b,m))}function Mn(){return(Mn=(0,c.Z)(function*(b){return(yield en(b,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Zs(b){return new Promise((m,_)=>{const A=document.createElement("script");A.setAttribute("src",b),A.onload=m,A.onerror=Z=>{const pe=Je("internal-error");pe.customData=Z,_(pe)},A.type="text/javascript",A.charset="UTF-8",function Ua(){var b,m;return null!==(m=null===(b=document.getElementsByTagName("head"))||void 0===b?void 0:b[0])&&void 0!==m?m:document}().appendChild(A)})}function Oo(b){return`__${b}${Math.floor(1e6*Math.random())}`}const _s=1e12;class uu{constructor(m){this.auth=m,this.counter=_s,this._widgets=new Map}render(m,_){const A=this.counter;return this._widgets.set(A,new wc(m,this.auth.name,_||{})),this.counter++,A}reset(m){var _;const A=m||_s;null===(_=this._widgets.get(A))||void 0===_||_.delete(),this._widgets.delete(A)}getResponse(m){var _;return(null===(_=this._widgets.get(m||_s))||void 0===_?void 0:_.getResponse())||""}execute(m){var _=this;return(0,c.Z)(function*(){var A;return null===(A=_._widgets.get(m||_s))||void 0===A||A.execute(),""})()}}class wc{constructor(m,_,A){this.params=A,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const Z="string"==typeof m?document.getElementById(m):m;te(Z,"argument-error",{appName:_}),this.container=Z,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function ll(b){const m=[],_="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let A=0;A<b;A++)m.push(_.charAt(Math.floor(Math.random()*_.length)));return m.join("")}(50);const{callback:m,"expired-callback":_}=this.params;if(m)try{m(this.responseToken)}catch(A){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,_)try{_()}catch(A){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Io=Oo("rcb"),Is=new Ot(3e4,6e4);class Co{constructor(){var m;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(m=mn().grecaptcha)||void 0===m||!m.render)}load(m,_=""){return te(function bo(b){return b.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(b)}(_),m,"argument-error"),this.shouldResolveImmediately(_)?Promise.resolve(mn().grecaptcha):new Promise((A,Z)=>{const pe=mn().setTimeout(()=>{Z(Je(m,"network-request-failed"))},Is.get());mn()[Io]=()=>{mn().clearTimeout(pe),delete mn()[Io];const Yt=mn().grecaptcha;if(!Yt)return void Z(Je(m,"internal-error"));const Pn=Yt.render;Yt.render=(Qn,Pr)=>{const Dr=Pn(Qn,Pr);return this.counter++,Dr},this.hostLanguage=_,A(Yt)},Zs(`https://www.google.com/recaptcha/api.js??${(0,G.xO)({onload:Io,render:"explicit",hl:_})}`).catch(()=>{clearTimeout(pe),Z(Je(m,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(m){var _;return!(null===(_=mn().grecaptcha)||void 0===_||!_.render)&&(m===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Ka{load(m){return(0,c.Z)(function*(){return new uu(m)})()}clearedOneInstance(){}}const Ut="recaptcha",Ru={theme:"light",type:"image"};class Do{constructor(m,_=Object.assign({},Ru),A){this.parameters=_,this.type=Ut,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=xr(A),this.isInvisible="invisible"===this.parameters.size,te(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const Z="string"==typeof m?document.getElementById(m):m;te(Z,this.auth,"argument-error"),this.container=Z,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Ka:new Co,this.validateStartingState()}verify(){var m=this;return(0,c.Z)(function*(){m.assertNotDestroyed();const _=yield m.render(),A=m.getAssertedRecaptcha();return A.getResponse(_)||new Promise(pe=>{const _t=Yt=>{!Yt||(m.tokenChangeListeners.delete(_t),pe(Yt))};m.tokenChangeListeners.add(_t),m.isInvisible&&A.execute(_)})})()}render(){try{this.assertNotDestroyed()}catch(m){return Promise.reject(m)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(m=>{throw this.renderPromise=null,m})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(m=>{this.container.removeChild(m)})}validateStartingState(){te(!this.parameters.sitekey,this.auth,"argument-error"),te(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),te(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(m){return _=>{if(this.tokenChangeListeners.forEach(A=>A(_)),"function"==typeof m)m(_);else if("string"==typeof m){const A=mn()[m];"function"==typeof A&&A(_)}}}assertNotDestroyed(){te(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var m=this;return(0,c.Z)(function*(){if(yield m.init(),!m.widgetId){let _=m.container;if(!m.isInvisible){const A=document.createElement("div");_.appendChild(A),_=A}m.widgetId=m.getAssertedRecaptcha().render(_,m.parameters)}return m.widgetId})()}init(){var m=this;return(0,c.Z)(function*(){te(on()&&!oa(),m.auth,"internal-error"),yield function bl(){let b=null;return new Promise(m=>{"complete"!==document.readyState?(b=()=>m(),window.addEventListener("load",b)):m()}).catch(m=>{throw b&&window.removeEventListener("load",b),m})}(),m.recaptcha=yield m._recaptchaLoader.load(m.auth,m.auth.languageCode||void 0);const _=yield function Hi(b){return Mn.apply(this,arguments)}(m.auth);te(_,m.auth,"internal-error"),m.parameters.sitekey=_})()}getAssertedRecaptcha(){return te(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class cl{constructor(m,_){this.verificationId=m,this.onConfirmation=_}confirm(m){const _=Vs._fromVerification(this.verificationId,m);return this.onConfirmation(_)}}function ko(){return(ko=(0,c.Z)(function*(b,m,_){const A=xr(b),Z=yield Sl(A,m,(0,G.m9)(_));return new cl(Z,pe=>di(A,pe))})).apply(this,arguments)}function Ul(){return(Ul=(0,c.Z)(function*(b,m,_){const A=(0,G.m9)(b);yield Qs(!1,A,"phone");const Z=yield Sl(A.auth,m,(0,G.m9)(_));return new cl(Z,pe=>Bi(A,pe))})).apply(this,arguments)}function Ya(){return(Ya=(0,c.Z)(function*(b,m,_){const A=(0,G.m9)(b),Z=yield Sl(A.auth,m,(0,G.m9)(_));return new cl(Z,pe=>jo(A,pe))})).apply(this,arguments)}function Sl(b,m,_){return So.apply(this,arguments)}function So(){return(So=(0,c.Z)(function*(b,m,_){var A;const Z=yield _.verify();try{let pe;if(te("string"==typeof Z,b,"argument-error"),te(_.type===Ut,b,"argument-error"),pe="string"==typeof m?{phoneNumber:m}:m,"session"in pe){const _t=pe.session;if("phoneNumber"in pe)return te("enroll"===_t.type,b,"internal-error"),(yield Xr(b,{idToken:_t.credential,phoneEnrollmentInfo:{phoneNumber:pe.phoneNumber,recaptchaToken:Z}})).phoneSessionInfo.sessionInfo;{te("signin"===_t.type,b,"internal-error");const Yt=(null===(A=pe.multiFactorHint)||void 0===A?void 0:A.uid)||pe.multiFactorUid;return te(Yt,b,"missing-multi-factor-info"),(yield _i(b,{mfaPendingCredential:_t.credential,mfaEnrollmentId:Yt,phoneSignInInfo:{recaptchaToken:Z}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:_t}=yield Zt(b,{phoneNumber:pe.phoneNumber,recaptchaToken:Z});return _t}}finally{_._reset()}})).apply(this,arguments)}function Ia(){return(Ia=(0,c.Z)(function*(b,m){yield ga((0,G.m9)(b),m)})).apply(this,arguments)}let lu=(()=>{class b{constructor(_){this.providerId=b.PROVIDER_ID,this.auth=xr(_)}verifyPhoneNumber(_,A){return Sl(this.auth,_,(0,G.m9)(A))}static credential(_,A){return Vs._fromVerification(_,A)}static credentialFromResult(_){return b.credentialFromTaggedObject(_)}static credentialFromError(_){return b.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{phoneNumber:A,temporaryProof:Z}=_;return A&&Z?Vs._fromTokenResponse(A,Z):null}}return b.PROVIDER_ID="phone",b.PHONE_SIGN_IN_METHOD="phone",b})();function Ai(b,m){return m?xe(m):(te(b._popupRedirectResolver,b,"argument-error"),b._popupRedirectResolver)}class T extends Fi{constructor(m){super("custom","custom"),this.params=m}_getIdTokenResponse(m){return Hr(m,this._buildIdpRequest())}_linkToIdToken(m,_){return Hr(m,this._buildIdpRequest(_))}_getReauthenticationResolver(m){return Hr(m,this._buildIdpRequest())}_buildIdpRequest(m){const _={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return m&&(_.idToken=m),_}}function M(b){return zs(b.auth,new T(b),b.bypassAuthState)}function I(b){const{auth:m,user:_}=b;return te(_,m,"internal-error"),Ho(_,new T(b),b.bypassAuthState)}function N(b){return j.apply(this,arguments)}function j(){return(j=(0,c.Z)(function*(b){const{auth:m,user:_}=b;return te(_,m,"internal-error"),ga(_,new T(b),b.bypassAuthState)})).apply(this,arguments)}class ne{constructor(m,_,A,Z,pe=!1){this.auth=m,this.resolver=A,this.user=Z,this.bypassAuthState=pe,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(_)?_:[_]}execute(){var m=this;return new Promise(function(){var _=(0,c.Z)(function*(A,Z){m.pendingPromise={resolve:A,reject:Z};try{m.eventManager=yield m.resolver._initialize(m.auth),yield m.onExecution(),m.eventManager.registerConsumer(m)}catch(pe){m.reject(pe)}});return function(A,Z){return _.apply(this,arguments)}}())}onAuthEvent(m){var _=this;return(0,c.Z)(function*(){const{urlResponse:A,sessionId:Z,postBody:pe,tenantId:_t,error:Yt,type:Pn}=m;if(Yt)return void _.reject(Yt);const Qn={auth:_.auth,requestUri:A,sessionId:Z,tenantId:_t||void 0,postBody:pe||void 0,user:_.user,bypassAuthState:_.bypassAuthState};try{_.resolve(yield _.getIdpTask(Pn)(Qn))}catch(Pr){_.reject(Pr)}})()}onError(m){this.reject(m)}getIdpTask(m){switch(m){case"signInViaPopup":case"signInViaRedirect":return M;case"linkViaPopup":case"linkViaRedirect":return N;case"reauthViaPopup":case"reauthViaRedirect":return I;default:Be(this.auth,"internal-error")}}resolve(m){le(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(m),this.unregisterAndCleanUp()}reject(m){le(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(m),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const ce=new Ot(2e3,1e4);function kt(){return(kt=(0,c.Z)(function*(b,m,_){const A=xr(b);Ve(b,m,Ns);const Z=Ai(A,_);return new Ci(A,"signInViaPopup",m,Z).executeNotNull()})).apply(this,arguments)}function Rn(){return(Rn=(0,c.Z)(function*(b,m,_){const A=(0,G.m9)(b);Ve(A.auth,m,Ns);const Z=Ai(A.auth,_);return new Ci(A.auth,"reauthViaPopup",m,Z,A).executeNotNull()})).apply(this,arguments)}function Er(){return(Er=(0,c.Z)(function*(b,m,_){const A=(0,G.m9)(b);Ve(A.auth,m,Ns);const Z=Ai(A.auth,_);return new Ci(A.auth,"linkViaPopup",m,Z,A).executeNotNull()})).apply(this,arguments)}let Ci=(()=>{class b extends ne{constructor(_,A,Z,pe,_t){super(_,A,pe,_t),this.provider=Z,this.authWindow=null,this.pollId=null,b.currentPopupAction&&b.currentPopupAction.cancel(),b.currentPopupAction=this}executeNotNull(){var _=this;return(0,c.Z)(function*(){const A=yield _.execute();return te(A,_.auth,"internal-error"),A})()}onExecution(){var _=this;return(0,c.Z)(function*(){le(1===_.filter.length,"Popup operations only handle one event");const A=Fs();_.authWindow=yield _.resolver._openPopup(_.auth,_.provider,_.filter[0],A),_.authWindow.associatedEvent=A,_.resolver._originValidation(_.auth).catch(Z=>{_.reject(Z)}),_.resolver._isIframeWebStorageSupported(_.auth,Z=>{Z||_.reject(Je(_.auth,"web-storage-unsupported"))}),_.pollUserCancellation()})()}get eventId(){var _;return(null===(_=this.authWindow)||void 0===_?void 0:_.associatedEvent)||null}cancel(){this.reject(Je(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,b.currentPopupAction=null}pollUserCancellation(){const _=()=>{var A,Z;this.pollId=null!==(Z=null===(A=this.authWindow)||void 0===A?void 0:A.window)&&void 0!==Z&&Z.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Je(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(_,ce.get())};_()}}return b.currentPopupAction=null,b})();const Es=new Map;class cs extends ne{constructor(m,_,A=!1){super(m,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],_,void 0,A),this.eventId=null}execute(){var m=()=>super.execute,_=this;return(0,c.Z)(function*(){let A=Es.get(_.auth._key());if(!A){try{const pe=(yield function Ls(b,m){return Ms.apply(this,arguments)}(_.resolver,_.auth))?yield m().call(_):null;A=()=>Promise.resolve(pe)}catch(Z){A=()=>Promise.reject(Z)}Es.set(_.auth._key(),A)}return _.bypassAuthState||Es.set(_.auth._key(),()=>Promise.resolve(null)),A()})()}onAuthEvent(m){var _=()=>super.onAuthEvent,A=this;return(0,c.Z)(function*(){if("signInViaRedirect"===m.type)return _().call(A,m);if("unknown"!==m.type){if(m.eventId){const Z=yield A.auth._redirectUserForId(m.eventId);if(Z)return A.user=Z,_().call(A,m);A.resolve(null)}}else A.resolve(null)})()}onExecution(){return(0,c.Z)(function*(){})()}cleanUp(){}}function Ms(){return(Ms=(0,c.Z)(function*(b,m){const _=du(m),A=dl(b);if(!(yield A._isAvailable()))return!1;const Z="true"===(yield A._get(_));return yield A._remove(_),Z})).apply(this,arguments)}function cu(b,m){return ws.apply(this,arguments)}function ws(){return(ws=(0,c.Z)(function*(b,m){return dl(b)._set(du(m),"true")})).apply(this,arguments)}function Ca(b,m){Es.set(b._key(),m)}function dl(b){return xe(b._redirectPersistence)}function du(b){return ze("pendingRedirect",b.config.apiKey,b.name)}function U(){return(U=(0,c.Z)(function*(b,m,_){const A=xr(b);Ve(b,m,Ns),yield A._initializationPromise;const Z=Ai(A,_);return yield cu(Z,A),Z._openRedirect(A,m,"signInViaRedirect")})).apply(this,arguments)}function Ye(){return(Ye=(0,c.Z)(function*(b,m,_){const A=(0,G.m9)(b);Ve(A.auth,m,Ns),yield A.auth._initializationPromise;const Z=Ai(A.auth,_);yield cu(Z,A.auth);const pe=yield Bn(A);return Z._openRedirect(A.auth,m,"reauthViaRedirect",pe)})).apply(this,arguments)}function cn(){return(cn=(0,c.Z)(function*(b,m,_){const A=(0,G.m9)(b);Ve(A.auth,m,Ns),yield A.auth._initializationPromise;const Z=Ai(A.auth,_);yield Qs(!1,A,m.providerId),yield cu(Z,A.auth);const pe=yield Bn(A);return Z._openRedirect(A.auth,m,"linkViaRedirect",pe)})).apply(this,arguments)}function dr(){return(dr=(0,c.Z)(function*(b,m){return yield xr(b)._initializationPromise,lr(b,m,!1)})).apply(this,arguments)}function lr(b,m){return Qr.apply(this,arguments)}function Qr(){return(Qr=(0,c.Z)(function*(b,m,_=!1){const A=xr(b),Z=Ai(A,m),_t=yield new cs(A,Z,_).execute();return _t&&!_&&(delete _t.user._redirectEventId,yield A._persistUserIfCurrent(_t.user),yield A._setRedirectUser(null,m)),_t})).apply(this,arguments)}function Bn(b){return ii.apply(this,arguments)}function ii(){return(ii=(0,c.Z)(function*(b){const m=Fs(`${b.uid}:::`);return b._redirectEventId=m,yield b.auth._setRedirectUser(b),yield b.auth._persistUserIfCurrent(b),m})).apply(this,arguments)}class Ou{constructor(m){this.auth=m,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(m){this.consumers.add(m),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,m)&&(this.sendToConsumer(this.queuedRedirectEvent,m),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(m){this.consumers.delete(m)}onEvent(m){if(this.hasEventBeenHandled(m))return!1;let _=!1;return this.consumers.forEach(A=>{this.isEventForConsumer(m,A)&&(_=!0,this.sendToConsumer(m,A),this.saveEventToCache(m))}),this.hasHandledPotentialRedirect||!function ua(b){switch(b.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return aa(b);default:return!1}}(m)||(this.hasHandledPotentialRedirect=!0,_||(this.queuedRedirectEvent=m,_=!0)),_}sendToConsumer(m,_){var A;if(m.error&&!aa(m)){const Z=(null===(A=m.error.code)||void 0===A?void 0:A.split("auth/")[1])||"internal-error";_.onError(Je(this.auth,Z))}else _.onAuthEvent(m)}isEventForConsumer(m,_){const A=null===_.eventId||!!m.eventId&&m.eventId===_.eventId;return _.filter.includes(m.type)&&A}hasEventBeenHandled(m){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(hu(m))}saveEventToCache(m){this.cachedEventUids.add(hu(m)),this.lastProcessedEventTime=Date.now()}}function hu(b){return[b.type,b.eventId,b.sessionId,b.tenantId].filter(m=>m).join("-")}function aa({type:b,error:m}){return"unknown"===b&&"auth/no-auth-event"===(null==m?void 0:m.code)}function ro(b){return fu.apply(this,arguments)}function fu(){return(fu=(0,c.Z)(function*(b,m={}){return en(b,"GET","/v1/projects",m)})).apply(this,arguments)}const kf=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,ym=/^https?/;function Ff(){return(Ff=(0,c.Z)(function*(b){if(b.config.emulator)return;const{authorizedDomains:m}=yield ro(b);for(const _ of m)try{if(hd(_))return}catch(A){}Be(b,"unauthorized-domain")})).apply(this,arguments)}function hd(b){const m=Bt(),{protocol:_,hostname:A}=new URL(m);if(b.startsWith("chrome-extension://")){const _t=new URL(b);return""===_t.hostname&&""===A?"chrome-extension:"===_&&b.replace("chrome-extension://","")===m.replace("chrome-extension://",""):"chrome-extension:"===_&&_t.hostname===A}if(!ym.test(_))return!1;if(kf.test(b))return A===b;const Z=b.replace(/\./g,"\\.");return new RegExp("^(.+\\."+Z+"|"+Z+")$","i").test(A)}const jl=new Ot(3e4,6e4);function fd(){const b=mn().___jsl;if(null!=b&&b.H)for(const m of Object.keys(b.H))if(b.H[m].r=b.H[m].r||[],b.H[m].L=b.H[m].L||[],b.H[m].r=[...b.H[m].L],b.CP)for(let _=0;_<b.CP.length;_++)b.CP[_]=null}let Gl=null;function Cc(b){return Gl=Gl||function og(b){return new Promise((m,_)=>{var A,Z,pe;function _t(){fd(),gapi.load("gapi.iframes",{callback:()=>{m(gapi.iframes.getContext())},ontimeout:()=>{fd(),_(Je(b,"network-request-failed"))},timeout:jl.get()})}if(null!==(Z=null===(A=mn().gapi)||void 0===A?void 0:A.iframes)&&void 0!==Z&&Z.Iframe)m(gapi.iframes.getContext());else{if(null===(pe=mn().gapi)||void 0===pe||!pe.load){const Yt=Oo("iframefcb");return mn()[Yt]=()=>{gapi.load?_t():_(Je(b,"network-request-failed"))},Zs(`https://apis.google.com/js/api.js?onload=${Yt}`).catch(Pn=>_(Pn))}_t()}}).catch(m=>{throw Gl=null,m})}(b),Gl}const Lf=new Ot(5e3,15e3),Ji={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Ii=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function gd(b){const m=b.config;te(m.authDomain,b,"auth-domain-config-required");const _=m.emulator?pt(m,"emulator/auth/iframe"):`https://${b.config.authDomain}/__/auth/iframe`,A={apiKey:m.apiKey,appName:b.name,v:Ae.SDK_VERSION},Z=Ii.get(b.config.apiHost);Z&&(A.eid=Z);const pe=b._getFrameworks();return pe.length&&(A.fw=pe.join(",")),`${_}?${(0,G.xO)(A).slice(1)}`}function la(){return la=(0,c.Z)(function*(b){const m=yield Cc(b),_=mn().gapi;return te(_,b,"internal-error"),m.open({where:document.body,url:gd(b),messageHandlersFilter:_.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Ji,dontclear:!0},A=>new Promise(function(){var Z=(0,c.Z)(function*(pe,_t){yield A.restyle({setHideOnLeave:!1});const Yt=Je(b,"network-request-failed"),Pn=mn().setTimeout(()=>{_t(Yt)},Lf.get());function Qn(){mn().clearTimeout(Pn),pe(A)}A.ping(Qn).then(Qn,()=>{_t(Yt)})});return function(pe,_t){return Z.apply(this,arguments)}}()))}),la.apply(this,arguments)}const Fo={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Wo{constructor(m){this.window=m,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(m){}}}function bc(b,m,_,A,Z,pe){te(b.config.authDomain,b,"auth-domain-config-required"),te(b.config.apiKey,b,"invalid-api-key");const _t={apiKey:b.config.apiKey,appName:b.name,authType:_,redirectUrl:A,v:Ae.SDK_VERSION,eventId:Z};if(m instanceof Ns){m.setDefaultLanguage(b.languageCode),_t.providerId=m.providerId||"",(0,G.xb)(m.getCustomParameters())||(_t.customParameters=JSON.stringify(m.getCustomParameters()));for(const[Pn,Qn]of Object.entries(pe||{}))_t[Pn]=Qn}if(m instanceof Mi){const Pn=m.getScopes().filter(Qn=>""!==Qn);Pn.length>0&&(_t.scopes=Pn.join(","))}b.tenantId&&(_t.tid=b.tenantId);const Yt=_t;for(const Pn of Object.keys(Yt))void 0===Yt[Pn]&&delete Yt[Pn];return`${function ku({config:b}){return b.emulator?pt(b,"emulator/auth/handler"):`https://${b.authDomain}/__/auth/handler`}(b)}?${(0,G.xO)(Yt).slice(1)}`}const _d="webStorageSupport",ba=class Dc{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Xi,this._completeRedirectFn=lr,this._overrideRedirectResult=Ca}_openPopup(m,_,A,Z){var pe=this;return(0,c.Z)(function*(){var _t;le(null===(_t=pe.eventManagers[m._key()])||void 0===_t?void 0:_t.manager,"_initialize() not called before _openPopup()");const Yt=bc(m,_,A,Bt(),Z);return function vd(b,m,_,A=500,Z=600){const pe=Math.max((window.screen.availHeight-Z)/2,0).toString(),_t=Math.max((window.screen.availWidth-A)/2,0).toString();let Yt="";const Pn=Object.assign(Object.assign({},Fo),{width:A.toString(),height:Z.toString(),top:pe,left:_t}),Qn=(0,G.z$)().toLowerCase();_&&(Yt=Ht(Qn)?"_blank":_),ln(Qn)&&(m=m||"http://localhost",Pn.scrollbars="yes");const Pr=Object.entries(Pn).reduce((oo,[Xa,oh])=>`${oo}${Xa}=${oh},`,"");if(function vt(b=(0,G.z$)()){var m;return Te(b)&&!(null===(m=window.navigator)||void 0===m||!m.standalone)}(Qn)&&"_self"!==Yt)return function yd(b,m){const _=document.createElement("a");_.href=b,_.target=m;const A=document.createEvent("MouseEvent");A.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),_.dispatchEvent(A)}(m||"",Yt),new Wo(null);const Dr=window.open(m||"",Yt,Pr);te(Dr,b,"popup-blocked");try{Dr.focus()}catch(oo){}return new Wo(Dr)}(m,Yt,Fs())})()}_openRedirect(m,_,A,Z){var pe=this;return(0,c.Z)(function*(){return yield pe._originValidation(m),function jn(b){mn().location.href=b}(bc(m,_,A,Bt(),Z)),new Promise(()=>{})})()}_initialize(m){const _=m._key();if(this.eventManagers[_]){const{manager:Z,promise:pe}=this.eventManagers[_];return Z?Promise.resolve(Z):(le(pe,"If manager is not set, promise should be"),pe)}const A=this.initAndGetManager(m);return this.eventManagers[_]={promise:A},A.catch(()=>{delete this.eventManagers[_]}),A}initAndGetManager(m){var _=this;return(0,c.Z)(function*(){const A=yield function md(b){return la.apply(this,arguments)}(m),Z=new Ou(m);return A.register("authEvent",pe=>(te(null==pe?void 0:pe.authEvent,m,"invalid-auth-event"),{status:Z.onEvent(pe.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),_.eventManagers[m._key()]={manager:Z},_.iframes[m._key()]=A,Z})()}_isIframeWebStorageSupported(m,_){this.iframes[m._key()].send(_d,{type:_d},Z=>{var pe;const _t=null===(pe=null==Z?void 0:Z[0])||void 0===pe?void 0:pe[_d];void 0!==_t&&_(!!_t),Be(m,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(m){const _=m._key();return this.originValidationPromises[_]||(this.originValidationPromises[_]=function sg(b){return Ff.apply(this,arguments)}(m)),this.originValidationPromises[_]}get _shouldInitProactively(){return nr()||$n()||Te()}};class Zh{constructor(m){this.factorId=m}_process(m,_,A){switch(_.type){case"enroll":return this._finalizeEnroll(m,_.credential,A);case"signin":return this._finalizeSignIn(m,_.credential);default:return Ze("unexpected MultiFactorSessionType")}}}class Sc extends Zh{constructor(m){super("phone"),this.credential=m}static _fromCredential(m){return new Sc(m)}_finalizeEnroll(m,_,A){return function Ui(b,m){return en(b,"POST","/v2/accounts/mfaEnrollment:finalize",Kt(b,m))}(m,{idToken:_,displayName:A,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(m,_){return function dd(b,m){return en(b,"POST","/v2/accounts/mfaSignIn:finalize",Kt(b,m))}(m,{mfaPendingCredential:_,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Ko=(()=>{class b{constructor(){}static assertion(_){return Sc._fromCredential(_)}}return b.FACTOR_ID="phone",b})();var Fu="@firebase/auth";class Ed{constructor(m){this.auth=m,this.internalListeners=new Map}getUid(){var m;return this.assertAuthConfigured(),(null===(m=this.auth.currentUser)||void 0===m?void 0:m.uid)||null}getToken(m){var _=this;return(0,c.Z)(function*(){return _.assertAuthConfigured(),yield _.auth._initializationPromise,_.auth.currentUser?{accessToken:yield _.auth.currentUser.getIdToken(m)}:null})()}addAuthTokenListener(m){if(this.assertAuthConfigured(),this.internalListeners.has(m))return;const _=this.auth.onIdTokenChanged(A=>{m((null==A?void 0:A.stsTokenManager.accessToken)||null)});this.internalListeners.set(m,_),this.updateProactiveRefresh()}removeAuthTokenListener(m){this.assertAuthConfigured();const _=this.internalListeners.get(m);!_||(this.internalListeners.delete(m),_(),this.updateProactiveRefresh())}assertAuthConfigured(){te(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Ao(){return window}function Ac(){return(Ac=(0,c.Z)(function*(b,m,_){var A;const{BuildInfo:Z}=Ao();le(m.sessionId,"AuthEvent did not contain a session ID");const pe=yield th(m.sessionId),_t={};return Te()?_t.ibi=Z.packageName:pn()?_t.apn=Z.packageName:Be(b,"operation-not-supported-in-this-environment"),Z.displayName&&(_t.appDisplayName=Z.displayName),_t.sessionId=pe,bc(b,_,m.type,void 0,null!==(A=m.eventId)&&void 0!==A?A:void 0,_t)})).apply(this,arguments)}function Za(){return(Za=(0,c.Z)(function*(b){const{BuildInfo:m}=Ao(),_={};Te()?_.iosBundleId=m.packageName:pn()?_.androidPackageName=m.packageName:Be(b,"operation-not-supported-in-this-environment"),yield ro(b,_)})).apply(this,arguments)}function Da(){return(Da=(0,c.Z)(function*(b,m,_){const{cordova:A}=Ao();let Z=()=>{};try{yield new Promise((pe,_t)=>{let Yt=null;function Pn(){var Dr;pe();const oo=null===(Dr=A.plugins.browsertab)||void 0===Dr?void 0:Dr.close;"function"==typeof oo&&oo(),"function"==typeof(null==_?void 0:_.close)&&_.close()}function Qn(){Yt||(Yt=window.setTimeout(()=>{_t(Je(b,"redirect-cancelled-by-user"))},2e3))}function Pr(){"visible"===(null==document?void 0:document.visibilityState)&&Qn()}m.addPassiveListener(Pn),document.addEventListener("resume",Qn,!1),pn()&&document.addEventListener("visibilitychange",Pr,!1),Z=()=>{m.removePassiveListener(Pn),document.removeEventListener("resume",Qn,!1),document.removeEventListener("visibilitychange",Pr,!1),Yt&&window.clearTimeout(Yt)}})}finally{Z()}})).apply(this,arguments)}function th(b){return Pa.apply(this,arguments)}function Pa(){return(Pa=(0,c.Z)(function*(b){const m=ca(b),_=yield crypto.subtle.digest("SHA-256",m);return Array.from(new Uint8Array(_)).map(Z=>Z.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function ca(b){if(le(/[0-9a-zA-Z]+/.test(b),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(b);const m=new ArrayBuffer(b.length),_=new Uint8Array(m);for(let A=0;A<b.length;A++)_[A]=b.charCodeAt(A);return _}(0,G.Pz)("authIdTokenMaxAge"),function Lu(b){(0,Ae._registerComponent)(new ve.wA("auth",(m,{options:_})=>{const A=m.getProvider("app").getImmediate(),Z=m.getProvider("heartbeat"),{apiKey:pe,authDomain:_t}=A.options;return((Yt,Pn)=>{te(pe&&!pe.includes(":"),"invalid-api-key",{appName:Yt.name}),te(!(null!=_t&&_t.includes(":")),"argument-error",{appName:Yt.name});const Qn={apiKey:pe,authDomain:_t,clientPlatform:b,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Zr(b)},Pr=new ei(Yt,Pn,Qn);return function Xe(b,m){const _=(null==m?void 0:m.persistence)||[],A=(Array.isArray(_)?_:[_]).map(xe);null!=m&&m.errorMap&&b._updateErrorMap(m.errorMap),b._initializeWithPersistence(A,null==m?void 0:m.popupRedirectResolver)}(Pr,_),Pr})(A,Z)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((m,_,A)=>{m.getProvider("auth-internal").initialize()})),(0,Ae._registerComponent)(new ve.wA("auth-internal",m=>{const _=xr(m.getProvider("auth").getImmediate());return new Ed(_)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,Ae.registerVersion)(Fu,"0.21.3",function vo(b){switch(b){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(b)),(0,Ae.registerVersion)(Fu,"0.21.3","esm2017")}("Browser");class fl extends Ou{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(m=>{this.resolveInialized=m})}addPassiveListener(m){this.passiveListeners.add(m)}removePassiveListener(m){this.passiveListeners.delete(m)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(m){return this.resolveInialized(),this.passiveListeners.forEach(_=>_(m)),super.onEvent(m)}initialized(){var m=this;return(0,c.Z)(function*(){yield m.initPromise})()}}function Uu(b){return Wl.apply(this,arguments)}function Wl(){return(Wl=(0,c.Z)(function*(b){const m=yield gl()._get(Na(b));return m&&(yield gl()._remove(Na(b))),m})).apply(this,arguments)}function pl(){const b=[],m="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let _=0;_<20;_++){const A=Math.floor(Math.random()*m.length);b.push(m.charAt(A))}return b.join("")}function gl(){return xe($r)}function Na(b){return ze("authEvent",b.config.apiKey,b.name)}function Cd(b){if(null==b||!b.includes("?"))return{};const[m,..._]=b.split("?");return(0,G.zd)(_.join("?"))}const pu=class Yl{constructor(){this._redirectPersistence=Xi,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=lr,this._overrideRedirectResult=Ca}_initialize(m){var _=this;return(0,c.Z)(function*(){const A=m._key();let Z=_.eventManagers.get(A);return Z||(Z=new fl(m),_.eventManagers.set(A,Z),_.attachCallbackListeners(m,Z)),Z})()}_openPopup(m){Be(m,"operation-not-supported-in-this-environment")}_openRedirect(m,_,A,Z){var pe=this;return(0,c.Z)(function*(){!function $u(b){var m,_,A,Z,pe,_t,Yt,Pn,Qn,Pr;const Dr=Ao();te("function"==typeof(null===(m=null==Dr?void 0:Dr.universalLinks)||void 0===m?void 0:m.subscribe),b,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),te(typeof(null===(_=null==Dr?void 0:Dr.BuildInfo)||void 0===_?void 0:_.packageName)<"u",b,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),te("function"==typeof(null===(pe=null===(Z=null===(A=null==Dr?void 0:Dr.cordova)||void 0===A?void 0:A.plugins)||void 0===Z?void 0:Z.browsertab)||void 0===pe?void 0:pe.openUrl),b,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),te("function"==typeof(null===(Pn=null===(Yt=null===(_t=null==Dr?void 0:Dr.cordova)||void 0===_t?void 0:_t.plugins)||void 0===Yt?void 0:Yt.browsertab)||void 0===Pn?void 0:Pn.isAvailable),b,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),te("function"==typeof(null===(Pr=null===(Qn=null==Dr?void 0:Dr.cordova)||void 0===Qn?void 0:Qn.InAppBrowser)||void 0===Pr?void 0:Pr.open),b,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(m);const _t=yield pe._initialize(m);yield _t.initialized(),_t.resetRedirect(),function Hl(){Es.clear()}(),yield pe._originValidation(m);const Yt=function Lo(b,m,_=null){return{type:m,eventId:_,urlResponse:null,sessionId:pl(),postBody:null,tenantId:b.tenantId,error:Je(b,"no-auth-event")}}(m,A,Z);yield function Sa(b,m){return gl()._set(Na(b),m)}(m,Yt);const Pn=yield function wd(b,m,_){return Ac.apply(this,arguments)}(m,Yt,_),Qn=yield function Id(b){const{cordova:m}=Ao();return new Promise(_=>{m.plugins.browsertab.isAvailable(A=>{let Z=null;A?m.plugins.browsertab.openUrl(b):Z=m.InAppBrowser.open(b,function ht(b=(0,G.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(b)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(b)}()?"_blank":"_system","location=yes"),_(Z)})})}(Pn);return function eh(b,m,_){return Da.apply(this,arguments)}(m,_t,Qn)})()}_isIframeWebStorageSupported(m,_){throw new Error("Method not implemented.")}_originValidation(m){const _=m._key();return this.originValidationPromises[_]||(this.originValidationPromises[_]=function xc(b){return Za.apply(this,arguments)}(m)),this.originValidationPromises[_]}attachCallbackListeners(m,_){const{universalLinks:A,handleOpenURL:Z,BuildInfo:pe}=Ao(),_t=setTimeout((0,c.Z)(function*(){yield Uu(m),_.onEvent(bd())}),500),Yt=function(){var Pr=(0,c.Z)(function*(Dr){clearTimeout(_t);const oo=yield Uu(m);let Xa=null;oo&&(null==Dr?void 0:Dr.url)&&(Xa=function Ts(b,m){var _,A;const Z=function Kl(b){const m=Cd(b),_=m.link?decodeURIComponent(m.link):void 0,A=Cd(_).link,Z=m.deep_link_id?decodeURIComponent(m.deep_link_id):void 0;return Cd(Z).link||Z||A||_||b}(m);if(Z.includes("/__/auth/callback")){const pe=Cd(Z),_t=pe.firebaseError?function Tl(b){try{return JSON.parse(b)}catch(m){return null}}(decodeURIComponent(pe.firebaseError)):null,Yt=null===(A=null===(_=null==_t?void 0:_t.code)||void 0===_?void 0:_.split("auth/"))||void 0===A?void 0:A[1],Pn=Yt?Je(Yt):null;return Pn?{type:b.type,eventId:b.eventId,tenantId:b.tenantId,error:Pn,urlResponse:null,sessionId:null,postBody:null}:{type:b.type,eventId:b.eventId,tenantId:b.tenantId,sessionId:b.sessionId,urlResponse:Z,postBody:null}}return null}(oo,Dr.url)),_.onEvent(Xa||bd())});return function(oo){return Pr.apply(this,arguments)}}();typeof A<"u"&&"function"==typeof A.subscribe&&A.subscribe(null,Yt);const Pn=Z,Qn=`${pe.packageName.toLowerCase()}://`;Ao().handleOpenURL=function(){var Pr=(0,c.Z)(function*(Dr){if(Dr.toLowerCase().startsWith(Qn)&&Yt({url:Dr}),"function"==typeof Pn)try{Pn(Dr)}catch(oo){console.error(oo)}});return function(Dr){return Pr.apply(this,arguments)}}()}};function bd(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Je("no-auth-event")}}function Al(){var b;return(null===(b=null==self?void 0:self.location)||void 0===b?void 0:b.protocol)||null}function ji(b=(0,G.z$)()){return!("file:"!==Al()&&"ionic:"!==Al()&&"capacitor:"!==Al()||!b.toLowerCase().match(/iphone|ipad|ipod|android/))}function da(){try{const b=self.localStorage,m=Fs();if(b)return b.setItem(m,"1"),b.removeItem(m),!function Xh(b=(0,G.z$)()){return function Mc(){return(0,G.w1)()&&11===(null==document?void 0:document.documentMode)}()||function xl(b=(0,G.z$)()){return/Edge\/\d+/.test(b)}(b)}()||(0,G.hl)()}catch(b){return Xl()&&(0,G.hl)()}return!1}function Xl(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function ju(){return(function so(){return"http:"===Al()||"https:"===Al()}()||(0,G.ru)()||ji())&&!function ag(){return(0,G.b$)()||(0,G.UG)()}()&&da()&&!Xl()}function ih(){return ji()&&typeof document<"u"}function Ql(){return(Ql=(0,c.Z)(function*(){return!!ih()&&new Promise(b=>{const m=setTimeout(()=>{b(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(m),b(!0)})})})).apply(this,arguments)}const fs={LOCAL:"local",NONE:"none",SESSION:"session"},ec=te,qr="persistence";function Ml(b){return Rl.apply(this,arguments)}function Rl(){return(Rl=(0,c.Z)(function*(b){yield b._initializationPromise;const m=Gu(),_=ze(qr,b.config.apiKey,b.name);m&&m.setItem(_,b._getPersistence())})).apply(this,arguments)}function Gu(){var b;try{return(null===(b=function Jl(){return typeof window<"u"?window:null}())||void 0===b?void 0:b.sessionStorage)||null}catch(m){return null}}const Dd=te;class gu{constructor(){this.browserResolver=xe(ba),this.cordovaResolver=xe(pu),this.underlyingResolver=null,this._redirectPersistence=Xi,this._completeRedirectFn=lr,this._overrideRedirectResult=Ca}_initialize(m){var _=this;return(0,c.Z)(function*(){return yield _.selectUnderlyingResolver(),_.assertedUnderlyingResolver._initialize(m)})()}_openPopup(m,_,A,Z){var pe=this;return(0,c.Z)(function*(){return yield pe.selectUnderlyingResolver(),pe.assertedUnderlyingResolver._openPopup(m,_,A,Z)})()}_openRedirect(m,_,A,Z){var pe=this;return(0,c.Z)(function*(){return yield pe.selectUnderlyingResolver(),pe.assertedUnderlyingResolver._openRedirect(m,_,A,Z)})()}_isIframeWebStorageSupported(m,_){this.assertedUnderlyingResolver._isIframeWebStorageSupported(m,_)}_originValidation(m){return this.assertedUnderlyingResolver._originValidation(m)}get _shouldInitProactively(){return ih()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Dd(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var m=this;return(0,c.Z)(function*(){if(m.underlyingResolver)return;const _=yield function Gr(){return Ql.apply(this,arguments)}();m.underlyingResolver=_?m.cordovaResolver:m.browserResolver})()}}function tc(b){return b.unwrap()}function Sd(b){return $f(b)}function $f(b){const{_tokenResponse:m}=b instanceof G.ZR?b.customData:b;if(!m)return null;if(!(b instanceof G.ZR)&&"temporaryProof"in m&&"phoneNumber"in m)return lu.credentialFromResult(b);const _=m.providerId;if(!_||"password"===_)return null;let A;switch(_){case"google.com":A=Pt;break;case"facebook.com":A=Xs;break;case"github.com":A=ms;break;case"twitter.com":A=na;break;default:const{oauthIdToken:Z,oauthAccessToken:pe,oauthTokenSecret:_t,pendingToken:Yt,nonce:Pn}=m;return pe||_t||Z||Yt?Yt?_.startsWith("saml.")?lo._create(_,Yt):It._fromParams({providerId:_,signInMethod:_,pendingToken:Yt,idToken:Z,accessToken:pe}):new Os(_).credential({idToken:Z,accessToken:pe,rawNonce:Pn}):null}return b instanceof G.ZR?A.credentialFromError(b):A.credentialFromResult(b)}function Oa(b,m){return m.catch(_=>{throw _ instanceof G.ZR&&function Pl(b,m){var _;const A=null===(_=m.customData)||void 0===_?void 0:_._tokenResponse;if("auth/multi-factor-auth-required"===(null==m?void 0:m.code))m.resolver=new ml(b,function ys(b,m){var _;const A=(0,G.m9)(b),Z=m;return te(m.customData.operationType,A,"argument-error"),te(null===(_=Z.customData._serverResponse)||void 0===_?void 0:_.mfaPendingCredential,A,"argument-error"),qa._fromError(A,Z)}(b,m));else if(A){const Z=$f(m),pe=m;Z&&(pe.credential=Z,pe.tenantId=A.tenantId||void 0,pe.email=A.email||void 0,pe.phoneNumber=A.phoneNumber||void 0)}}(b,_),_}).then(_=>{const Z=_.user;return{operationType:_.operationType,credential:Sd(_),additionalUserInfo:No(_),user:Ha.getOrCreate(Z)}})}function Vf(b,m){return Qh.apply(this,arguments)}function Qh(){return(Qh=(0,c.Z)(function*(b,m){const _=yield m;return{verificationId:_.verificationId,confirm:A=>Oa(b,_.confirm(A))}})).apply(this,arguments)}class ml{constructor(m,_){this.resolver=_,this.auth=function sh(b){return b.wrapped()}(m)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(m){return Oa(tc(this.auth),this.resolver.resolveSignIn(m))}}class Ha{constructor(m){this._delegate=m,this.multiFactor=function ie(b){const m=(0,G.m9)(b);return B.has(m)||B.set(m,X._fromUser(m)),B.get(m)}(m)}static getOrCreate(m){return Ha.USER_MAP.has(m)||Ha.USER_MAP.set(m,new Ha(m)),Ha.USER_MAP.get(m)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(m){return this._delegate.getIdTokenResult(m)}getIdToken(m){return this._delegate.getIdToken(m)}linkAndRetrieveDataWithCredential(m){return this.linkWithCredential(m)}linkWithCredential(m){var _=this;return(0,c.Z)(function*(){return Oa(_.auth,Bi(_._delegate,m))})()}linkWithPhoneNumber(m,_){var A=this;return(0,c.Z)(function*(){return Vf(A.auth,function js(b,m,_){return Ul.apply(this,arguments)}(A._delegate,m,_))})()}linkWithPopup(m){var _=this;return(0,c.Z)(function*(){return Oa(_.auth,function br(b,m,_){return Er.apply(this,arguments)}(_._delegate,m,gu))})()}linkWithRedirect(m){var _=this;return(0,c.Z)(function*(){return yield Ml(xr(_.auth)),function Dt(b,m,_){return function Lt(b,m,_){return cn.apply(this,arguments)}(b,m,_)}(_._delegate,m,gu)})()}reauthenticateAndRetrieveDataWithCredential(m){return this.reauthenticateWithCredential(m)}reauthenticateWithCredential(m){var _=this;return(0,c.Z)(function*(){return Oa(_.auth,jo(_._delegate,m))})()}reauthenticateWithPhoneNumber(m,_){return Vf(this.auth,function Dl(b,m,_){return Ya.apply(this,arguments)}(this._delegate,m,_))}reauthenticateWithPopup(m){return Oa(this.auth,function wn(b,m,_){return Rn.apply(this,arguments)}(this._delegate,m,gu))}reauthenticateWithRedirect(m){var _=this;return(0,c.Z)(function*(){return yield Ml(xr(_.auth)),function q(b,m,_){return function ue(b,m,_){return Ye.apply(this,arguments)}(b,m,_)}(_._delegate,m,gu)})()}sendEmailVerification(m){return function Po(b,m){return Hs.apply(this,arguments)}(this._delegate,m)}unlink(m){var _=this;return(0,c.Z)(function*(){return yield function Ct(b,m){return Ue.apply(this,arguments)}(_._delegate,m),_})()}updateEmail(m){return function Tu(b,m){return Ma((0,G.m9)(b),m,null)}(this._delegate,m)}updatePassword(m){return function rl(b,m){return Ma((0,G.m9)(b),null,m)}(this._delegate,m)}updatePhoneNumber(m){return function Pu(b,m){return Ia.apply(this,arguments)}(this._delegate,m)}updateProfile(m){return function zo(b,m){return fo.apply(this,arguments)}(this._delegate,m)}verifyBeforeUpdateEmail(m,_){return function ho(b,m,_){return zi.apply(this,arguments)}(this._delegate,m,_)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Ha.USER_MAP=new WeakMap;const Nl=te;let bs=(()=>{class b{constructor(_,A){if(this.app=_,A.isInitialized())return this._delegate=A.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:Z}=_.options;Nl(Z,"invalid-api-key",{appName:_.name}),Nl(Z,"invalid-api-key",{appName:_.name});const pe=typeof window<"u"?gu:void 0;this._delegate=A.initialize({options:{persistence:Jh(Z,_.name),popupRedirectResolver:pe}}),this._delegate._updateErrorMap(je),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Ha.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(_){this._delegate.languageCode=_}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(_){this._delegate.tenantId=_}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(_,A){!function ss(b,m,_){const A=xr(b);te(A._canInitEmulator,A,"emulator-config-failed"),te(/^https?:\/\//.test(m),A,"invalid-emulator-scheme");const Z=!(null==_||!_.disableWarnings),pe=ti(m),{host:_t,port:Yt}=function ps(b){const m=ti(b),_=/(\/\/)?([^?#/]+)/.exec(b.substr(m.length));if(!_)return{host:"",port:null};const A=_[2].split("@").pop()||"",Z=/^(\[[^\]]+\])(:|$)/.exec(A);if(Z){const pe=Z[1];return{host:pe,port:mr(A.substr(pe.length+1))}}{const[pe,_t]=A.split(":");return{host:pe,port:mr(_t)}}}(m);A.config.emulator={url:`${pe}//${_t}${null===Yt?"":`:${Yt}`}/`},A.settings.appVerificationDisabledForTesting=!0,A.emulatorConfig=Object.freeze({host:_t,port:Yt,protocol:pe.replace(":",""),options:Object.freeze({disableWarnings:Z})}),Z||function gi(){function b(){const m=document.createElement("p"),_=m.style;m.innerText="Running in emulator mode. Do not use with production credentials.",_.position="fixed",_.width="100%",_.backgroundColor="#ffffff",_.border=".1em solid #000000",_.color="#b50000",_.bottom="0px",_.left="0px",_.margin="0px",_.zIndex="10000",_.textAlign="center",m.classList.add("firebase-emulator-warning"),document.body.appendChild(m)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",b):b())}()}(this._delegate,_,A)}applyActionCode(_){return function Nt(b,m){return Cn.apply(this,arguments)}(this._delegate,_)}checkActionCode(_){return Fn(this._delegate,_)}confirmPasswordReset(_,A){return function H(b,m,_){return re.apply(this,arguments)}(this._delegate,_,A)}createUserWithEmailAndPassword(_,A){var Z=this;return(0,c.Z)(function*(){return Oa(Z._delegate,function ur(b,m,_){return os.apply(this,arguments)}(Z._delegate,_,A))})()}fetchProvidersForEmail(_){return this.fetchSignInMethodsForEmail(_)}fetchSignInMethodsForEmail(_){return function Ws(b,m){return ks.apply(this,arguments)}(this._delegate,_)}isSignInWithEmailLink(_){return function oe(b,m){const _=Ir.parseLink(m);return"EMAIL_SIGNIN"===(null==_?void 0:_.operation)}(0,_)}getRedirectResult(){var _=this;return(0,c.Z)(function*(){Nl(ju(),_._delegate,"operation-not-supported-in-this-environment");const A=yield function Kn(b,m){return dr.apply(this,arguments)}(_._delegate,gu);return A?Oa(_._delegate,Promise.resolve(A)):{credential:null,user:null}})()}addFrameworkForLogging(_){!function Ta(b,m){xr(b)._logFramework(m)}(this._delegate,_)}onAuthStateChanged(_,A,Z){const{next:pe,error:_t,complete:Yt}=Nc(_,A,Z);return this._delegate.onAuthStateChanged(pe,_t,Yt)}onIdTokenChanged(_,A,Z){const{next:pe,error:_t,complete:Yt}=Nc(_,A,Z);return this._delegate.onIdTokenChanged(pe,_t,Yt)}sendSignInLinkToEmail(_,A){return function k(b,m,_){return F.apply(this,arguments)}(this._delegate,_,A)}sendPasswordResetEmail(_,A){return function K(b,m,_){return C.apply(this,arguments)}(this._delegate,_,A||void 0)}setPersistence(_){var A=this;return(0,c.Z)(function*(){let Z;switch(function Rc(b,m){ec(Object.values(fs).includes(m),b,"invalid-persistence-type"),(0,G.b$)()?ec(m!==fs.SESSION,b,"unsupported-persistence-type"):(0,G.UG)()?ec(m===fs.NONE,b,"unsupported-persistence-type"):Xl()?ec(m===fs.NONE||m===fs.LOCAL&&(0,G.hl)(),b,"unsupported-persistence-type"):ec(m===fs.NONE||da(),b,"unsupported-persistence-type")}(A._delegate,_),_){case fs.SESSION:Z=Xi;break;case fs.LOCAL:Z=(yield xe(mo)._isAvailable())?mo:$r;break;case fs.NONE:Z=De;break;default:return Be("argument-error",{appName:A._delegate.name})}return A._delegate.setPersistence(Z)})()}signInAndRetrieveDataWithCredential(_){return this.signInWithCredential(_)}signInAnonymously(){return Oa(this._delegate,function co(b){return $o.apply(this,arguments)}(this._delegate))}signInWithCredential(_){return Oa(this._delegate,di(this._delegate,_))}signInWithCustomToken(_){return Oa(this._delegate,function eo(b,m){return Yi.apply(this,arguments)}(this._delegate,_))}signInWithEmailAndPassword(_,A){return Oa(this._delegate,function L(b,m,_){return di((0,G.m9)(b),Mo.credential(m,_))}(this._delegate,_,A))}signInWithEmailLink(_,A){return Oa(this._delegate,function Mt(b,m,_){return Ln.apply(this,arguments)}(this._delegate,_,A))}signInWithPhoneNumber(_,A){return Vf(this._delegate,function pi(b,m,_){return ko.apply(this,arguments)}(this._delegate,_,A))}signInWithPopup(_){var A=this;return(0,c.Z)(function*(){return Nl(ju(),A._delegate,"operation-not-supported-in-this-environment"),Oa(A._delegate,function ot(b,m,_){return kt.apply(this,arguments)}(A._delegate,_,gu))})()}signInWithRedirect(_){var A=this;return(0,c.Z)(function*(){return Nl(ju(),A._delegate,"operation-not-supported-in-this-environment"),yield Ml(A._delegate),function Ic(b,m,_){return function Nu(b,m,_){return U.apply(this,arguments)}(b,m,_)}(A._delegate,_,gu)})()}updateCurrentUser(_){return this._delegate.updateCurrentUser(_)}verifyPasswordResetCode(_){return function Br(b,m){return ri.apply(this,arguments)}(this._delegate,_)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return b.Persistence=fs,b})();function Nc(b,m,_){let A=b;"function"!=typeof b&&({next:A,error:m,complete:_}=b);const Z=A;return{next:_t=>Z(_t&&Ha.getOrCreate(_t)),error:m,complete:_}}function Jh(b,m){const _=function Pc(b,m){const _=Gu();if(!_)return[];const A=ze(qr,b,m);switch(_.getItem(A)){case fs.NONE:return[De];case fs.LOCAL:return[mo,Xi];case fs.SESSION:return[Xi];default:return[]}}(b,m);if(typeof self<"u"&&!_.includes(mo)&&_.push(mo),typeof window<"u")for(const A of[$r,Xi])_.includes(A)||_.push(A);return _.includes(De)||_.push(De),_}class Ol{constructor(){this.providerId="phone",this._delegate=new lu(tc(J.Z.auth()))}static credential(m,_){return lu.credential(m,_)}verifyPhoneNumber(m,_){return this._delegate.verifyPhoneNumber(m,_)}unwrap(){return this._delegate}}Ol.PHONE_SIGN_IN_METHOD=lu.PHONE_SIGN_IN_METHOD,Ol.PROVIDER_ID=lu.PROVIDER_ID;const Zo=te;class zu{constructor(m,_,A=J.Z.app()){var Z;Zo(null===(Z=A.options)||void 0===Z?void 0:Z.apiKey,"invalid-api-key",{appName:A.name}),this._delegate=new Do(m,_,A.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function Oc(b){b.INTERNAL.registerComponent(new ve.wA("auth-compat",m=>{const _=m.getProvider("app-compat").getImmediate(),A=m.getProvider("auth");return new bs(_,A)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:Mo,FacebookAuthProvider:Xs,GithubAuthProvider:ms,GoogleAuthProvider:Pt,OAuthProvider:Os,SAMLAuthProvider:xs,PhoneAuthProvider:Ol,PhoneMultiFactorGenerator:Ko,RecaptchaVerifier:zu,TwitterAuthProvider:na,Auth:bs,AuthCredential:Fi,Error:G.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),b.registerVersion("@firebase/auth-compat","0.3.3")}(J.Z)},8766:(Jt,it,V)=>{"use strict";V.d(it,{Lj:()=>Be,X3:()=>He});var c=V(5861);let G,Ae;const ve=new WeakMap,Pe=new WeakMap,Ne=new WeakMap,we=new WeakMap,he=new WeakMap;let We={get(te,Ze,le){if(te instanceof IDBTransaction){if("done"===Ze)return Pe.get(te);if("objectStoreNames"===Ze)return te.objectStoreNames||Ne.get(te);if("store"===Ze)return le.objectStoreNames[1]?void 0:le.objectStore(le.objectStoreNames[0])}return Ce(te[Ze])},set:(te,Ze,le)=>(te[Ze]=le,!0),has:(te,Ze)=>te instanceof IDBTransaction&&("done"===Ze||"store"===Ze)||Ze in te};function Se(te){return"function"==typeof te?function Et(te){return te!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function ke(){return Ae||(Ae=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(te)?function(...Ze){return te.apply(fe(this),Ze),Ce(ve.get(this))}:function(...Ze){return Ce(te.apply(fe(this),Ze))}:function(Ze,...le){const ye=te.call(fe(this),Ze,...le);return Ne.set(ye,Ze.sort?Ze.sort():[Ze]),Ce(ye)}}(te):(te instanceof IDBTransaction&&function Re(te){if(Pe.has(te))return;const Ze=new Promise((le,ye)=>{const xe=()=>{te.removeEventListener("complete",Me),te.removeEventListener("error",Xe),te.removeEventListener("abort",Xe)},Me=()=>{le(),xe()},Xe=()=>{ye(te.error||new DOMException("AbortError","AbortError")),xe()};te.addEventListener("complete",Me),te.addEventListener("error",Xe),te.addEventListener("abort",Xe)});Pe.set(te,Ze)}(te),((te,Ze)=>Ze.some(le=>te instanceof le))(te,function _e(){return G||(G=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(te,We):te)}function Ce(te){if(te instanceof IDBRequest)return function me(te){const Ze=new Promise((le,ye)=>{const xe=()=>{te.removeEventListener("success",Me),te.removeEventListener("error",Xe)},Me=()=>{le(Ce(te.result)),xe()},Xe=()=>{ye(te.error),xe()};te.addEventListener("success",Me),te.addEventListener("error",Xe)});return Ze.then(le=>{le instanceof IDBCursor&&ve.set(le,te)}).catch(()=>{}),he.set(Ze,te),Ze}(te);if(we.has(te))return we.get(te);const Ze=Se(te);return Ze!==te&&(we.set(te,Ze),he.set(Ze,te)),Ze}const fe=te=>he.get(te);function He(te,Ze,{blocked:le,upgrade:ye,blocking:xe,terminated:Me}={}){const Xe=indexedDB.open(te,Ze),Bt=Ce(Xe);return ye&&Xe.addEventListener("upgradeneeded",on=>{ye(Ce(Xe.result),on.oldVersion,on.newVersion,Ce(Xe.transaction))}),le&&Xe.addEventListener("blocked",()=>le()),Bt.then(on=>{Me&&on.addEventListener("close",()=>Me()),xe&&on.addEventListener("versionchange",()=>xe())}).catch(()=>{}),Bt}function Be(te,{blocked:Ze}={}){const le=indexedDB.deleteDatabase(te);return Ze&&le.addEventListener("blocked",()=>Ze()),Ce(le).then(()=>{})}const Je=["get","getKey","getAll","getAllKeys","count"],Qe=["put","add","delete","clear"],Ve=new Map;function Ge(te,Ze){if(!(te instanceof IDBDatabase)||Ze in te||"string"!=typeof Ze)return;if(Ve.get(Ze))return Ve.get(Ze);const le=Ze.replace(/FromIndex$/,""),ye=Ze!==le,xe=Qe.includes(le);if(!(le in(ye?IDBIndex:IDBObjectStore).prototype)||!xe&&!Je.includes(le))return;const Me=function(){var Xe=(0,c.Z)(function*(Bt,...on){const Rt=this.transaction(Bt,xe?"readwrite":"readonly");let bt=Rt.store;return ye&&(bt=bt.index(on.shift())),(yield Promise.all([bt[le](...on),xe&&Rt.done]))[0]});return function(on){return Xe.apply(this,arguments)}}();return Ve.set(Ze,Me),Me}!function je(te){We=te(We)}(te=>({...te,get:(Ze,le,ye)=>Ge(Ze,le)||te.get(Ze,le,ye),has:(Ze,le)=>!!Ge(Ze,le)||te.has(Ze,le)}))},5861:(Jt,it,V)=>{"use strict";function c(G,Ae,_e,ke,ve,Pe,Ne){try{var we=G[Pe](Ne),he=we.value}catch(me){return void _e(me)}we.done?Ae(he):Promise.resolve(he).then(ke,ve)}function J(G){return function(){var Ae=this,_e=arguments;return new Promise(function(ke,ve){var Pe=G.apply(Ae,_e);function Ne(he){c(Pe,ke,ve,Ne,we,"next",he)}function we(he){c(Pe,ke,ve,Ne,we,"throw",he)}Ne(void 0)})}}V.d(it,{Z:()=>J})}},Jt=>{var it=c=>Jt(Jt.s=c);it(310),it(1826)}]);